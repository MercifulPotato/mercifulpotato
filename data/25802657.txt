Item(by='the8472', descendants=None, kids=None, score=None, time=1610809853, title=None, item_type='comment', url=None, parent=25796960, text='data=writeback does not disable the journal completely. It only removes ordering of the data writes relative to the metadata journaling. The metadata journaling itself remains active.<p>You can create the file, preallocate space, fsync the inode <i>and</i> the directory to ensure that it will be visible after a crash and then begin using the allocated space as a journal. Then you only have to fdatasync or sync_file_range whatever part of your journal needs to be persisted and those syncs can now be unordered relative to the filesystem&#x27;s metadata journal without risk of data loss.<p>So data=writeback can be used safely, but you have to be very very careful about getting the syscall sequence right. Most applications implemented with sufficient paranoia and so are better served by stricter ordering modes and auto_da_alloc.')