Item(by='tsimionescu', descendants=None, kids=None, score=None, time=1608071331, title=None, item_type='comment', url=None, parent=25419740, text='I wonder what the point of the first optimization in this specific case was. Why is LLVM replacing iq with ip in the body? I&#x27;m not questioning why it should be allowed to, but I don&#x27;t understand why it would do it in this particular case.<p>I also don&#x27;t understand why that optimization is necessary to surface the problem.<p>If we simply had a program that was doing<p><pre><code>  char p[1], q[1] = {0};\n  uintptr_t ip = (uintptr_t)(p+1);\n  *(char*)ip = 10;\n  print(q[0]);\n</code></pre>\nWouldn&#x27;t applying just optimizations 2 and 3 on this code surface the same bug as discussed in the article?')