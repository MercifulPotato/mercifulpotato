Item(by='jeff-davis', descendants=None, kids=[24961526, 24961545, 24961481], score=None, time=1604255909, title=None, item_type='comment', url=None, parent=24960334, text='That thread brings up per-container memory allocators, and mentions Vec. What&#x27;s going on there?<p>I have been trying to find a good way to deal with hybrid memory&#x2F;disk structures. One example is external sort, but there are a whole class of such structures used for databases (Hash Join, Hash Aggregation, etc.). The idea is to constrain the memory footprint of a structure and efficiently use the disk.<p>One challenge is simlly knowing how much memory is being used. Another is supporting multiple heaps&#x2F;arenas&#x2F;whatever and allocating in the right one. And a third is safely clearing parts of the structure that have been written to disk for later processing (I guess calling the destructors if necessary?).<p>Is there any work in this area?')