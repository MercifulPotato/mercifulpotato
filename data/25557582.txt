Item(by='jart', descendants=None, kids=[25558311], score=None, time=1609142973, title=None, item_type='comment', url=None, parent=25557513, text='Cosmopolitan uses the stable WIN32 API on Windows. The word ABI is used loosely in this context. It&#x27;s somewhat accurate since Cosmopolitan still configures the assembler to generate the binary linkage by hand. NTDLL APIs are only used on rare occasions, such as sched_yield(). When it is used, it&#x27;s used in accordance with Microsoft&#x27;s recommendations: namely having fallback. It&#x27;d be great if we were authorized to use the SYSCALL instruction on Windows, however we have to respect Microsoft&#x27;s recommendations if we want long-term stability promises.<p>Mac however is a different story. One of the reasons Apple came back is they adopted the UNIX interface. They literally copied the magic numbers right out of the UNIX codebase. They shouldn&#x27;t have the right to stand on the shoulders of giants, pull an about face, and then declare it their own internal API. Apple actually broke every single Go application a few years ago by doing that, and I&#x27;m astounded that Google didn&#x27;t do more to push back. We need to give Apple as much feedback as possible about keeping the SYSCALL interface stable. It&#x27;s the right thing to do.')