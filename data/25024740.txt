Item(by='yoz-y', descendants=None, kids=None, score=None, time=1604831793, title=None, item_type='comment', url=None, parent=25024566, text='I can try. -ne modifiers are just to say to execute the script on every line of input. The body that will be executed in pseudo code is<p><pre><code>    while get_input:\n      if rand() &lt; 1 &#x2F; current_line_number:  # $. contains the line number of input\n        l := current_line_content  # $_ always contains &quot;what you want&quot;, in this case the current line\n\n    # when using -n flat you can use BEGIN {} and END {} blocks\n    # to execute code before and after the loop\n    print(l)\n</code></pre>\nNow, as to why the random selection works, this is a simplified version of Reservoir Sampling[1]<p>[1]: <a href="https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Reservoir_sampling" rel="nofollow">https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Reservoir_sampling</a>')