Item(by='shoo', descendants=None, kids=None, score=None, time=1611431570, title=None, item_type='comment', url=None, parent=25881911, text='See also: sublime HQ blog about complexities of shipping a desktop application using mmap [1] and corresponding 200+ comment HN thread [2]:<p>&gt; When we implemented the git portion of Sublime Merge, we chose to use mmap for reading git object files. This turned out to be considerably more difficult than we had first thought. Using mmap in desktop applications has some serious caveats [...]<p>&gt; you can rewrite your code to not use memory mapping. Instead of passing around a long lived pointer into a memory mapped file all around the codebase, you can use functions such as pread to copy only the portions of the file that you require into memory. This is less elegant initially than using mmap, but it avoids all the problems you&#x27;re otherwise going to have.<p>&gt; Through some quick benchmarks for the way Sublime Merge reads git object files, pread was around â…” as fast as mmap on linux. In hindsight it&#x27;s difficult to justify using mmap over pread, but now the beast has been tamed and there&#x27;s little reason to change any more.<p>[1] <a href="https:&#x2F;&#x2F;www.sublimetext.com&#x2F;blog&#x2F;articles&#x2F;use-mmap-with-care" rel="nofollow">https:&#x2F;&#x2F;www.sublimetext.com&#x2F;blog&#x2F;articles&#x2F;use-mmap-with-care</a>\n[2] <a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=19805675" rel="nofollow">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=19805675</a>')