Item(by='simias', descendants=None, kids=[25037880, 25040167], score=None, time=1604926919, title=None, item_type='comment', url=None, parent=25030014, text='&gt;I keep coming back to the idea that you should let the user decide. And optimizing on UB by default is always the wrong thing.<p>Aren&#x27;t you contradicting yourself here?<p>And I do think that some UB optimizations make a lot of sense. Actually if you look at the way Rust does it, it gets rid of many UBs not by adding checks for them but by explicitly forbidding the UB condition to occur in safe code (therefore &quot;optimizing on UB&quot; by enforcing that the UB condition cannot happen in correct code, not by adding checks for it and slowing things down). That&#x27;s why for instance pointer arithmetic is unsafe in Rust, since arbitrary pointer offsets can lead to UB.<p>Although I agree that there are a few C UBs that I think ought to be relaxed because they don&#x27;t make a lot of sense for modern architectures though (signed overflow being the main one).')