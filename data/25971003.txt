Item(by='vasilvv', descendants=None, kids=[25972575], score=None, time=1612028006, title=None, item_type='comment', url=None, parent=25970509, text='(I work for Google, opinions my own)<p>For YouTube, the CPU cost of QUIC is comparable to TCP, though we did spent years optimizing it.  [0] has a nice deep dive.<p>Other CDN vendors like Fastly seem to have the similar experience [1].<p>I believe sendmmsg combined with UDP GSO (as discussed, for instance, in [2]) has solved most of the problems that were caused by the absence of features like TSO.  From what I understand, most of the benefit of TSO comes not from the hardware acceleration, but rather from the fact that it processes multiple packet as one for most of the transmission code path, meaning that all per-packet operations are only invoked once per chunk (as opposed to once per individual IP packet sent).<p>[0] <a href="https:&#x2F;&#x2F;atscaleconference.com&#x2F;videos&#x2F;networking-scale-2019-improving-quic-cpu-performance&#x2F;" rel="nofollow">https:&#x2F;&#x2F;atscaleconference.com&#x2F;videos&#x2F;networking-scale-2019-i...</a><p>[1] <a href="https:&#x2F;&#x2F;www.fastly.com&#x2F;blog&#x2F;measuring-quic-vs-tcp-computational-efficiency" rel="nofollow">https:&#x2F;&#x2F;www.fastly.com&#x2F;blog&#x2F;measuring-quic-vs-tcp-computatio...</a><p>[2] <a href="https:&#x2F;&#x2F;blog.cloudflare.com&#x2F;accelerating-udp-packet-transmission-for-quic&#x2F;" rel="nofollow">https:&#x2F;&#x2F;blog.cloudflare.com&#x2F;accelerating-udp-packet-transmis...</a>')