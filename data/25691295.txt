Item(by='carapace', descendants=None, kids=None, score=None, time=1610144536, title=None, item_type='comment', url=None, parent=25683420, text='I did a fun thing with Sympy for Advent of Code 2017 December 3rd, here&#x27;s a Jupyter notebook if anyone&#x27;s interested: <a href="https:&#x2F;&#x2F;osdn.net&#x2F;projects&#x2F;joypy&#x2F;scm&#x2F;hg&#x2F;Joypy&#x2F;blobs&#x2F;tip&#x2F;docs&#x2F;Advent_of_Code_2017_December_3rd.ipynb" rel="nofollow">https:&#x2F;&#x2F;osdn.net&#x2F;projects&#x2F;joypy&#x2F;scm&#x2F;hg&#x2F;Joypy&#x2F;blobs&#x2F;tip&#x2F;docs&#x2F;...</a><p>The puzzle involves a weird &quot;spiral&quot; RAM:<p>&gt; You come across an experimental new kind of memory stored on an\ninfinite two-dimensional grid.<p>&gt; Each square on the grid is allocated in a spiral pattern starting at a\nlocation marked 1 and then counting up while spiraling outward.<p>The problem is to compute &quot;the Manhattan Distance between the location of\nthe data and square 1&quot; for any given square.<p>While working on this I came up with the following equation:<p><pre><code>    from sympy import floor, lambdify, solve, symbols\n\n    k = symbols(&#x27;k&#x27;)\n\n    E = 2 + 8 * k * (k + 1) &#x2F; 2\n</code></pre>\nSympy figures out that this reduces to E = 4k(k + 1) + 2<p>I needed a function to solve for k given some n...  Sympy can do that.  Take a new symbol `n`, subtract it from the equation `E`, 0 = 4k(k + 1) + 2 - n and solve for `k`.  There are two solutions because the equation is quadratic so it has two roots.<p><pre><code>    n = symbols(&#x27;n&#x27;)\n\n    g, f = solve(E - n, k)\n    \n</code></pre>\nIn the context of the puzzle we only care about the larger root:<p><pre><code>    (sqrt(n - 1) &#x2F; 2 - 0.5) + 1\n</code></pre>\nFor reasons, I need to take the <i>floor</i> and add 1.  Then Sympy can <i>lambdify</i> it and create a fast Python function to compute `k`, given `n`:<p><pre><code>    F = lambdify(n, floor(f) + 1)\n\n    for n in (9, 10, 25, 26, 49, 50):\n        print(n, int(F(n)))\n\n    9 1\n    10 2\n    25 2\n    26 3\n    49 3\n    50 4\n</code></pre>\nI&#x27;m sorry that it&#x27;s hard to follow, I&#x27;m just excited to share how cool it\nwas to let the computer do the symbolic math for me.')