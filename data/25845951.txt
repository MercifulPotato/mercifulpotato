Item(by='astrange', descendants=None, kids=None, score=None, time=1611148093, title=None, item_type='comment', url=None, parent=25836612, text='&gt; It is indefinitely hard to port code developed on x86 to a more relaxed memory model, so the overwhelming majority of such codes will never be ported.<p>Most code should just work, maybe with some tsan testing. There&#x27;s other ways to test for nondeterminism e.g. sleep the different threads randomly.<p>It helps if you have a real end to end testsuite; for some reason all the developers I&#x27;ve met lately think unit tests are the only kind of tests.')