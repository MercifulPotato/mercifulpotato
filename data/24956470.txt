Item(by='chrisseaton', descendants=None, kids=None, score=None, time=1604191816, title=None, item_type='comment', url=None, parent=24956427, text='I don&#x27;t think ERB literally does +, I think it does &lt;&lt;, which is exactly the same as the string buffer thing you&#x27;re suggesting.<p>But doesn&#x27;t appending to a string buffer still mean copying a lot of bytes as you build up the final string?<p>In ropes you don&#x27;t need to copy anything, you just create a little node of a couple of words to remember that two strings were joined. Yeah there&#x27;s non-locality and things like that, but most people are building up strings not reading them. Then you write out the final string - and we have system calls like writev that work with ropes.<p>Finally, remember that if your string is created and used within a single compilation unit remember that rope nodes with disappear with escape-analysis and scalar-replacement-of-aggregates. Helps operations on strings fold and become constant.')