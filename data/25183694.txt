Item(by='jiggawatts', descendants=None, kids=[25194119], score=None, time=1606107073, title=None, item_type='comment', url=None, parent=25179116, text='A lot of people are saying that function coloring is essentially an unsolved problem, and this is <i>true</i>. However, coloring of individual functions is not strictly speaking necessary.<p>Think of the classic &quot;zlib&quot; style C libraries. Often they can&#x27;t assume <i>anything</i> about the target platform, even basic stuff like memory allocation or I&#x2F;O, because there&#x27;s such a huge variety compilers, standard libraries, and restrictions.<p>So just about every such library exports an &quot;API context&quot; struct, full of function pointers. These then allow the caller to pass in implementations for malloc, free, threading, I&#x2F;O, etc...<p>The trick is that these can have <i>default</i> implementations. So the function pointer in the context for allocation can simply point to &quot;malloc()&quot;. This can of course be overriden, so the capability is there, but the caller need not do anything by default.<p>Features like logging and tracing can be similarly sent through to default implementations that do nothing or call standard APIs in some naive (but sufficient) way.')