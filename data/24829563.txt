Item(by='alkonaut', descendants=None, kids=[24831437, 24832964], score=None, time=1603133391, title=None, item_type='comment', url=None, parent=24828509, text='Diffs are still pretty bad at preserving context, especially the “greedy” diff algorithm that assumes that files are identical for as long as possible instead of preserving as much context around the change as possible (if the diff is equally large. This has the familiar effect where you add a method under an existing method and they both have the same documentation header prefix line such as &#x2F;<i></i>, then the diff will make a mess of it and not see your added method as a single chunk of text.<p>Instead of a regex per file type perhaps a better diff tool could actually diff the parsed code (if possible) and produce a more sensible diff <i>and</i> context?')