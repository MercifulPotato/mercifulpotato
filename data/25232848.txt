Item(by='josephg', descendants=None, kids=None, score=None, time=1606513626, title=None, item_type='comment', url=None, parent=25224517, text='Huh? Kqueue is nice, but I don&#x27;t think you&#x27;ll get anywhere near the performance of io_uring out of kqueue:<p>- kqueue only tells you there&#x27;s data to read (&#x2F;space in the write buffer). You still need to call read() or write(), including paying the cost of the syscall. io_uring lets you batch a lot of read&#x2F;write calls together and either issue a single syscall to the kernel for all calls, or have the kernel poll and never syscall at all.<p>- kqueue doesn&#x27;t let you issue fsync, or any of the other syscalls now in io_uring. fsync is essential on the write path for correctness in lots of cases, and for that you still need to dispatch to a local thread pool or something.<p>So yeah, I prefer kqueue over linux&#x27;s epoll. But io_uring seems like the new king.')