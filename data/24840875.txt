Item(by='spacedome', descendants=None, kids=None, score=None, time=1603219190, title=None, item_type='comment', url=None, parent=24840769, text='I found this approach to work well for linear systems, here is some rough code I used for the representation map (note the jmag&#x2F;kmag functions are part of my implementation, not sure what the equivalent is for Quaternions.jl).<p><pre><code>  function cmatrix(Q::AbstractVecOrMat{Quaternion{T}}) where {T}\n      [complex.( real.(Q),  imag.(Q)) complex.( jmag.(Q), kmag.(Q));\n       complex.(-jmag.(Q),  kmag.(Q)) complex.( real.(Q), -imag.(Q))]\n  end\n\n  function qmatrix(C::AbstractMatrix{Complex{T}}) where {T}\n      n, m = size(C)\n      quat.(C[1:n÷2, 1:m÷2], C[1:n÷2, m÷2+1:m])\n  end</code></pre>')