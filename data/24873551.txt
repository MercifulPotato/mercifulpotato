Item(by='l0b0', descendants=None, kids=[24874872, 24874447], score=None, time=1603484194, title=None, item_type='comment', url=None, parent=24871762, text='There are some good ideas in here, but `--qsn` is described[1] like this:<p>&gt; Print filenames ONE PER LINE.  If a name contains a newline or other special char, it&#x27;s QSN-encoded like &#x27;multi-line \\n name with NUL \\0 byte&#x27;<p>This is a bad idea. There is a solution which <i>already works.</i> Just terminate every filename with NUL and you&#x27;re done. Trying to make something &quot;sorta kinda human readable&quot; is a mistake when dealing with what is effectively arbitrary byte sequences which can contain anything except for NUL. Consistency makes the consuming code much simpler.<p>That said, QSN is a great idea for <i>human input.</i><p>[1] <a href="https:&#x2F;&#x2F;www.oilshell.org&#x2F;blog&#x2F;2020&#x2F;10&#x2F;osh-features.html#safe-processing-of-user-supplied-data-like-filenames" rel="nofollow">https:&#x2F;&#x2F;www.oilshell.org&#x2F;blog&#x2F;2020&#x2F;10&#x2F;osh-features.html#safe...</a>')