Item(by='rectang', descendants=None, kids=[24840691], score=None, time=1603215886, title=None, item_type='comment', url=None, parent=24839743, text='Routines that manipulate UTF-8 strings can produce unsafe results on invalid UTF-8.  For example, finding the end of a string may place you into invalid memory if there are missing trailing bytes.<p>To achieve safety, one option is to use routines that always assume that the data they are operating on may be invalid â€” but such routines are always slow, because they are essentially validating the UTF-8 data continually.<p>Therefore, what most systems do is establish the validity of UTF-8 data as an invariant by running a sanity check <i>once</i> before supplying the data to unsafe-but-fast internal  routines.  And that&#x27;s where validators like the one described in this article come in.')