Item(by='nbm', descendants=None, kids=None, score=None, time=1603321006, title=None, item_type='comment', url=None, parent=24852313, text='TCP has an explicit client and server (some caveats here).  The userspace API for TCP requires you to do a connect, which does the TCP handshake in the TCP stack, before you can send traffic.<p>For UDP, you just specify the destination IP and port, and send packets.<p>For TCP, new incoming SYNs to most (S)NAT addresses will just get dropped - especially CGNAT - making it impossible to communicate in that direction.  If you&#x27;re both in that situation (really common, actually), you just can&#x27;t talk to each other.<p>For UDP, the packets will also get dropped on the receiver side.  However, the act of sending the packet will often cause the originator&#x27;s side&#x27;s NAT to  register that five-tuple (source and destination IP and port + UDP proto), which would allow the other side to reply.  If both sides do this with the same IP&#x2F;port pairs, then magically they can communicate - some of the time, at least.  There&#x27;s a lot more involved (for example, how do you know your own external IP address behind NAT?) - read up on STUN - <a href="https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;STUN" rel="nofollow">https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;STUN</a> - for more details.')