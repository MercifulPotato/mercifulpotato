Item(by='Rangi42', descendants=None, kids=[25325548], score=None, time=1607272796, title=None, item_type='comment', url=None, parent=25314126, text='With C++17&#x27;s compile-time conditionals, plus good old C preprocessor macros, you could do this:<p><pre><code>    #define MATCH_VARIANT(x) [](auto&amp; x)\n    #define CASE_VARIANT(x, T) constexpr (std::is_same_v&lt;std::decay_t&lt;decltype(x)&gt;, T&gt;)\n    \n    MATCH_VARIANT(arg) {\n        if CASE_VARIANT(arg, string) {\n            printf(&quot;string: %s\\n&quot;, arg.c_str());\n            &#x2F;&#x2F; ...\n        }\n        else if CASE_VARIANT(arg, int) {\n            printf(&quot;integer: %d\\n&quot;, arg);\n            &#x2F;&#x2F; ...\n        }\n        else if CASE_VARIANT(arg, bool) {\n            printf(&quot;bool: %d\\n&quot;, arg);\n            &#x2F;&#x2F; ...\n        }\n    }\n</code></pre>\n(MATCH_VARIANT could be extended to allow capturing vairables, or just omit that macro, it saves less typing than CASE_VARIANT anyway.)')