Item(by='sergeykish', descendants=None, kids=[24743033], score=None, time=1602347693, title=None, item_type='comment', url=None, parent=24739684, text='<p><pre><code>    # create table y (i int, d int);\n    # insert into y values (1, 1), (1, 2), (2, 1);\n    # select *, (select count(*) from (select count(y.i), y.d from y group by y.d) _) as foo\n      from (select count(y.i), y.d from y group by y.d) _ ;\n    \n     count | d | foo \n    -------+---+-----\n         1 | 2 |   2\n         2 | 1 |   2\n    (2 rows)\n    </code></pre>\nBy the way great example how unwieldy SQL is. A bit better with CTE:<p><pre><code>    # with bar as (select count(y.i), y.d from y group by y.d)\n      select *, (select count(*) from bar) as bar from foo;</code></pre>')