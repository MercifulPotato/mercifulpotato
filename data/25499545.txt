Item(by='danabramov', descendants=None, kids=[25499647], score=None, time=1608584822, title=None, item_type='comment', url=None, parent=25499455, text='We did experiment with some pretty aggressive compilation approaches a few years ago (see Prepack). Ironically our conclusion from this (which informed Server Components design) is that you <i>don&#x27;t</i> want this to be done automatically. Because then you don&#x27;t have precise control and confidence over what gets shipped to the client and what gets shipped to the server. One compiler bailout, and the difference in the bundle is huge. So you&#x27;d want to add a way to enforce things, and now we&#x27;re back to manual annotations.<p>(We did have a prototype that does this, though.)')