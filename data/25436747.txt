Item(by='5Qn8mNbc2FNCiVV', descendants=None, kids=None, score=None, time=1608074338, title=None, item_type='comment', url=None, parent=25435042, text='The thing that I usually do is work tightly with the frontend and extract out all queries that I would be sending to my backend and whitelist only those.<p>F.e. when we knew that we are going to have a big spike because of a feature in the news, we checked the cost of our queries and heavily optimized and added a cache just for those queries that are costing us the most in front of our backend (based on the query string). This enabled us scaling up from 2000 concurrent users to half a million (the difference is only that big because we were super badly unoptimized before and also the near infinite limit of Cloudflare workers)<p>It&#x27;s definitely harder when you have bigger different teams interacting with a single central GraphQL api. My rule for that is that there needs to be a gateway that handles exactly that for every service&#x2F;team&#x2F;whatever. Not custom coded by every team because this 100% gets mismanaged. Instead it should be just a container image managed by the same team that handles the GraphQL api and configured by the consuming team via an env var or a file containing all the queries needed.')