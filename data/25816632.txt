Item(by='comex', descendants=None, kids=None, score=None, time=1610928163, title=None, item_type='comment', url=None, parent=25810639, text='Apple devices (both Mac and iOS) use something in between those two approaches.  To oversimplify a bit, they store a record on disk that contains the full-disk encryption key, encrypted with the user account password on macOS, or passcode on iOS.  So the password serves as <i>both</i> an OS authentication mechanism and the equivalent of a BitLocker password.<p>As a result, it&#x27;s not vulnerable to this type of attack: even if you get code execution on the login screen, you can&#x27;t decrypt the user&#x27;s data without their password.  (If there are multiple users, any user&#x27;s password will work.)<p>Traditionally, this meant that if you enabled FileVault on Mac, the first login screen you&#x27;d see when booting was actually part of the EFI firmware rather than the OS itself.  It couldn&#x27;t boot the OS until it knew some user&#x27;s password in order to decrypt the main partition.  On iOS, and on macOS as of Big Sur, the immutable OS is separated from user data, so the login screen is part of the OS proper.<p>Caveats:<p>- On macOS, this only protects the <i>first</i> login screen.  Once you log in, the key stays in memory until the system shuts down, even if you log out or change users.  On iOS, some files are like that, but other files are encrypted under a different key which is thrown away whenever the device is locked. [1] Hopefully that comes to macOS in the future.<p>- If you&#x27;re using a weak password, such as the default six-digit passcodes on iOS (there&#x27;s an option to use a stronger password), it would be trivial to brute force the password, so security effectively degrades to what you call the second approach.  The security coprocessor will limit the maximum number of attempts, so attacks like this one won&#x27;t work, but if you compromise the coprocessor then it&#x27;s game over.  And people have.<p>[1] <a href="https:&#x2F;&#x2F;support.apple.com&#x2F;guide&#x2F;security&#x2F;data-protection-classes-secb010e978a&#x2F;1&#x2F;web&#x2F;1" rel="nofollow">https:&#x2F;&#x2F;support.apple.com&#x2F;guide&#x2F;security&#x2F;data-protection-cla...</a>')