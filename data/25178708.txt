Item(by='btrask', descendants=None, kids=[25179404, 25178848, 25178929], score=None, time=1606062628, title=None, item_type='comment', url=None, parent=25176531, text='Here&#x27;s a trick that will actually help produce more secure and reliable programs.<p><pre><code>    *outArg = myPtr; myPtr = NULL;\n    free(aPtr); aPtr = NULL;\n</code></pre>\nSet your pointers to null when you free them! Set them to null when you transfer ownership! Stop leaving dangling pointers everywhere!<p>Some people say they <i>like</i> dangling pointers because they want their program to crash if something is freed when they don&#x27;t expect it to be. Good! Do this:<p><pre><code>    assert(ptr);\n</code></pre>\nThere are also many more tricks you can do once you start nulling pointers. You can use const to mark pointers that you don&#x27;t own and thus can&#x27;t free. You can check that buffers are all zero before you free them to catch memory leaks (this requires zeroing out other fields too of course).<p>Please, null out your pointers and stop writing (most) use-after-free bugs!')