Item(by='corytheboyd', descendants=None, kids=None, score=None, time=1604977571, title=None, item_type='comment', url=None, parent=25041888, text='I recently wrote some of the type of code that you would be upset to read, so maybe someone can sympathize with this a bit.<p>The task at hand wasnâ€™t easy at all, it required both:<p>1. Making numerous network requests (some endpoints support batching, so do that as much as possible)\n2. The entire main loop needs to be as fast as reasonably possible<p>The only real way to satisfy both, given that serially executing the network activity would waste tons of time, was some fairly tricky concurrent logic. I ended up using a few queue structures to collect day before making batch network calls, and stitching together all of the results at the end (block on all work threads, collect, report, then start next iteration)<p>Every step along the way made sense, every addition of complexity felt justified. And the first person to come to me asking how the fuck it got so complicated is frustrated, so my knee jerk reaction is to get frustrated back saying well how else could we satisfy complex requirements with a complex solution.<p>We should always be challenging ourselves and others to keep solutions simple, but remember that the simplest solution may itself still be complex.')