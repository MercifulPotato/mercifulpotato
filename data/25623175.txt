Item(by='ptx', descendants=None, kids=None, score=None, time=1609694678, title=None, item_type='comment', url=None, parent=25610879, text='&gt; For reasons known only to the almighty gods, set -e that usually causes an exit on a failed command, doesn&#x27;t work that way inside functions.<p>I was somewhat alarmed for a second there, but at least on bash (version 5.1.4) &quot;set -e&quot; definitely <i>does</i> work inside functions. It doesn&#x27;t work in pipes though - you&#x27;ll also need &quot;set -o pipefail&quot; for that.<p>Busybox also seems to include awk. Would that have been a slightly less terrible choice of implementation language, or even worse?')