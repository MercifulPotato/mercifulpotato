Item(by='knz42', descendants=None, kids=None, score=None, time=1608222717, title=None, item_type='comment', url=None, parent=25457065, text='You need to integrate transaction coordination with replication to ensure that the replication respects transaction atomicity (so that cross-shard queries get all their reads and writes isolated from each other, and rolled back atomically when a txn is aborted).<p>So separating the layers like you do is only possible if there is an XA protocol between the layers. Neither K8s nor Ceph support that.')