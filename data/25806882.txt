Item(by='jrockway', descendants=None, kids=[25807312], score=None, time=1610843205, title=None, item_type='comment', url=None, parent=25806602, text='I don&#x27;t think it&#x27;s the worst thing in the world if you test your http.Handler implementation:<p><pre><code>   w := httptest.NewRecorder()\n   req := httptest.NewRequest(&quot;GET&quot;, &quot;&#x2F;foo&quot;, nil)\n   ServeHTTP(w, req)\n   if got, want := w.Code, http.StatusOK; got != want {\n      t.Errorf(&quot;get &#x2F;foo: status:\\n  got: %v\\n want: %v&quot;, got, want)\n   }\n   if got, want := w.Body.String(), &quot;it worked&quot;; got != want {  \n      t.Errorf(&quot;get &#x2F;foo: body:\\n  got: %v\\n want: %v&quot;, got, want)\n   }\n</code></pre>\nIt leaves very little to the imagination as to whether or not ServeHTTP works, which is nice.<p>Complexity comes from generating requests and parsing the responses, and that is what leads to the desire to factor things out -- test the functions with their native data types instead of http.Request and http.Response.  I think most people choose to factor things out to make that possible, but in the simplest of simple cases, many people just use httptest.  It gets the job done.')