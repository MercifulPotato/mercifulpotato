Item(by='patrec', descendants=None, kids=[24917043], score=None, time=1603872414, title=None, item_type='comment', url=None, parent=24914861, text='&gt; What you wrote is true, but it also seems to me unlikely that the OP is going to set up a sandboxed hermetic build to process a handful of pngs for her zine.<p>But it&#x27;s trivial!<p>Assuming you fix the OP&#x27;s Makefile (so much for Makefile syntax usability):<p><pre><code>     # put into Makefile\n     THINGS_TO_CONVERT := $(wildcard *.svg)\n     all: $(patsubst %.pdf,%.svg,$(THINGS_TO_CONVERT))\n          inkscape $&lt; --export-text-to-path --export-pdf=$@\n\n     # put into default.nix\n     with import (fetchTarball &quot;https:&#x2F;&#x2F;github.com&#x2F;NixOS&#x2F;nixpkgs&#x2F;archive&#x2F;7ad5e816faba3f808e2a8815b14d0f023a4e2160.tar.gz&quot;) {};\n     stdenv.mkDerivation {\n      name = &quot;zine-images&quot;;\n      src = .&#x2F;.;\n      buildInputs = [ inkscape ];\n      installPhase = &quot;mkdir $out &amp;&amp; cp *.pdf $out&quot;;\n    }\n</code></pre>\nNow make sure you have sandbox=true in &#x2F;etc&#x2F;nix.conf, run `nix build` in the directory, and boom done: hermetic build of zine images. Good thing too, I got a warning about --export-pdf being deprecated when I ran this. Note that running make or the dependency on make is not explicitly specified, mkDerivation has some basic smarts to figure out from the presence of a Makefile that it should run make.<p>(Hardcoding the version of nixpkgs directly into the default.nix just for demo purposes, better to use niv or similar to manage a json file with versions for you).')