Item(by='Measter', descendants=None, kids=None, score=None, time=1611247598, title=None, item_type='comment', url=None, parent=25858453, text='Rust is a bit notorious for its string-related complexity, and that&#x27;s for the reasons you talked about.<p>The most common form of string you&#x27;ll see is `String`[0], or its view type `str`[1], which are UTF-8 encoded. These have most of the string functions you&#x27;d expect to have.<p>Of course, as you mentioned, operating systems don&#x27;t all use UTF-8, which brings us to `OsString`[2], and its view type `OsStr`[3]. This is the data type that string data from the OS is represented as. Both are basically bundles of bytes, with no specific encoding. You&#x27;ll note that these are in the FFI namespace.<p>You then have `PathBuf`[4] and its view type `Path`[5], which are wrappers around `OsString` and `OsStr` respectively, and provide path-specific functionality.<p>All the file system related APIs take anything that implements `AsRef&lt;Path&gt;`, which is runtime-cost-free for all of these types. There&#x27;s not many functions that take an `OsStr`, but those that do take it in the form `AsRef&lt;OsStr&gt;`, which like `Path` is runtime-cost-free for all these types. None of the APIs take `PathBuf` or `OsString`.<p>Return values are typically `PathBuf` for file system APIs, and `OsString` for other APIs. The only exceptions I know of are the functions for getting environment variables and command line arguments, which also provide functions that return `String` because a common use case would be converting them anyway.<p>[0] <a href="https:&#x2F;&#x2F;doc.rust-lang.org&#x2F;std&#x2F;string&#x2F;struct.String.html" rel="nofollow">https:&#x2F;&#x2F;doc.rust-lang.org&#x2F;std&#x2F;string&#x2F;struct.String.html</a><p>[1] <a href="https:&#x2F;&#x2F;doc.rust-lang.org&#x2F;std&#x2F;primitive.str.html" rel="nofollow">https:&#x2F;&#x2F;doc.rust-lang.org&#x2F;std&#x2F;primitive.str.html</a><p>[2] <a href="https:&#x2F;&#x2F;doc.rust-lang.org&#x2F;std&#x2F;ffi&#x2F;struct.OsString.html" rel="nofollow">https:&#x2F;&#x2F;doc.rust-lang.org&#x2F;std&#x2F;ffi&#x2F;struct.OsString.html</a><p>[3] <a href="https:&#x2F;&#x2F;doc.rust-lang.org&#x2F;std&#x2F;ffi&#x2F;struct.OsStr.html" rel="nofollow">https:&#x2F;&#x2F;doc.rust-lang.org&#x2F;std&#x2F;ffi&#x2F;struct.OsStr.html</a><p>[4] <a href="https:&#x2F;&#x2F;doc.rust-lang.org&#x2F;std&#x2F;path&#x2F;struct.PathBuf.html" rel="nofollow">https:&#x2F;&#x2F;doc.rust-lang.org&#x2F;std&#x2F;path&#x2F;struct.PathBuf.html</a><p>[5] <a href="https:&#x2F;&#x2F;doc.rust-lang.org&#x2F;std&#x2F;path&#x2F;struct.Path.html" rel="nofollow">https:&#x2F;&#x2F;doc.rust-lang.org&#x2F;std&#x2F;path&#x2F;struct.Path.html</a>')