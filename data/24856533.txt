Item(by='chrismorgan', descendants=None, kids=[24856693, 24856583], score=None, time=1603362216, title=None, item_type='comment', url=None, parent=24856353, text='HTTP&#x2F;2 over cleartext uses an HTTP&#x2F;1.1 Upgrade header field, yes, so that it’s an extra request. But HTTP&#x2F;2 over TLS can use application-layer protocol negotiation (ALPN) so that the HTTP&#x2F;2 negotiation piggybacks on the TLS handshake: the TLS ClientHello includes “I speak h2”, and the ServerHello response includes “OK, let’s do h2”.<p>HTTP&#x2F;3 negotiation I’m not certain about. Its existence can be broadcast with an Alt-Svc header on an HTTP <i>response</i>, but that means that the browser won’t use HTTP&#x2F;3 for the first request. I <i>think</i> that might be what browsers are doing now (rather than racing TCP and UDP). But I think the direction things are heading is to optionally advertise this stuff over DNS as well, which would allow browsers to go straight to HTTP&#x2F;3 if the relevant DNS records say it’s OK to: <a href="https:&#x2F;&#x2F;blog.cloudflare.com&#x2F;speeding-up-https-and-http-3-negotiation-with-dns&#x2F;" rel="nofollow">https:&#x2F;&#x2F;blog.cloudflare.com&#x2F;speeding-up-https-and-http-3-neg...</a>.')