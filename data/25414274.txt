Item(by='lloeki', descendants=None, kids=None, score=None, time=1607928897, title=None, item_type='comment', url=None, parent=25411735, text='I don’t think you even need to write, I have this shortcut[0]:<p><pre><code>    nmap &lt;leader&gt;d :w !diff -u % -&lt;CR&gt;\n</code></pre>\nIt writes the buffer’s content to diff’s stdin, and diff gets passed the filename (hence the current on disk content) to compare vs stdin (hence the current buffer content).<p>Only I wish it were run automatically by vim in aforementioned cases before whining (case a: recover, run the above, if no diff stop complaining; case b: rewind til last save, run the above, if no diff then replay and save without complaining)<p>[0]: <a href="https:&#x2F;&#x2F;github.com&#x2F;lloeki&#x2F;vimfiles&#x2F;blob&#x2F;9c50f3be60e536518beb5d80637691c2207bf1ab&#x2F;vimrc#L124" rel="nofollow">https:&#x2F;&#x2F;github.com&#x2F;lloeki&#x2F;vimfiles&#x2F;blob&#x2F;9c50f3be60e536518beb...</a>')