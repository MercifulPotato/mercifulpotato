Item(by='mhh__', descendants=None, kids=None, score=None, time=1610502075, title=None, item_type='comment', url=None, parent=25756270, text='Having an AST that maps (nearly?) 1:1 to the source code is important for debug info and doing proper error messages, so doing this at the AST and writing it back out is going to be much easier to test (prove, even).<p>The &quot;source&quot;-level rewriting tool is going to build some kind of code and data structure that... parses and performs semantic analysis of the code.<p>Also, if x-x gets turned into zero by the <i>parser</i> just scrap the project and bring out the firing squad.')