Item(by='wcrichton', descendants=None, kids=[24690359, 24692386, 24690855], score=None, time=1601919139, title=None, item_type='comment', url=None, parent=24688233, text='Hi, author of the code here. Why do I use mem::transmute? To highlight the fact that when using typestate, it&#x27;s useful to understand operations that change the the <i>value</i> of an object as distinct from those that change the <i>type</i> of an object. It&#x27;s also a matter of efficiency -- you don&#x27;t have to generate a new struct every time you change state.<p>You can avoid the overhead without transmute, but it&#x27;s still unsafe and not easily explained: <a href="https:&#x2F;&#x2F;github.com&#x2F;Munksgaard&#x2F;session-types&#x2F;commit&#x2F;3a310d205cec567bed719d526d4a03c49825d583#diff-b4aea3e418ccdb71239b96952d9cddb6R200" rel="nofollow">https:&#x2F;&#x2F;github.com&#x2F;Munksgaard&#x2F;session-types&#x2F;commit&#x2F;3a310d205...</a>')