Item(by='Someone', descendants=None, kids=None, score=None, time=1609614657, title=None, item_type='comment', url=None, parent=25615095, text='“A write should either happen entirely or not at all.”<p>I think many modern file systems try really hard to make that true, but I don’t think you can count on it. “man write” (<a href="https:&#x2F;&#x2F;man7.org&#x2F;linux&#x2F;man-pages&#x2F;man2&#x2F;write.2.html" rel="nofollow">https:&#x2F;&#x2F;man7.org&#x2F;linux&#x2F;man-pages&#x2F;man2&#x2F;write.2.html</a>) still says:<p>“Note that a successful write() may transfer fewer than count bytes”<p>It also says<p>“A successful return from write() does not make any guarantee that data has been committed to disk.  On some filesystems, including NFS, it does not even guarantee that space has successfully been reserved for the data”<p>That should be handled by calling <i>fsync</i>, but of course, if that fails, there’s not a lot you can do (even if you exactly know what happened) (<a href="https:&#x2F;&#x2F;research.cs.wisc.edu&#x2F;adsl&#x2F;Publications&#x2F;atc20-cuttlefs.pdf" rel="nofollow">https:&#x2F;&#x2F;research.cs.wisc.edu&#x2F;adsl&#x2F;Publications&#x2F;atc20-cuttlef...</a>)<p>I also don’t think calling data loss due to writes that do not make it to disk “file system corruption” is correct. For file system corruption, the file system data structures have to be overwritten (e.g. the boot record or directory data structures)')