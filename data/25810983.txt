Item(by='eliben', descendants=None, kids=None, score=None, time=1610894605, title=None, item_type='comment', url=None, parent=25805579, text='Thank you for the detailed comment!<p>Just want to address (1) quickly. As you&#x27;ve mentioned at the end of the parenthesized note, the reason I did not use `defer` here is to avoid the lock staying across the rest of the handler. I wanted to confine it to the datastore interaction.<p>Thinking more about this now and having read the comments, I&#x27;m considering to just hide the lock in TaskStore and avoid all these explicit locks&#x2F;unlocks in handlers; it seems like it will avoid some confusion for folks reading the example (as well as quite a few lines of code!), and my goal here is really the HTTP server logic. I prefer to deflect any attention from TaskStore in this series of posts.')