Item(by='jeffbee', descendants=None, kids=[25703241], score=None, time=1610217652, title=None, item_type='comment', url=None, parent=25702918, text='You&#x27;d have to have a static analysis of which syscalls can transitively reach which functions, which is probably not possible because linux uses tables of function pointers for many purposes. Also if thread 1 enters the kernel, suspends waiting for some i&#x2F;o, and the kernel switches to thread 2, how would it know it needed to restore thread 2&#x27;s registers because of AVX activity of thread 1? And if it did how would it have known to save them?')