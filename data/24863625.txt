Item(by='samprotas', descendants=None, kids=[24866210], score=None, time=1603403073, title=None, item_type='comment', url=None, parent=24863202, text='Protobuf supports &quot;oneof&quot; which is also cumbersome to implement in these same languages but all of them support it (with some extra LOC and no exhaustiveness checking watching your back).<p>Java&#x2F;Go&#x2F;C++ are perfectly capable of parsing a &quot;type&quot; key and conditionally parsing different shaped data. If you make a programming mistake here, you&#x27;ll get a parse error (bad, but not a security problem). The pushback seems to be that a Java&#x2F;Go&#x2F;C++ implementation adds LOCS and won&#x27;t gain much by doing this extra step so lets make the protocol itself match match their (less precise) data representation.<p>FWIW there is work towards improving Java in this regard:\n<a href="https:&#x2F;&#x2F;cr.openjdk.java.net&#x2F;~briangoetz&#x2F;amber&#x2F;pattern-match.html" rel="nofollow">https:&#x2F;&#x2F;cr.openjdk.java.net&#x2F;~briangoetz&#x2F;amber&#x2F;pattern-match....</a>')