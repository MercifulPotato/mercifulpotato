Item(by='tgragnato', descendants=None, kids=[25871648], score=None, time=1611318326, title=None, item_type='comment', url=None, parent=25856071, text='If you do not want to mange a full featured web server, you can also replace nginx with haproxy.<p>global<p><pre><code>  master-worker\n\n</code></pre>\nprogram fcgiwrap<p><pre><code>  command &#x2F;usr&#x2F;sbin&#x2F;fcgiwrap -c &lt;preforks&gt; -f -s tcp:127.0.0.1:8080\n\n  user www-data\n\n  group www-data\n\n</code></pre>\nfrontend<p><pre><code>  ...\n</code></pre>\nbackend cgit<p><pre><code>  use-fcgi-app cgit\n\n  server fcgiwrap 127.0.0.1:8080 proto fcgi check\n\n</code></pre>\nfcgi-app cgit<p><pre><code>  log-stderr global\n\n  option keep-conn\n\n  docroot &lt;path&gt;\n\n  set-param SCRIPT_FILENAME &#x2F;usr&#x2F;lib&#x2F;cgit&#x2F;cgit.cgi\n\n  set-param PATH_INFO %[path]\n\n  set-param QUERY_STRING %[query]\n\n  set-param HTTP_HOST %[hdr(host)]</code></pre>')