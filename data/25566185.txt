Item(by='kllrnohj', descendants=None, kids=None, score=None, time=1609210047, title=None, item_type='comment', url=None, parent=25563867, text='<a href="http:&#x2F;&#x2F;www.open-std.org&#x2F;jtc1&#x2F;sc22&#x2F;wg21&#x2F;docs&#x2F;papers&#x2F;2015&#x2F;p0078r0.pdf" rel="nofollow">http:&#x2F;&#x2F;www.open-std.org&#x2F;jtc1&#x2F;sc22&#x2F;wg21&#x2F;docs&#x2F;papers&#x2F;2015&#x2F;p007...</a><p>It&#x27;s been proposed already. One of the issues with the proposal that jumps out to me is that it wants memory allocation to be not allowed in a pure function. Which is both fair &amp; not. That means no collections,  more or less, as you can&#x27;t allocate the return value.<p>But if you allow memory allocations, then you go down the rabbit hole of well <i>whose</i> memory allocations are allowed? Only `new`? What about `malloc`? Or a custom allocator? If custom allocators are allowed, do they need a `mutable` keyword equivalent but for pure functions, where it&#x27;s internally not-pure but is allowed to be used from a pure function?<p>But it looks like there was no follow-up proposal. `constexpr` isn&#x27;t <i>too</i> far off from a [[pure]] specifier, though.')