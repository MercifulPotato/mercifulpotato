Item(by='lostcolony', descendants=None, kids=None, score=None, time=1611871995, title=None, item_type='comment', url=None, parent=25946147, text='You&#x27;ve never worked with a generator before? That&#x27;s a stateful function. For throwing after a file handle is closed, something like -<p><pre><code>  const read = (fileHandle) =&gt; {\n     return () =&gt; {\n       if io:isOpen(fileHandle) &amp;&amp; io:hasNext(fileHandle) =&gt; {\n          return io:readNext(fileHandle)\n       } else if io:isOpen(fileHandle) {return undefined\n       } else {throw &quot;File is closed&quot;}\n     } \n  }(myFile)\n\n  read()\n  read()\n  io:close(myFile)\n  read() &#x2F;&#x2F;throws</code></pre>')