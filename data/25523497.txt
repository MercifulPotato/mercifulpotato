Item(by='Matthias247', descendants=None, kids=None, score=None, time=1608766140, title=None, item_type='comment', url=None, parent=25523407, text='Yup, building libraries on IO traits which then are implemented by the particular runtimes is a good way to have a runtime agnostic library. Ideally the IO traits are defined in the library itself, to make them not again dependent on another moving target. You can provide implementations of the &quot;glue code&quot; for particular runtimes in separate crates to ease integration for users.<p>Another way to be runtime agnostic is to start a particular runtime as part of your library, which is used internally. The public interface of your library can provide async functions which are agonstic to a particular runtime, since all actions will be deferred&#x2F;forwarded to an internal runtime. That approach has a bit more overhead, but can ease usage.')