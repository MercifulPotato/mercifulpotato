Item(by='bzbarsky', descendants=None, kids=[25438843, 25438919, 25438860], score=None, time=1608087546, title=None, item_type='comment', url=None, parent=25435247, text='What Mozilla is implementing here, I suspect, is RFC 6761 section 6.3 item 3, which says:<p><pre><code>  Name resolution APIs and libraries SHOULD recognize\n  localhost names as special and SHOULD always return\n  the IP loopback address for address queries and\n  negative responses for all other query types.  Name\n  resolution APIs SHOULD NOT send queries for localhost\n  names to their configured caching DNS server(s).\n</code></pre>\nA few notes:<p>1) The use of &quot;the IP loopback address&quot; is a bit weird in IPv4, of course.<p>2) It&#x27;s hard to know which loopback address to return from an API without violating the &quot;SHOULD NOT&quot; part of this item.<p>There&#x27;s really no way to win here.  In theory Firefox could do the resolution as normal and then if it doesn&#x27;t come back as loopback replace it with 127.0.0.1.  That would be perfectly within the letter of the RFC, since none of the stuff above it MUST-level requirements, but probably not really within its spirit, since it would violate the &quot;SHOULD NOT&quot; bit.<p>Note that Firefox is not alone here; Chrome has the same behavior last I checked.  <a href="https:&#x2F;&#x2F;bugzilla.mozilla.org&#x2F;show_bug.cgi?id=1220810#c28" rel="nofollow">https:&#x2F;&#x2F;bugzilla.mozilla.org&#x2F;show_bug.cgi?id=1220810#c28</a> is a comment from one of the networking&#x2F;security folks at Chrome about this precise issue, in case it&#x27;s of interest.')