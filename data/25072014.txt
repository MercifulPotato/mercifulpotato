Item(by='speedgoose', descendants=None, kids=[25072663], score=None, time=1605201450, title=None, item_type='comment', url=None, parent=25071813, text='You need a sandbox but I don&#x27;t think web-browser sandboxes are designed for your use case, when the web application doesn&#x27;t trust its own code.<p>Considering the constraints I would experiment with a virtual machine. It can use your own set of instructions, like high level domain specific instructions in a json, or something lower level like a simple assembly.<p>You could use qemu in WebAssembly in a webworker and hope for no vm escape hack. Or a lua interpreter implemented in javascript.')