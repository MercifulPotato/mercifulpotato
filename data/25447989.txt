Item(by='lock-free', descendants=None, kids=[25448568], score=None, time=1608149948, title=None, item_type='comment', url=None, parent=25446745, text='You&#x27;re going to have to define &quot;definition&quot; a bit because it&#x27;s unclear what your goals are.<p>In general what it sounds like you&#x27;re talking about is a class of nonlinear processes called &quot;dynamics processing&quot; (common examples are automatic gain correction (AGC), compression, expansion, the compressor-expander (compander)). All have been in production use since the least the 1940s. It&#x27;s built into your cellphone and also those default sound effects they put in crappy TVs.<p>Your algorithm as described (convolution with a rect in time == multiplication by sinc in frequency) would be a pretty terrible sounding filter, and would cause some gnarly phasing sound effects to the signal. A linear filter will not solve this problem directly.<p>What you want to do is extract the <i>envelope</i> of the signal, which can be done using the Hilbert Transform (1), which is an example of a class of algorithms called envelope followers (2).<p>After extracting the envelope from the signal you can use it to compute a gain to apply to the signal (this is how dynamics processing works). It&#x27;s not a magic bullet, and dynamics processing is <i>undesirable</i> in high fidelity reproduction. Its used in telephones to compensate for the godawful dynamic range, as an effect in recording or production to add balance within a mix, in conferencing applications to make up for poor mic&#x27;ing conditions, and in protection circuitry. You do not want to add more than necesssary, as a general rule.<p>(1) <a href="https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Hilbert_transform" rel="nofollow">https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Hilbert_transform</a><p>(2) <a href="https:&#x2F;&#x2F;www.dsprelated.com&#x2F;showarticle&#x2F;938.php" rel="nofollow">https:&#x2F;&#x2F;www.dsprelated.com&#x2F;showarticle&#x2F;938.php</a>')