Item(by='acemarke', descendants=None, kids=None, score=None, time=1603478171, title=None, item_type='comment', url=None, parent=24871997, text='FWIW, I recently tried a branch where I migrated our existing repo from Yarn v1 to v2.<p>The immediate issues I ran into were lack of Yarn v2 support for some features critical for internal enterprise usage: no support for the `strictSsl` &#x2F; `caFile` config options from NPM &#x2F; Yarn v1, and an inability to read lockfile URLs that were pointing to an internal NexusRepository instance for proxying NPM package installation.<p>Both issues were resolved very quickly by the Yarn team.  I then ran into a problem where the post-install build steps could not run in a locked-down corporate security environment, and that issue was also addressed very quickly, with the Yarn team putting up a PR that tried different process launching approaches and iterating until one worked for me.<p>Having sorted out those issues, I was able to move on to actually following the steps in the Yarn v2 migration guide [0].  The steps worked basically as advertised.  The `@yarnpkg&#x2F;doctor` tool identified several places where we were relying on imports that hadn&#x27;t been strictly declared, so I fixed those.  Starting up the app caused some thrown errors as other non-declared imports were hit, so I kept iterating on fixing those.<p>I also used the `@yarnpkg&#x2F;pnpify --vscode` option to generate some kind of settings file for VS Code, and added the suggested &quot;zip file system&quot; extension to VS Code.  That allowed me to right-click a library TS type, &quot;Go to Definition&quot;, and show a file that was still packed in a package tarball.<p>I had to switch off to other tasks and haven&#x27;t had time to go back and finish trying out the migration.  But, parts of our codebase were running correctly, and it looked like I just needed to finish out the process of checking for any remaining non-declared dependencies.<p>Can&#x27;t vouch for how this would work out in production or a larger build setup, but things looked promising overall.<p>[0] <a href="https:&#x2F;&#x2F;yarnpkg.com&#x2F;advanced&#x2F;migration" rel="nofollow">https:&#x2F;&#x2F;yarnpkg.com&#x2F;advanced&#x2F;migration</a>')