Item(by='nostrademons', descendants=None, kids=[25523368], score=None, time=1608764879, title=None, item_type='comment', url=None, parent=25522937, text='They&#x27;re not really the same: you know that an async function may potentially suspend and have other code run before its completion, while a normal function (in the absence of threads and signals) is guaranteed to run atomically, at least as far as your process&#x27;s memory space is concerned.  You also know that the only points at which an async function may suspend are an &#x27;await&#x27; statement, and so data invariants that don&#x27;t cross await statements or other async function calls can be reasoned about as if you had purely sequential code.<p>That&#x27;s precisely the coloring that makes async useful.  Without it you need to explicitly protect all shared data with mutexes or other synchronization primitives.  40+ years of threaded programming has shown that programmers cannot generally be trusted to get this right, and this in an area ripe with bugs.')