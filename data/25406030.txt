Item(by='drothlis', descendants=None, kids=[25406385], score=None, time=1607861365, title=None, item_type='comment', url=None, parent=25405785, text='I believe many (most?) opencv &amp; numpy operations release the GIL.<p>Good point about OpenCV&#x27;s in-place operations. Sometimes it&#x27;s tricky&#x2F;impossible to do that in numpy if you need to implement something that OpenCV doesn&#x27;t provide. For example the C code that I linked in my previous comment, we wrote as an optimization of OpenCV&#x27;s `matchTemplate` when the inputs meet a specific condition (that both input images are the same size). In C we do the multiplications as we iterate over the images and we maintain a rolling sum in a single variable. In numpy you can&#x27;t really do this, you have to multiply the whole array and then sum the result.<p>For 720p images our C implementation[1] was 100x faster than our numpy implementation[2], and 10x faster than numba[3].<p>[1]: <a href="https:&#x2F;&#x2F;github.com&#x2F;stb-tester&#x2F;stb-tester&#x2F;blob&#x2F;v32&#x2F;_stbt&#x2F;sqdiff.c" rel="nofollow">https:&#x2F;&#x2F;github.com&#x2F;stb-tester&#x2F;stb-tester&#x2F;blob&#x2F;v32&#x2F;_stbt&#x2F;sqdi...</a><p>[2]: <a href="https:&#x2F;&#x2F;github.com&#x2F;stb-tester&#x2F;stb-tester&#x2F;pull&#x2F;566&#x2F;files#diff-1de54433cec43681b40f20f3393e8629004d4a3b22f7d04814b9799734f293dbR75-R83" rel="nofollow">https:&#x2F;&#x2F;github.com&#x2F;stb-tester&#x2F;stb-tester&#x2F;pull&#x2F;566&#x2F;files#diff...</a><p>[3]: <a href="https:&#x2F;&#x2F;github.com&#x2F;stb-tester&#x2F;stb-tester&#x2F;pull&#x2F;566&#x2F;files#diff-1de54433cec43681b40f20f3393e8629004d4a3b22f7d04814b9799734f293dbR143-R180" rel="nofollow">https:&#x2F;&#x2F;github.com&#x2F;stb-tester&#x2F;stb-tester&#x2F;pull&#x2F;566&#x2F;files#diff...</a>')