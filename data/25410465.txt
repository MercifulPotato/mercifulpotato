Item(by='drothlis', descendants=None, kids=[25411384], score=None, time=1607894914, title=None, item_type='comment', url=None, parent=25406385, text='I don&#x27;t know much about Python&#x27;s C API, but this is the line in the OpenCV Python bindings that drops the GIL:\n<a href="https:&#x2F;&#x2F;github.com&#x2F;opencv&#x2F;opencv&#x2F;blob&#x2F;4.5.0&#x2F;modules&#x2F;python&#x2F;src2&#x2F;cv2.cpp#L123" rel="nofollow">https:&#x2F;&#x2F;github.com&#x2F;opencv&#x2F;opencv&#x2F;blob&#x2F;4.5.0&#x2F;modules&#x2F;python&#x2F;s...</a><p>(see <a href="https:&#x2F;&#x2F;docs.python.org&#x2F;3&#x2F;c-api&#x2F;init.html#releasing-the-gil-from-extension-code" rel="nofollow">https:&#x2F;&#x2F;docs.python.org&#x2F;3&#x2F;c-api&#x2F;init.html#releasing-the-gil-...</a> in the Python C API manual).<p>That&#x27;s only called from the ERRWRAP2 macro here:\n<a href="https:&#x2F;&#x2F;github.com&#x2F;opencv&#x2F;opencv&#x2F;blob&#x2F;4.5.0&#x2F;modules&#x2F;python&#x2F;src2&#x2F;cv2.cpp#L158" rel="nofollow">https:&#x2F;&#x2F;github.com&#x2F;opencv&#x2F;opencv&#x2F;blob&#x2F;4.5.0&#x2F;modules&#x2F;python&#x2F;s...</a><p>That macro, in turn, is called from gen_template_func_body in gen2.py:\n<a href="https:&#x2F;&#x2F;github.com&#x2F;opencv&#x2F;opencv&#x2F;blob&#x2F;4.5.0&#x2F;modules&#x2F;python&#x2F;src2&#x2F;gen2.py" rel="nofollow">https:&#x2F;&#x2F;github.com&#x2F;opencv&#x2F;opencv&#x2F;blob&#x2F;4.5.0&#x2F;modules&#x2F;python&#x2F;s...</a><p>And that seems to be a code generator that is generating the bindings for all the OpenCV functions:\n<a href="https:&#x2F;&#x2F;github.com&#x2F;opencv&#x2F;opencv&#x2F;blob&#x2F;4.5.0&#x2F;modules&#x2F;python&#x2F;src2&#x2F;gen2.py#L1096-L1103" rel="nofollow">https:&#x2F;&#x2F;github.com&#x2F;opencv&#x2F;opencv&#x2F;blob&#x2F;4.5.0&#x2F;modules&#x2F;python&#x2F;s...</a><p>As to testing this, on Linux I&#x27;d run `atop` to see if your program is using all available CPUs.')