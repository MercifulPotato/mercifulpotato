Item(by='kqr', descendants=None, kids=None, score=None, time=1604834432, title=None, item_type='comment', url=None, parent=25024566, text='It seems like nobody else mentioned this, so for completeness: the algorithm is called <i>reservoir sampling</i>.<p>It allows you to sample <i>n</i> elements from a potentially very big stream with exactly <i>n</i> elements of storage. Incredibly neat technique.<p>Lots written about it a web search away once you know its name!<p>(If the sequence is in primary memory with fast random access, it&#x27;s more efficient to run <i>n</i> iterations of a Fisher-Yates shuffle and pick the first <i>n</i> elements.)<p>Edit: I forgot to refresh the comments page. Someone had mentioned it now. Good!')