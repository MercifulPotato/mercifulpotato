Item(by='asplake', descendants=None, kids=None, score=None, time=1602677334, title=None, item_type='comment', url=None, parent=24774964, text='&gt; Upon encountering a macro during translation to bytecode, the code generator will look up the macro processor registered for the macro, and pass the AST, rooted at the macro to the processor function. The returned AST will then be substituted for the original tree.<p>This seems limiting. Just the AST at that point? No more context (potentially alterable) than that?<p>EDIT: I have a use case in mind, a Haskell-style (kinda) where clause. For such “trailing” syntax it would be necessary to introduce a placeholder higher up the tree')