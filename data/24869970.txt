Item(by='default-kramer', descendants=None, kids=None, score=None, time=1603464090, title=None, item_type='comment', url=None, parent=24866378, text='Does the unit of composition have to be a complete query&#x2F;CTE? Theoretically it seems like it could be any fragment of SQL, but the docs seem to imply it must be a complete query.<p>I created something similar recently: <a href="https:&#x2F;&#x2F;docs.racket-lang.org&#x2F;plisqin&#x2F;index.html" rel="nofollow">https:&#x2F;&#x2F;docs.racket-lang.org&#x2F;plisqin&#x2F;index.html</a>. At its core, it is also a library for composing fragments of SQL, but it has some novel (as far as I know) ideas. The most notable is that joins are values (or &quot;expressions&quot;, if you prefer) that can be returned from a procedure like any other value. I was hoping that the world would realize &quot;that&#x27;s obviously how query builders should work&quot; and copy the approach when starting new projects, but that hasn&#x27;t happened.')