Item(by='quelsolaar', descendants=None, kids=[25419277], score=None, time=1607959207, title=None, item_type='comment', url=None, parent=25417211, text='void * * a = NULL;<p>while(TRUE)<p>{<p><pre><code>    a = malloc(sizeof *a);\n\n    if(a == NULL)\n\n        break;\n\n    *a = malloc(1024);\n\n    if(*a == NULL)\n\n        break; \n\n    if(!do_some_other_tests(a))\n\n        break; \n\n   return a;\n</code></pre>\n}<p>&#x2F;* cleanup <i>&#x2F;<p>if(a == NULL)<p><pre><code>    return;\n</code></pre>\nif(</i>a != NULL)<p><pre><code>    free(*a);\n\n free(a);\n\n</code></pre>\nalt:<p>void * * a = NULL;<p>switch(TRUE)<p>{<p><pre><code>    defaultt :\n\n    a = malloc(sizeof *a);\n\n    if(a == NULL)\n\n        break;\n\n    *a = malloc(1024);\n\n    if(*a == NULL)\n\n        break; \n\n    if(!do_some_other_tests(a))\n\n        break; \n\n   return a;\n</code></pre>\n}<p>&#x2F;* cleanup <i>&#x2F;<p>if(a == NULL)<p><pre><code>    return;\n</code></pre>\nif(</i>a != NULL)<p><pre><code>    free(*a);\n\n free(a);</code></pre>')