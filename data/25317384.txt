Item(by='bborud', descendants=None, kids=None, score=None, time=1607195707, title=None, item_type='comment', url=None, parent=25314243, text='My company makes IoT systems to support low power devices that use mobile (NB-IoT and LTE-M) connectivity and we have some similar problems having to do with mobile networks and APNs.<p>The way we solve this is that we assume any knowledge the device has about the outside world can become obsolete, so we do we have a two layer approach.<p>The bottom layer is that we have a set of semi hard-coded fallback values that are likely to work in the forseeable future.  Updating these fallbacks requires an over the air firmware upgrade which isn&#x27;t a terribly big deal since we regularly upgrade firmware over the air.  The goal of these values is to make sure we can get the device online and direct it to somewhere where we can trigger firmware updates.<p>The second layer is that one or more times per day we ping a config server that sends a packet with configuration data to the unit.  This is typically API endpoints etc.  The configuration data is essentially a prioritized list of resources, so if one won&#x27;t respond it will go to the next on the list (while still trying to determine if a higher priority resource becomes available).<p>Last week we got a chance to see how this failed over beautifully as multiple resources were removed and a fleet of devices just adapted as they should.  (The shutdown of these resources were planned, but presented a good opportunity to do a fire drill).')