Item(by='frankmcsherry', descendants=None, kids=None, score=None, time=1609955575, title=None, item_type='comment', url=None, parent=25657452, text='&gt; If SQL had a way of picking one row from a group, rather than aggregating over it, that would be immensely useful.<p>You can do this with a LATERAL join, if you want to avoid the jankiness of window functions. Lateral joins are just a programmatic way to introduce a correlated subquery. For example<p><pre><code>    SELECT department, first_name, gross_salary FROM\n        (SELECT DISTINCT department FROM salary) depts,\n        LATERAL (\n            SELECT first_name, gross_salary \n            FROM salary \n            WHERE department = depts.department \n            ORDER BY gross_salary DESC\n            LIMIT 3\n        )\n</code></pre>\nThis uses a limit of 3 to show off top-3 instead of just argmax, but you could clearly set that to one if you wanted. This construction can be pretty handy if you need the per-group rows to be something other than what a window function could handle.')