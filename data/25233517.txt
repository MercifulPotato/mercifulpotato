Item(by='souprock', descendants=None, kids=None, score=None, time=1606519666, title=None, item_type='comment', url=None, parent=25219851, text='Say what? You like to call plain strtok() from different threads, having them all update a shared global state? I think you missed the point here, because that would be some really evil usage of the strtok() function.<p>We had &quot;int errno&quot; as global state. We fixed it, in a compatible way, to be thread-safe. Platforms without threads can still implement it the old way if desired.<p>The same kind of compatible fix could have been done with the strtok() function. There was no need to introduce another function.<p>Simply: the internal state of strtok() shall be distinct for each thread. (which is trivial if the platform only supports a single thread)')