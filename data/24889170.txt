Item(by='jasonwatkinspdx', descendants=None, kids=[24890922], score=None, time=1603654261, title=None, item_type='comment', url=None, parent=24888129, text='Yeah, that stated rationale is slightly confused.<p>With server class spinning disks, you get something like 90% of sequential bandwidth when doing 8 MiB random reads. There&#x27;s slight gains up to 32 MiB. So yes, overall bandwidth out of the disk is much better with 2 MiB than 4 KiB.<p>But the question is: how much of that 2 MiB block is actually useful before it gets ejected out of the page cache? For 1 GiB of page cache memory, with 4 KiB pages we get ~260k different entries, but with 2 MiB we only get 512. So we&#x27;ll end up with a lot of capacity conflicts on the cache unless our workload just happens to only work with a small number of huge memory blocks. That&#x27;s likely to dominate performance even if we got &quot;free&quot; bandwidth with the large pages.<p>All that said, 4 KiB is a bit painful on modern hardware. Current SSDs are happiest when writes are an integer multiple of around 32 to 64 KiB or so. It&#x27;d be nice if we had a medium size pages option.')