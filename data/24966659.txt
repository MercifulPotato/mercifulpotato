Item(by='EdSchouten', descendants=None, kids=None, score=None, time=1604314479, title=None, item_type='comment', url=None, parent=24965555, text='That&#x27;s an interesting bug. Thanks for linking it here!<p>Many flavours of UNIX have bugs in the area of file descriptor passing. The most recent one I spotted was that FreeBSD would leak file descriptors on the receiving side if the cmsg space was too small to hold all incoming file descriptors numbers.<p>Another interesting one is that garbage collection of in-flight file descriptors is sometimes implemented by effectively calling close() recursively. This means that you can cause kernel panics due to kernel stack overflows by closing a socket pair that contains in-flight file descriptors of socket pairs that contain in-flight file descriptors of socket pairs that contain in-flight file descriptors of [...]')