Item(by='alexmingoia', descendants=None, kids=[24964411], score=None, time=1604284786, title=None, item_type='comment', url=None, parent=24964292, text='The way to ensure type safety of new types is smart constructors: <a href="https:&#x2F;&#x2F;wiki.haskell.org&#x2F;Smart_constructors" rel="nofollow">https:&#x2F;&#x2F;wiki.haskell.org&#x2F;Smart_constructors</a><p>You have a constructor function which does the input check, and it lives in a module that only exports the smart constructor, not the type constructor. It doesn’t matter if another module deconstructs the type, since the input was already checked.<p>For example:<p>newtype Username = Username Text<p>mkUsername :: Text -&gt; Either Text Username<p>mkUsername t = if t == “” then Left “Username cannot be blank” else Right (Username t)<p>If you don’t export the constructor for Username, and only export mkUsername, it doesn’t matter if someone deconstructs the Text from Username, because it must already be validated.')