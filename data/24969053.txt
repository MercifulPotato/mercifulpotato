Item(by='krizhanovsky', descendants=None, kids=None, score=None, time=1604330713, title=None, item_type='comment', url=None, parent=24962906, text='There were quite a long work, for couple of years, on the parser. The first article about the parser is <a href="https:&#x2F;&#x2F;natsys-lab.blogspot.com&#x2F;2014&#x2F;11&#x2F;the-fast-finite-state-machine-for-http.html" rel="nofollow">https:&#x2F;&#x2F;natsys-lab.blogspot.com&#x2F;2014&#x2F;11&#x2F;the-fast-finite-stat...</a> and next I updated it significantly in my talk at <a href="https:&#x2F;&#x2F;natsys-lab.blogspot.com&#x2F;2014&#x2F;11&#x2F;the-fast-finite-state-machine-for-http.html" rel="nofollow">https:&#x2F;&#x2F;natsys-lab.blogspot.com&#x2F;2014&#x2F;11&#x2F;the-fast-finite-stat...</a> (<a href="http:&#x2F;&#x2F;www.tempesta-tech.com&#x2F;research&#x2F;http_str.pdf" rel="nofollow">http:&#x2F;&#x2F;www.tempesta-tech.com&#x2F;research&#x2F;http_str.pdf</a> and <a href="https:&#x2F;&#x2F;www.youtube.com&#x2F;watch?v=LQc4er8ng64&amp;feature=youtu.be&amp;t=25501" rel="nofollow">https:&#x2F;&#x2F;www.youtube.com&#x2F;watch?v=LQc4er8ng64&amp;feature=youtu.be...</a> ). The talk also discusses code repetitions: compiler makes duplicate code anyway, even for straightforward `for` loop and nested `switch`, but in our case we had much more duplicate code.<p>The thing is that we used hot&#x2F;cold labels to minimize jumps over the code and improve instruction cache usage, so calling functions isn&#x27;t good at all. We wanted one big function with is executed as linearly as possible to improve instruction cache prefetching.')