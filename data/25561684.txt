Item(by='rottc0dd', descendants=None, kids=None, score=None, time=1609180174, title=None, item_type='comment', url=None, parent=25559659, text='Not a complete transpiler, butI read about an interview about JVM implementation done on common lisp of Pascal Costanza and ability to port all things then supported in Java to lisp[0].<p>&quot;...I decided to implement a Java Virtual Machine in Common Lisp - under normal circumstances, I wouldn&#x27;t have dared to do this, because this is quite a complex undertaking, but I had read in several places that Lisp would be suitable for projects that you would normally not dare to do otherwise, so I thought I would give it a try. Over the course of 8 weeks, with something like 2 hours per day, or so (because I was still doing other stuff during the day), I was able to get a first prototype that would execute a simple &quot;Hello, World!&quot; program. On top of that, it was a portable (!) just-in-time compiler: It loaded the bytecode from a classfile, translated it into s-expressions that resemble the bytecodes, and then just called Common Lisp&#x27;s compile function to compile those s-expressions, relying on macro and function definitions for realizing these &quot;bytecodes as s-expressions.&quot; I was really impressed that this was all so easy to do.<p>The real moment of revelation was this: to make sure to reuse as many of the built-in Common Lisp features as possible, I actually translated Java classes into CLOS classes, and Java methods into CLOS methods. Java&#x27;s super calls posed a problem, because it was not straightforward to handle super calls with plain call-next-method calls. Then I discovered user-defined method combinations, which seemed like the right way to solve this issue, but I was still stuck for a while. Until I discovered that moving a backquote and a corresponding unquote around actually finally fixed everything. That was a true Eureka moment: In every other programming language that I am aware of, all the problems I encountered until that stage would have required a dozen redesigns, and several attempts to start the implementation completely from scratch, until I would have found the right way to get everything in the right places.&quot;<p>[0] - lisp-univ-etc.blogspot.com&#x2F;2012&#x2F;04&#x2F;lisp-hackers-pascal-costanza.html')