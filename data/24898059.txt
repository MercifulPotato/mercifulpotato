Item(by='throwaway10M', descendants=None, kids=None, score=None, time=1603730280, title=None, item_type='comment', url=None, parent=24897540, text='RAM is not the only aspect of a Garbage Collector....<p>Over a decade ago, we used a third-party pre-trade risk system that was implemented in Java.  Since it was a &quot;service&quot; (we connected to a TCP port), the underlying tricks they used to make it &quot;fast&quot; were transparent to us... until it was not.<p>They highly tuned their GC to where there was seldom any GC.  One day, the third-party made a change to a supervisory service to generate more periodic monitoring emails.  The file handles from this actor were apparently not GC&#x27;d and held by the process until the system ran out of file handles.  That made the service stop working properly.<p>But, in addition to alerting, that service had a more important job: it was a post-trade risk &quot;watchdog&quot; to the pre-trade risk gateways, which we sharded across.<p>The various pre-trade risk gateways, upon not hearing from the watchdog authority then  1) began cancelling outstanding orders and 2) not allow new orders.   We saw this happening haphazardly over 10 minutes and had little time and capability to recover; this also happened near the end of the trading day when some orders (MOC, LOC) are not cancellable.  This was across our whole organization so it affected many strategies. \n So it wasn&#x27;t as simple as &quot;stop all&quot; and although we had many checks and recovery procedures, this was a pretty special Chaos Monkey.<p>We ended up with a &gt;$1B basket of random stocks that cost &gt;$10M to liquidate over the next few days.<p>$10M evaporating in 10 minutes because of &quot;GC optimizations&quot; and poorly considered OS settings.<p>The #1 risk in algo&#x2F;HFT trading is not financial, but operational.<p>[Some of the technical details may be slightly off, as it was third-party; my outlook is pieced together from post-mortems.  Also, no other party (e.g. broker, SIPC, market participant, the third-party) was financially affected besides our firm.]')