Item(by='est', descendants=None, kids=[25649173, 25649320], score=None, time=1609859718, title=None, item_type='comment', url=None, parent=25644656, text='One thing I never understand about connection pool is how do they handle server-sent close connection (FIN) events? Like I can guarantee there are tons of CLOSE_WAIT connections on my near-idle Python process for various of db pools, mysql or redis or pg.<p>For sqlalchemy it just complaints &quot;MySQL server has gone away (error(32, &#x27;Broken pipe&#x27;))&quot; and never know how to recover.  For redis it just 100% the CPU and keep epoll the dead TCP.<p>Example: <a href="https:&#x2F;&#x2F;github.com&#x2F;andymccurdy&#x2F;redis-py&#x2F;pull&#x2F;886" rel="nofollow">https:&#x2F;&#x2F;github.com&#x2F;andymccurdy&#x2F;redis-py&#x2F;pull&#x2F;886</a>')