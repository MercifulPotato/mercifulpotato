Item(by='ndesaulniers', descendants=None, kids=None, score=None, time=1610501607, title=None, item_type='comment', url=None, parent=25756707, text='That&#x27;s not what&#x27;s going on though.  Clang&#x27;s not slow because LLVM is using additional optimizatons, it&#x27;s slow because Clang is spending a ton of time in the frontend mostly lexing and keeping track of source locations for macro tokens.<p>(I literally just looked at a perf record of a whole build of the linux kernel with Clang; and know more about the subject than...anyone).<p>ToT LLVM, linux-next x86_64 defconfig: <a href="https:&#x2F;&#x2F;photos.app.goo.gl&#x2F;hNwwy2K1Gh7Uc2D67" rel="nofollow">https:&#x2F;&#x2F;photos.app.goo.gl&#x2F;hNwwy2K1Gh7Uc2D67</a> (yes, I know about disabling kptr_restrict)<p>Our next big project is to look into lazy parsing.')