Item(by='plorkyeran', descendants=None, kids=None, score=None, time=1609032785, title=None, item_type='comment', url=None, parent=25547309, text='You isolate the stages which require secrets from the stages that run untrusted code. One step has access to your SSH private key and runs git clone. The next step runs the actual build without access to any secrets. A third step has access to the secret key required to publish the result.<p>It&#x27;s certainly more complicated to set up than a simple &quot;the CI system invokes a single shell script that does everything&quot; build, but it&#x27;s not actually that complicated and every CI system I&#x27;ve used has supported doing this.')