Item(by='saltcured', descendants=None, kids=None, score=None, time=1610829774, title=None, item_type='comment', url=None, parent=25802185, text='A foreign key constraint in postgres requires that the entire column value in the foreign key match a corresponding column value of a key in the referenced domain table. Unless there have been quite recent extensions to the DDL in postgres, there is no foreign key constraint syntax to express a REFERENCES constraint over parts of a structured column. This is not supported for even the simple case of constraining one field in a UDT&#x2F;composite type, much less the harder problem of constraining a variable cardinality set of elements in an array, or keys&#x2F;values within a json&#x2F;jsonb document.<p>You can try to emulate it with triggers, and start to appreciate the subtle complexities of the problem. For example, would we want a new class of element-wise actions to act analogous to ON DELETE&#x2F;UPDATE CASCADE&#x2F;SET NULL?  Rather than pruning referenced row or referencing column value, you&#x27;d want to mutate just an element within the structured type, right?  How would you expose these many choices if trying to design a new constraint syntax with reusable machinery?')