Item(by='hardwaresofton', descendants=None, kids=None, score=None, time=1610894630, title=None, item_type='comment', url=None, parent=25809573, text='It feels like an ugly hack that grpc-gateway sits on top of gRPC to support HTTP&#x2F;1 when gRPC could have been written to support HTTP&#x2F;1 and HTTP&#x2F;2 from the beginning. Roughly, gRPC ~= protobuf (serialization &amp; schema enforcement) + HTTP&#x2F;2 + non-standard HTTP&#x2F;2 (trailers, etc), and it is hard to believe that just as they standardized the non-standard bits, they couldn&#x27;t have found a way to work over HTTP&#x2F;1 (or HTTP&#x2F;1.1 at least) with the flexibility available there.<p>gRPC feels to me like a violation&#x2F;break in expectations of how the layers of abstraction are supposed to work -- gRPC works <i>over</i> HTTP&#x2F;2, and it&#x27;s weird that it translates a lower level (HTTP&#x2F;1) at a higher level (gRPC) to re-encode it into something at the lower level. An appropriately robust protocol would simply support both lower levels of abstraction if it wanted to (and they were widespread in daily use), right?<p>The only places I feel like I see this kind of layer violations are in lower level networking and it generally just makes everything worse and more complicated there. Of course, I know that gRPC + gateway is actually not a huge deal in practice -- you&#x27;ve got reverse proxies like envoy that will do it for you automatically[0], but it just... doesn&#x27;t sit great. The benefits of gRPC are not to be sneezed at (better performance, strict typing at the protocol level, schema enforcement, bidirectional streaming, etc), but it feels like it could have accomplished a lot of those goals without throwing out HTTP&#x2F;1.1 completely (and then that machinery could have been reused to support HTTP&#x2F;3).<p>[0]: <a href="https:&#x2F;&#x2F;www.envoyproxy.io&#x2F;docs&#x2F;envoy&#x2F;latest&#x2F;configuration&#x2F;http&#x2F;http_filters&#x2F;grpc_http1_bridge_filter" rel="nofollow">https:&#x2F;&#x2F;www.envoyproxy.io&#x2F;docs&#x2F;envoy&#x2F;latest&#x2F;configuration&#x2F;ht...</a>')