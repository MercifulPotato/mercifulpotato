Item(by='clairity', descendants=None, kids=None, score=None, time=1602703121, title=None, item_type='comment', url=None, parent=24778920, text='&gt; &quot;I felt a bit odd using exceptions as the core of this workflow...&quot;<p>i&#x27;ve done something analogous before and it seemed to me the exception framework was the right abstraction to use (though other opinions are welcome!). in this particular case, it seems like the main problem is that the trigger exceptions are not sufficiently granular&#x2F;appropriate to describe the exact exception condition on which to trigger read-only mode:<p>* ActiveRecord::StatementInvalid<p>* PG::InsufficientPrivilege<p>rather than &quot;DatabaseDownForMaintenance&quot;.')