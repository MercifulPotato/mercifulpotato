Item(by='chubot', descendants=None, kids=None, score=None, time=1608543524, title=None, item_type='comment', url=None, parent=25492087, text='Very cool!  And thanks for the reminder about Unicode.  I think supporting union and intersection is also somewhat unique to the derivatives method, and also related?  (Although I think there are really 2 derivatives methods: Brzozowski and Antimirov)<p>What happens if you don&#x27;t do the optimizations?  Does the DFA blow up in size, meaning the compile time is large?  Or does it make for a slower runtime?  I would expect most DFAs to run at about the same speed, unless they are really huge...<p>I&#x27;d be interested in any rough ideas about performance, e.g. how fast a realistic lexer+parser is, maybe in lines&#x2F;ms.<p>It does look like the code is pretty short -- a large part of it is an AVL tree library I guess for hash consing?<p>I&#x27;m interested in any downsides of the derivatives technique vs. the NFA-&gt;DFA method.  I feel like regex compile time shouldn&#x27;t matter for many applications, and most DFAs will run in the same speed, which only leaves runtime memory usage (or code size for generating F# code like you appear to be doing).')