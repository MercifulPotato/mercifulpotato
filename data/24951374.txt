Item(by='ranma42', descendants=None, kids=None, score=None, time=1604151492, title=None, item_type='comment', url=None, parent=24950020, text='&gt; USB Audio device class and a USB stack. That&#x27;s a hell of a lot of code.<p>Its actually not that much for the bare minimum needed, though the USB docs are pretty daunting.<p>If you go with USB1, you basically just need enough to answer the descriptor and set interface queries and set up the endpoints (in particular the isochronous endpoint for audio is a bit more complex). If you stick to exactly one supported format and sample rate and don&#x27;t include any control units, you can basically skip all the audio class control messages.<p>For USB1, in a pinch, you can use a cheap generic 24MHz usb logic analyzer and pulseview to decode the raw usb protocol for debugging (though with 24MHz you get some corruption in the capture from clock drift, you need at least 48MHz for more reliable signal sampling).<p>I&#x27;d guess you can make do with ~1k LOC in this case.')