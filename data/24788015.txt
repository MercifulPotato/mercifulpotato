Item(by='daitangio', descendants=None, kids=None, score=None, time=1602766046, title=None, item_type='comment', url=None, parent=24754778, text='My setup is quite simpler.\nI have created different environments based on terragrunt, i.e. to separate prod and no-prod environments.\nThen I have some &quot;macro modules&quot; with separated state files.<p>I try to avoid too much state files, so for a medium sized setup on AWS I got:<p>- Network Module\n- IAM Security module (which is region-free)\n- Application modules (for instance one for specific topic: my docker cluster, my S3 buckets and so on)<p>One macro module can load other one state outputs, so for instance network module define default vpc you will likely use in the other one.<p>Secrets are variables you must put in TF_VAR during manual apply, so no password is stored in terraform files.')