Item(by='unionpivo', descendants=None, kids=None, score=None, time=1603918470, title=None, item_type='comment', url=None, parent=24922172, text='That kind of function would be tested with couple of correct files and several, wrong ones.<p>Splitting everything up and testing separately, make sense if you are building a library or general user program. For program where you control whole toolchain its overkill.<p>You need to be able to read correct image and hopefully not segfault on bad one.  And this function does that.')