Item(by='tompic823', descendants=None, kids=None, score=None, time=1602212803, title=None, item_type='comment', url=None, parent=24721457, text='The local fallback file is updated each time new secrets are fetched. It is possible for your Doppler secrets to change between your last successful fetch and your next unsuccessful fetch, and in that scenario you wouldn&#x27;t be operating off the latest secrets. We don&#x27;t see the fallback file as an excuse for availability; our service <i></i>needs<i></i> to be up.<p>The fallback file is encrypted using AES-GCM with a key derived from the auth token and other metadata using PBKDF2. It is theoretically possible for an ex-employee to store the fallback file and retain a copy of the auth token and other metadata, even after the token has been revoked. In this case, they could construct the key using their privileged information. However, this attack would require active malfeasance by an authorized party during the period in which they&#x27;re still authorized. It would be easier for the bad actor to store the raw secrets (by logging process.env, for example) than storing the encrypted file. To really solve this issue, the secrets would need to be time-bound and dynamic. Dynamic secrets are on our roadmap, but the issue you point out is a really hard problem. (And if you&#x27;d like to help, we&#x27;re hiring![0])<p>[0] <a href="https:&#x2F;&#x2F;doppler.com&#x2F;careers" rel="nofollow">https:&#x2F;&#x2F;doppler.com&#x2F;careers</a>')