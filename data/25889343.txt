Item(by='loeg', descendants=None, kids=None, score=None, time=1611463409, title=None, item_type='comment', url=None, parent=25886252, text='A CPU stall on L3 miss (100ns?) is orders of magnitude shorter than the kinds of blocking IO we don&#x27;t want to wait on (10s-100s of Âµs even for empty-queue NVMe; slower for everything else).<p>The OS can&#x27;t run another thread while fulfilling an mmap page fault because it <i>has to actually do the IO to fill the page</i> while taking that trap.  And in the async scenario, CPUs and high speed devices can do clever things like snoop DMAs directly into L3 cache, avoiding your L3 miss scenario as well.<p>The comparison between L3 miss and mmap faults is apples and oranges.')