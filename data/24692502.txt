Item(by='gpderetta', descendants=None, kids=[24693184, 24695611], score=None, time=1601935087, title=None, item_type='comment', url=None, parent=24688493, text='I think the actual issue with TLS is that compilers will happily hoist TLS address computations across function calls. It they didn&#x27;t do that, TLS would be much safer (at least as safe as with stackless coroutines). TLS Address computation is pretty much free in non-PIE code on x86-64 linux so normally GCC doesn&#x27;t do it, but on shared libraries or on other architectures, you can randomly get corruptions.<p>I do not think that FLS (at least by default) is the right solution as it would consume a lot of memory, increase the switch overhead and add complexity for little benefit.')