Item(by='rahimiali', descendants=None, kids=None, score=None, time=1610304213, title=None, item_type='comment', url=None, parent=25701959, text='Like others, it&#x27;s unclear to me that AVX is responsible for the speedup. copy_user_enhanced_fast_string seems to be a beast. To copy data from kernel memory to userland (code link below), for every byte it copies, it checks if it&#x27;s crossing a page boundary and about to cause a page fault. I don&#x27;t see how this whole function could get compiled down to just a REP MOVSB.<p>[0] <a href="https:&#x2F;&#x2F;elixir.bootlin.com&#x2F;linux&#x2F;v4.2&#x2F;source&#x2F;arch&#x2F;x86&#x2F;lib&#x2F;usercopy_64.c#L72" rel="nofollow">https:&#x2F;&#x2F;elixir.bootlin.com&#x2F;linux&#x2F;v4.2&#x2F;source&#x2F;arch&#x2F;x86&#x2F;lib&#x2F;us...</a>')