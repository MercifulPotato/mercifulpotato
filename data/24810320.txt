Item(by='thiasdflkj', descendants=None, kids=None, score=None, time=1602945991, title=None, item_type='comment', url=None, parent=24809950, text='why the `fp.readline()` and `while line:` business?<p>I don&#x27;t have a big file handy to benchmark but that pattern moves the file reading into python bytecode.<p>The canonical way to read a file line by line while counting the lines is to loop over the file (it&#x27;s automatically a line iterator) and use enumerate.<p>here is the disassembed bytecode of the respective versions<p><a href="https:&#x2F;&#x2F;pastebin.com&#x2F;Rd4g8cE2" rel="nofollow">https:&#x2F;&#x2F;pastebin.com&#x2F;Rd4g8cE2</a><p>that being said, Rust will still outrun Python overall.')