Item(by='kevincox', descendants=None, kids=None, score=None, time=1601921583, title=None, item_type='comment', url=None, parent=24689922, text='Generating new structs is free in Rust. There is only cost if you need to send it somewhere <i>and</i> the layout differs from the original.<p>Since `transmute` will be undefined behaviour if the layout differs you will only be saving cost if you would be invoking undefined behaviour.<p>I recommend checking the generated asm and reporting a missed-optimization bug if it differs.')