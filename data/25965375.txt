Item(by='tarasglek', descendants=None, kids=None, score=None, time=1611973288, title=None, item_type='comment', url=None, parent=25959865, text='So there are 2 parts to cpu affinity. a)\ncpu assigned to ssd for handling interrupts and b) cpu assigned to fio. numactl is your friend for experimenting with with changing fio affinity.<p><a href="https:&#x2F;&#x2F;access.redhat.com&#x2F;documentation&#x2F;en-us&#x2F;red_hat_enterprise_linux&#x2F;6&#x2F;html&#x2F;performance_tuning_guide&#x2F;s-cpu-irq" rel="nofollow">https:&#x2F;&#x2F;access.redhat.com&#x2F;documentation&#x2F;en-us&#x2F;red_hat_enterp...</a> tells you how to tweak irq handlers.<p>You usually want to change both. pinning each fio process + each interrupt handler to specific cpus will reach highest perf.<p>You can even use isolcpus param to linux kernel to reduce jitter from things you don&#x27;t care about to minimize latency.(wont do much for bandwidth)')