Item(by='tobyjsullivan', descendants=None, kids=[25224990, 25225154], score=None, time=1606437601, title=None, item_type='comment', url=None, parent=25224327, text='<p><pre><code>  transferAmount(from: Account, to: Account, amount: Money)\n</code></pre>\nHow can a type system know that you are passing the accounts in the correct order?<p>You might start by trying to make more strict types such as SourceAccount and DestinationAccount.<p><pre><code>  transferAmount(from: SourceAccount, to: DestinationAccount, amount: Money)\n</code></pre>\nBut we know that any account is likely to be both of these at different times. We only persist Accounts and have to convert at runtime. Now you face the challenge of converting a regular Account to a FromAccount.<p><pre><code>  src := fromAccount.toSourceAccount()\n  dest := toAccount.toDestinationAccount()\n  transferAmount(src, dest, amt)\n</code></pre>\nHow can the type system know that you are converting the correct Account? The type system cannot determine what is semantically correct. It&#x27;s a recursive problem.')