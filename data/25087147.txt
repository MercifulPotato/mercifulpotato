Item(by='mdaniel', descendants=None, kids=None, score=None, time=1605299736, title=None, item_type='comment', url=None, parent=25085932, text='I&#x27;ve gotten <i>a lot</i> of mileage out of Sigil (<a href="https:&#x2F;&#x2F;github.com&#x2F;danmx&#x2F;sigil#readme" rel="nofollow">https:&#x2F;&#x2F;github.com&#x2F;danmx&#x2F;sigil#readme</a> ) which supports starting sessions via Name tag, instance-id, or private-dns-name in order to save one the need to use awscli in a lot of cases; it also supports the handy `sigil ls` to show the connected instances, since trying to start an SSM connection with an instance whose agent is offline produces a dumb error message with start-session<p>---<p>as an aside: `function name()` is redundant; the `function name {` syntax is a bashism, `name() {` is the posix syntax<p>and you may find `aws ec2 wait instance-running` handy instead of the sleep: <a href="https:&#x2F;&#x2F;docs.aws.amazon.com&#x2F;cli&#x2F;latest&#x2F;reference&#x2F;ec2&#x2F;wait&#x2F;instance-running.html" rel="nofollow">https:&#x2F;&#x2F;docs.aws.amazon.com&#x2F;cli&#x2F;latest&#x2F;reference&#x2F;ec2&#x2F;wait&#x2F;in...</a>')