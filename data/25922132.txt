Item(by='ddevault', descendants=None, kids=[25922290, 25922243], score=None, time=1611702638, title=None, item_type='comment', url=None, parent=25922042, text='Nice finds. I would agree that that&#x27;s more arguably a bug in libc than in doas, but also note that the startup code for any language has to consider this case. As far as theoretical operating systems are concerned, this is a consequence of the System-V ABI, so any OS compatible with it would have the same issue.<p>As for the integer overflow case, it&#x27;s also highly unlikely to be exploitable, even if it were unsigned - the system would have to, as I&#x27;m sure you can infer, have tens of millions of rules before this was an issue. It&#x27;s quite within the realm of reason, in my opinion, to declare this an acceptable trade-off. The rest of your explanation shows that even if this weren&#x27;t the case, the bug wouldn&#x27;t be exploitable.<p>Anyway, I like your comment, but I&#x27;d recommend a different moral to this story: in the space of 47 minutes you were able to conduct a reasonably thorough audit on the doas codebase. Wanna give that a shot for sudo now?')