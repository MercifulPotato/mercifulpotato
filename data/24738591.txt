Item(by='tylerhou', descendants=None, kids=[24739206], score=None, time=1602333956, title=None, item_type='comment', url=None, parent=24738165, text='To truly achieve the same thing as &quot;tree shaking,&quot; the function call overhead would be abysmal. You&#x27;d have to check whether the module was loaded already (with synchronization if your program is multithreaded). For single threaded programs, you could avoid this by hot-patching your machine code, but there&#x27;s no way around some synchronization barrier in multithreaded programs [1]. In JavaScript (or any language where you want to avoid sending a large bundle over the network), you&#x27;d incur the latency of a network request for the first call to any function.<p>You&#x27;re right that people are already splitting apps into bundles, but that is usually done at the page level.<p>[1] You could probably avoid having to take a mutex after the first call to the function with self patching code, but that sounds incredibly ugly and could have other implications (self-modifying code could be detected as a virus; could be used as a gadget to exploit some other vulnerability).')