Item(by='Joker_vD', descendants=None, kids=None, score=None, time=1604316336, title=None, item_type='comment', url=None, parent=24966081, text='Compare this to WinAPI approach: its analogue of dup() (called DuplicateHandle) also accepts a descriptor of a process into which the file descriptor must be duplicated. You need to have the correct access right, of course.<p>However, because in Windows TCP sockets are implemented in the user space, you can&#x27;t quite use this routine to pass sockets: the part of its state in the user-space won&#x27;t get duplicated (well, you can&#x27;t send FILE* into another process in neither Linux nor Windows, right), so there is WSADuplicateSocket function which doesn&#x27;t actually duplicates the socket, it gives you a struct full of its internal state which you have to send to another process somehow, and then the other process has to re-create the socket manually, by passing this struct into WSASocket call... and I&#x27;ve no idea how the inter-process sharing is then set up, but apparently it is set up, so those two sockets would actually have synchronized state from then on.')