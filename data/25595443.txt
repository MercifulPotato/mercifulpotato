Item(by='talideon', descendants=None, kids=[25596552], score=None, time=1609439233, title=None, item_type='comment', url=None, parent=25591481, text='It can work. I wrote a script in Python to build stable zip files. The main thing is to ensure any timestamps are reset to zero and the files are added in a fixed order. It also filters out any unwanted files and directories to minimise the size of the bundle. I have a wrapper around it that generates the hash and uses pip3 (as I use Python for my lambdas) to download the dependencies and build the directory hierarchy for the lambda&#x2F;layer, runs the stable zip script, and returns the path of the bundle and the hash.<p>This didn&#x27;t take long to write, and reduced the amount of churn we had with our deploys. We had massive problems with one particular set of lambdas due to the sheer amount of code (mostly unavoidable dependencies, but shared, so they could go in a layer), and our deployment times plummeted to practically nothing after I knocked this together.<p>I&#x27;m not sure I can share the code as it&#x27;s something I wrote for work, but it ought to be simple to recreate from the description above.')