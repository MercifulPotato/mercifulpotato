Item(by='JoeAltmaier', descendants=None, kids=None, score=None, time=1606254740, title=None, item_type='comment', url=None, parent=25200881, text='Instead of declaring a message and creating it with a call to the (now obsolete) module specific to the structure being transmitted, one simply passed the structure to the message-send api. The conversion template to &#x27;Message&#x27; automatically rewrote the structure argument as a message argument.<p>I was re-writing the driver as a simple C++ set of pure virtual objects and implementations for my hardware. So when I scavenged code to send a certain structure as a message, I simply didn&#x27;t make the old calls. I remember I did (for some reason) edit all the old modules to use the new API, to prove it still worked I guess. A long afternoon of search and replace.<p>The (Korean?) company that owned the driver must have had a team or something. It was extremely brain-dead code for every element of an 802.11&#x2F;ethernet abstraction as a separate module, done twice (once for the driver; once for the module firmware). Double structure definitions for everything.<p>My team wanted a walk-thru of the existing driver. I scheduled two hours, one before lunch and one after. I opened with &quot;I&#x27;ve brought just the 500 most significant modules today, and we&#x27;re going to walk thru a connection and message send&quot;.  Proceeded to open dozens of nested module references on a very long path from triggering a connection attempt to exchanging the first message for negotiation.  The hour was up.<p>Nobody came to the 2nd hour after lunch.')