Item(by='maxiepoo', descendants=None, kids=None, score=None, time=1608733504, title=None, item_type='comment', url=None, parent=25515383, text='Yes, this is well known, good catch!<p>If you read McBride&#x27;s paper &quot;Clowns to the Left of Me, Jokers to the Right&quot; (<a href="https:&#x2F;&#x2F;www.cis.upenn.edu&#x2F;~cis39903&#x2F;static&#x2F;clowns.pdf" rel="nofollow">https:&#x2F;&#x2F;www.cis.upenn.edu&#x2F;~cis39903&#x2F;static&#x2F;clowns.pdf</a>) is exactly about systematically deriving the type of defunctionalized stacks for the fold over an ADT. The ordinary derivative is then the special case where you are just mapping a function that doesn&#x27;t change the type.')