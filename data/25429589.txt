Item(by='Diggsey', descendants=None, kids=None, score=None, time=1608034815, title=None, item_type='comment', url=None, parent=25423098, text='The compiler very rarely knows that UB exists in the program.<p>To give a concrete example: the compiler sees this:<p><pre><code>    ```\n    while (&lt;expr&gt;) {\n        if (p == 0) { do_thing(); }\n        *p = 42;\n    }\n    ```\n</code></pre>\nIn this case, the compiler wants to move `do_thing()` outside the loop because it&#x27;s expensive. It also knows that it would be UB for this branch to execute if `*p = 42` executes, because that would result in UB.<p>Therefore the compiler can assume that if the loop runs at least once, then `p != 0`. At no point does the compiler have any information about whether the program is in fact UB.')