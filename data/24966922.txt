Item(by='devit', descendants=None, kids=[24966962], score=None, time=1604316855, title=None, item_type='comment', url=None, parent=24963821, text='The real issue is the lack of dependent types in Haskell (and unfortunately Rust and all languages with a vast ecosystem).<p>With dependent types, you can just include a type-level proof that x &lt;= 5 in the integer wrapper type, which then allows to statically check that the default case in the match is impossible.<p>A newtype including such a dependently-typed proof is the correct solution to this problem, since it can be generalized to any range, unlike the enum with 5 variants.')