Item(by='dividuum', descendants=None, kids=[25797798], score=None, time=1610751733, title=None, item_type='comment', url=None, parent=25797529, text='Something like<p><pre><code>  function no_globals()\n    setmetatable(_G, {\n        __newindex = function(t, k, v)\n            return error(&quot;attempt to set global &#x27;&quot;..tostring(k))\n        end,\n        __index = function(t, k)\n            return error(&quot;attempt to reference missing global &#x27;&quot;..tostring(k))\n        end,\n    })\n  end\n</code></pre>\ncan help catch assignment and usage of undefined (e.g. by not using &#x27;local&#x27;) variables. The downside is that this then also applies to function definitions. So be prepared to write &#x27;local function xyz()&#x27;.')