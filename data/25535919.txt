Item(by='sharpneli', descendants=None, kids=[25536161], score=None, time=1608896825, title=None, item_type='comment', url=None, parent=25535667, text='I bet macOS audio API&#x27;s are way better than on Windows. I don&#x27;t have experience of them myself but I have been burned by Windows ones.<p>I have a small story to tell about this. Windows WASAPI has a way for it to tell you when, supposedly, the endpoint device started the recoding of a buffer. This is important if one wants to have a sync with precision of sub millisecond range.<p>Well. It doesn&#x27;t quite work like that in reality. I noticed the hard way that if one gets a 2ms long packet. Queries the high performance timestamp, then queries the packet recording time, then queries the timestamp again. The packet was supposedly recorded after the first timestamp but before the next. And as the packet was 2ms long and the previous timestamp was way way way less than 2ms from the query it means that it was impossible for it to start the capture at that point.<p>So instead of returning the start of the recording as per docs state WASAPI just returned the current high precision timestamp. It&#x27;s basically you asking someone &quot;Hey, this 10 hour video you gave me, when did you actually start recording it?&quot; &quot;Now. I started the recording right at this moment&quot;.<p>This story has a happy ending though. I grabbed portaudio, hacked it&#x27;s windows low level implementation to return the actual timestamp based on the register of the soundcard that points to the FIFO buffer and managed to get sub ms precision.<p>So if macOS audio API&#x27;s are as good compared to Windows (which is a dumpster fire unless one uses some custom stuff dependent on manufacturer) as iOS api&#x27;s are compared to Android (where only Pixel phones are not dumpster fires) I can easily see why Macs are the devices of choice.')