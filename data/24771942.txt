Item(by='nitrogen', descendants=None, kids=[24772017], score=None, time=1602635594, title=None, item_type='comment', url=None, parent=24771906, text='<i>A buddy allocator has no such constraints. It&#x27;s general-purpose. Thus, there&#x27;s no obvious opportunity to do better than the system allocator.</i><p>The system allocator isn&#x27;t guaranteed to be optimal for your workload.  Way back in college one of the assignments was to write a custom allocator.  The fastest allocator got extra credit.  Our school lab was running Linux on SGIs with AMD Opteron CPUs.  The native malloc would get 3000 allocs per second in the grading program&#x27;s benchmark.  I managed to top 10000&#x2F;s with a buddy list allocator with coalescing, if I recall correctly.<p>One of the weird things was that replacing all structs with pointer arithmetic (managed by preprocessor macros) gave a pretty big boost in speed.  I didn&#x27;t dig too much into the assembly because it was already more than fast enough.')