Item(by='praptak', descendants=None, kids=None, score=None, time=1607845709, title=None, item_type='comment', url=None, parent=25405001, text='Then it goes to the freeing thread memory pool. Thread-aware mallocs know this and have clever balancing mechanisms for situations like producer-consumer, where one thread allocs a lot and another frees a lot.<p>Edit: wrong, I re-checked. The solution to this is that marking an object as free is lock-free. The freed objects do not immediately change thread pools.')