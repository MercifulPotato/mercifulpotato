Item(by='mlyle', descendants=None, kids=None, score=None, time=1611351371, title=None, item_type='comment', url=None, parent=25875148, text='The issue is: the two functions that we&#x27;re comparing for correctness treat lengths very differently: one scans len-1 bytes, the other scans len+1 bytes.<p>Even with a null terminator, there isn&#x27;t a length that would work for both without overrunning the buffer.<p><pre><code>        printf(&quot;%d %d\\n&quot;, search_ok_1(&quot;mok&quot;, 2), search_ok_2(&quot;mok&quot;, 2));\n        printf(&quot;%d %d\\n&quot;, search_ok_1(&quot;mok&quot;, 3), search_ok_2(&quot;mok&quot;, 3));   &#x2F;* Overruns without null term *&#x2F;\n        printf(&quot;%d %d\\n&quot;, search_ok_1(&quot;mok&quot;, 4), search_ok_2(&quot;mok&quot;, 4));   &#x2F;* Overruns even WITH null term *&#x2F;\n</code></pre>\nPrints out:<p><pre><code>    1 2\n    1 3\n    1 1</code></pre>')