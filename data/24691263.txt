Item(by='hinkley', descendants=None, kids=None, score=None, time=1601927064, title=None, item_type='comment', url=None, parent=24690732, text='There is a trick that I wish all senior staff knew but we find ourselves having to teach as a matter of routine.<p>1) Don&#x27;t advertise what you&#x27;re not selling<p>2) Don&#x27;t sell everything that you&#x27;ve made<p>It&#x27;s possible to write software that has a public contract that allows only a subset of states that the internal system allows. You can use this to support one customer that has a requirement that is mutually incompatible with another customer&#x27;s, but you can also use it for migrations. One should be able to create an API where the legal values in the system are strictly limited, but the data structures and storage format may have affordances to support migration.<p>That doesn&#x27;t necessarily solve the problem of communication between services and migrating these changes into a running system, but it&#x27;s a useful tool. If you&#x27;ve ever had a coworker who insists on your service call diagrams looks like a tree or an acyclic graph, this problem is certainly one of many reasons they may be insisting on this. With a DAG there is an order in which I can deploy things that has a prayer (but not a guarantee) of letting all of the systems understand each other during each increment of deployment.<p>People have come up with alternative solutions for this problem by employing sophisticated sets of feature toggles, and in some ways this is superior, but it trades the number of steps (each of which has a potential for human error, and consumes calendar time) for increased reliability on average.')