Item(by='pp19dd', descendants=None, kids=None, score=None, time=1602725626, title=None, item_type='comment', url=None, parent=24782823, text='Hm.  I&#x27;ll make the end condition configurable so you can pick that as an option.  Right now I&#x27;m stuck at a second refactoring but the idea is to give the player flexibility on structuring the game when they start it.  Right now the end-game routine is a very dumb implementation.<p><pre><code>    &#x2F;&#x2F; meaning all tiles are touched or marked\n    &#x2F;&#x2F; and guesses are correct\n    is_board_solved() {\n        for( var k in this.board.public ) {\n            \n            &#x2F;&#x2F; takes a single unguessed, unrevealed tile\n            if(\n                this.board.public[k].state === &quot;unknown&quot; &amp;&amp;\n                this.board.public[k].guess === false\n            ) {\n                return( false );\n            }\n\n            &#x2F;&#x2F; or one wrong mine guess\n            if(\n                this.board.public[k].guess === true &amp;&amp;\n                this.board.private[k].mine === false\n            ) {\n                return( false );\n            }\n        }\n        return( true );\n    }</code></pre>')