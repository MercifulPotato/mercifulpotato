Item(by='_3u10', descendants=None, kids=[25802185, 25802418, 25801461, 25801547], score=None, time=1610772674, title=None, item_type='comment', url=None, parent=25797674, text='There are two problems here:<p>1. The position of an element in an array is not a property of the element but of the array.<p>2. Don&#x27;t use sorted sets when you need the properties of an array &#x2F; linked list.<p>You can store the todo list as an array of todos (use a user defined datatype), you can create another table called todo_list that contains an array of references to the todos. You can also create a linked list. Note that you&#x27;ll have to use modern SQL to retrieve the linked list &#x27;efficiently&#x27;.<p>The problem only becomes difficult when we dislike the obvious solutions because it violates some property of &#x27;elegance&#x27; which apparently means restricting yourself to the 1980s versions of SQL implementations.<p>If the language we were writing this in was called JS and the code has the order of the array as a property of the object and we were continually sorting it every time we accessed the array instead of just reordering the array we&#x27;d recognize this as the anti-pattern it is. Similarly if for some reason using JS functions was considered &#x27;inelegant&#x27;, or for some reason using only JS features of 1996 instead of 2020.<p>Modern SQL has CTEs, functions, and arrays. They are very elegant when solving the problem of arrays in SQL.')