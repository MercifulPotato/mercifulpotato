Item(by='syoc', descendants=None, kids=None, score=None, time=1611953313, title=None, item_type='comment', url=None, parent=25960327, text='I have done some tests on AMD servers and I the Linux scheduler does a pretty good job.\nI do however get noticeable (a couple percent) better performance by forcing the process to run on the correct numa node.<p>Make sure you get as many numa domains as possible in your BIOS settings.<p>I recommend using numactl with the cpu-exclusive and mem-exclusive flags. I have noticed a slight perfomance drop when RAM cache fills beyond the sticks local to the cpus doing work.<p>One last comment is that you mentioned interrupts being &quot;stiped&quot; among CPUs. I would recommend pinning the interrupts from one disk to one numa-local CPU and using numactl to run fio for that disk on the same CPU.\nAn additional experiment is to, if you have enough cores, pin interrupts to CPUs local to disk, but use other cores on the same numa node for fio. That has been my most successful setup so far.')