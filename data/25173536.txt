Item(by='twhitmore', descendants=None, kids=None, score=None, time=1606001496, title=None, item_type='comment', url=None, parent=25169666, text='Files are a good abstraction to start from.<p>But to be honest, persistence &amp; durability of data are the goal of Storage and thus what the filesystem API needs to be designed for.<p>The API needs to clearly be designed for atomicity, durability &amp; to allow coordination across multi-file structures.<p>This can be achieved by either 1) indicating all required synchronizations to callers in metadata, or 2) fully encapsulating durability by making the API atomically commit every operation.<p>I don&#x27;t agree these factors should be hidden, since a losing&#x2F; corrupting data are fundamentally at odds with the goals of a Storage API.<p>It&#x27;s not just SQLite, any application needing to maintain a datastore needs reliable storage.')