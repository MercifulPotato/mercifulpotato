Item(by='daviesliu', descendants=None, kids=None, score=None, time=1610582348, title=None, item_type='comment', url=None, parent=25764163, text='JuiceFS has a single node version working like this, it store in the metadata in SQLite and upload S3 in background, it&#x27;s useful in some cases but not in general, you may lose recent metadata if the single node is broken.<p>The difficulty of using S3 as metadata is that they is not way to persistent metadata under 1 ms, for example, created a symlink, it will take more than 20ms, or you may lose it.<p>With en external persisted database, we could have the ACID for metadata operations. Also, the meta is the source of truth, whenever the object store is out of sync (losing or leaking a object), the whole file system is still consistent, rather than part of a file is corrupted, should be safer than put everything into S3.<p>The database is the key, redis is our first choice, we will add support to other databases in future.')