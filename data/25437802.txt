Item(by='jrockway', descendants=None, kids=[25440777, 25437974, 25441460], score=None, time=1608081270, title=None, item_type='comment', url=None, parent=25437057, text='It is pretty clear that accepting a TCP connection and reading the bytes of the email from the sender is not the problem.  Google is bouncing messages with an error like &quot;that user doesn&#x27;t exist&quot;.  This would lead one to believe that some instances are having trouble looking up users, and that doesn&#x27;t scale super easily.  If the product guarantees that it will reject invalid email addresses (which is nice of them, not required by any spec), there has to be a globally consistent record of what email addresses are valid, and the accepting server has to look it up and react in the time that the sender is still connected to the mail server.  You can&#x27;t queue those and send the bounce later (there is no reliable &quot;from&quot; field in email; the only way to correctly bounce is while the sender is still connected).  This basically means that you have on the order of milliseconds to accept or reject the email, so merely starting up a another replica of your SMTP daemon isn&#x27;t going to mitigate this issue.  The chokepoint is querying the list of users to see if you should bounce or accept the email.  They made it hard on themselves by providing messages like &quot;that user doesn&#x27;t exist&quot;, but... it is nice when you email someone and you get the message &quot;they got fired, sorry&quot; instead of silence.  So they made their system more complicated than it needed to be, for a better user experience, and now they are fighting a breakage.')