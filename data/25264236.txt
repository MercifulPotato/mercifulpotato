Item(by='mhx77', descendants=None, kids=[25267268], score=None, time=1606821065, title=None, item_type='comment', url=None, parent=25252683, text='&gt; mkdwarfs crashed with recursive links (1-level, just pointing to itself)<p>That&#x27;s odd, it shouldn&#x27;t crash with links at all, as it doesn&#x27;t actively follow links. Can you please file a bug if you can reproduce this?<p>&gt; and when I removed dirs while running mkdwarfs, which were part of of the input path<p>I guess this is fair, but I&#x27;ll try to take a look anyway. :-)<p>&gt; On success, mkdwarfs needed 1 hr, and reduced 219 dirs to a size of 970 MB. Not just source files, but also the build and install object files.<p>My 500 MB image with the 1100+ perls is just installations, from which I&#x27;ve actually removed libperl.a as I&#x27;ve never needed it and it really bloats the image. I&#x27;ve got a separate image with debug information (everything built with -g in case I need to debug the binaries), so the binaries in the main image are essentially all stripped. If I need to debug, I&#x27;ll just mount the debug image as well, which contains the source files and the stripped debug data.<p>&gt; 1 hr is a lot, but just think how long squashfs would have needed.<p>It might be worth trying a lower compression level, especially if you find that mkdwarfs is CPU bound and not I&#x2F;O bound.')