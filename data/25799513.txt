Item(by='wahern', descendants=None, kids=None, score=None, time=1610765130, title=None, item_type='comment', url=None, parent=25798780, text='Unless you have infinite memory, at some point you <i>want</i> a task to slow down, block, or whatever in the face of resource exhaustion.<p>It&#x27;s not a bad idea to maintain a local buffer that gives you a certain amount of cushion. I recently helped a team resolve the exact problem you had, with a similar solution. But excessive, unnecessary use of non-pageable memory is one of the things which induce early I&#x2F;O contention, causing these stalls to begin with. (Consider an overloaded or errant process generating and buffering a lot of logging noise, precisely because the overtaxed system is under heavy I&#x2F;O contention.)<p>To reiterate: you <i>want</i> backpressure, which means that you <i>want</i> a process which is exhausting limited resources to slow down or block. And you <i>want</i> that to transitively slow down or block upstream requests. Too many developers don&#x27;t understand this and insert hacks to solve their immediate problem (e.g. closing a ticket complaining about intermittent SLA latency misses) without appreciating the broader issues, which at the end of the day just contributes to these problems.<p>One of the alternatives people attempt is to insert a gazillion knobs to permit dedicated resource allocation. But now you just have two problems, the second being figuring out what the magic values should be--a never ending and often intractable problem. This rarely ends well except for highly specialized tasks--e.g. a dedicated DB administrator who spends all day attending to and tuning a database instance.<p>That said, in the old days you mounted &#x2F;var (and if you were super fancy, &#x2F;var&#x2F;log) on different disks to minimize unrelated I&#x2F;O contention.')