Item(by='mhh__', descendants=None, kids=[25274881, 25277929], score=None, time=1606897258, title=None, item_type='comment', url=None, parent=25274239, text='Writing compiler backend in a declarative manner is something I&#x27;ve been toying with for a while now, and I don&#x27;t think it&#x27;s realistically possible with current technology.<p>Backends <i>are</i> hard, unfortunately.<p>However, since you are targeting the Z80, you might be able to just take the IR and transform it yourself? I haven&#x27;t touched an LLVM backend for a while, so I don&#x27;t know what the process is atm, but if you imagine that a lot of a modern compiler is dealing with instruction scheduling and the like , which the Z80 doesn&#x27;t really have a need for.<p>LLVM is very good for the industry, but it is a little over-engineered(?). Maybe that&#x27;s a bit harsh, but the difficulty is definitely thrown at you earlier than hacking on most compilers.')