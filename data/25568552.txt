Item(by='Arnavion', descendants=None, kids=None, score=None, time=1609238178, title=None, item_type='comment', url=None, parent=25566081, text='&gt;My understanding is that &amp;mut still needs to be a unique alias even when it comes from an UnsafeCell.<p>That is correct. steveklabnik was not talking about this.<p>UnsafeCell needs to prevent optimizations that reorder accesses to the `&amp;mut` derived from its `*mut`. If reordering was allowed it could be possible that you write code that creates two `&amp;mut` (or one `&amp;mut` and one `&amp;`) that appear to have distinct lifetimes (which ought to be well-defined) but are nevertheless reordered by the optimizer to overlap (which is aliasing, and thus UB).<p>It also needs to disable the assumption that a `&amp;Foo` is immutable if `Foo` is `UnsafeCell` or an aggregate that transitively contains `UnsafeCell`.<p>This special behavior is why UnsafeCell is a lang item.')