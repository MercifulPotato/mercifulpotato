Item(by='j-berman', descendants=None, kids=[25876576], score=None, time=1611349307, title=None, item_type='comment', url=None, parent=25876160, text='openDatabase loads the database&#x27;s state into memory from the server, and then keeps it in sync with the server using the Web Socket. When you insert a transaction via one of the database operations, the server assigns the transaction a monotonically increasing sequence number, and broadcasts the transaction along with its sequence number out to the clients connected to a database. Clients then apply transactions in sequential order to the local state, and keep track of the latest sequence number applied. When a client goes offline and comes back on, it automatically reconnects the Web Socket and re-requests any transactions that it may have missed above its currently applied sequence number. We handle reconnection logic automatically under the hood, retrying on failure with backup delays.<p>Can read more on this process and how we optimize it when databases get large here: <a href="https:&#x2F;&#x2F;github.com&#x2F;smallbets&#x2F;userbase&#x2F;blob&#x2F;master&#x2F;docs&#x2F;userbase_architecture.md#transactions" rel="nofollow">https:&#x2F;&#x2F;github.com&#x2F;smallbets&#x2F;userbase&#x2F;blob&#x2F;master&#x2F;docs&#x2F;userb...</a><p>I&#x27;m also working on an offline-first Google docs alternative that will write to IndexedDB, and stay in sync with Userbase using CRDTs. The tutorial on how to do it will be here: <a href="https:&#x2F;&#x2F;userbase.com&#x2F;docs&#x2F;" rel="nofollow">https:&#x2F;&#x2F;userbase.com&#x2F;docs&#x2F;</a>')