Item(by='busterarm', descendants=None, kids=None, score=None, time=1609611408, title=None, item_type='comment', url=None, parent=25613605, text='You can just write information out to files in Terraform with no stress.<p>In terraform resources this is what that looks like:<p><pre><code>    resource aws_iam_user email {\n      name = &quot;email&quot;\n    }\n\n    resource aws_iam_access_key email {\n      user = aws_iam_user.email.name\n    }\n\n    resource local_file smtp_password {\n      content = aws_iam_access_key.email.ses_smtp_password_v4\n      filename = &quot;SES_PASSWORD.secret&quot;\n    }\n</code></pre>\nSo what&#x27;s the plumbing that you would have to do? Under the hood, Pulumi is using the Terraform providers...<p>(I left out username, because I don&#x27;t see where you&#x27;re setting emailUsername)<p>In my pipelines I don&#x27;t bother writing out to files things that are in terraform state.  I just create an output for that state (potentially set to sensitive) and then use that output in my CI&#x2F;CD. Remote state stays encrypted and without wide access and I don&#x27;t have to worry about secrets being in files anywhere.<p>That&#x27;s where the bash scripts do things with outputs. It could by python or whatever, it doesn&#x27;t matter really. But with bash I can easily just set variables to `terraform output -json | jq &lt;select output &amp;&#x2F;|| do stuff&gt;`.<p>Mainly all I do is write terraform outputs to vault (i have simple bash automation to do all of this) and then I can use the Vault secrets in other CI&#x2F;CD pipelines.')