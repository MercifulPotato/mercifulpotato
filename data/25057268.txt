Item(by='tialaramex', descendants=None, kids=[25067057], score=None, time=1605091431, title=None, item_type='comment', url=None, parent=25056038, text='&gt; can you point out resident keys in the spec<p>The WebAuthn specification calls this a &quot;Client-side-resident Public Key Credential Source&quot; or &quot;Resident Credential&quot; for short.<p>&gt; Is this only for usernameless sites?<p>It facilitates the &quot;usernameless&quot; flow yes, since the Resident Credential includes everything needed for the authenticator to claim you are some particular user and prove it. But it will still work for other flows.<p>&gt; How do sites request to use RK’s?<p>Set the residentKey parameter to &quot;required&quot; during enrollment. Enrolling an authenticator that can&#x27;t do Resident Credentials should fail in this case.<p>Sites which want a second factor only should pick &quot;discouraged&quot; which allows the authenticator to remember all the credentials if it wants to (e.g. an iPhone has gigabytes of secure Flash storage so why not) but discourages doing so.<p>&gt; If there’s multiple usernameless accounts per site how does the user select which RK to use?<p>Potentially the authenticator has its own UI. But the CTAP2 protocol allows the host to build a UI by asking for all the valid credentials for some particular relying party (ie web site). It goes something like this:<p>* Host PC-&gt; Security Key &quot;Do you know credentials for ycombinator.com ? We&#x27;re doing the usernameless thing, so I have no hints just asking&quot;<p>* Security Key &quot;Yes, here is proof I&#x27;m user 48B4C9CDA2 aka hpfr, also, I can prove 6 identities on ycombinator.com including that one&quot;<p>* Host PC &quot;OK, what&#x27;s the next identity?&quot;<p>* Security Key &quot;Here is proof I&#x27;m user A29EE0F103 aka tialaramex&quot;<p>(and so on, iterating through the identities quickly)')