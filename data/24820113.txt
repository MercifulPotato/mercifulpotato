Item(by='ratboy666', descendants=None, kids=[24820649, 24821461], score=None, time=1603046563, title=None, item_type='comment', url=None, parent=24819122, text='Yes, very good programmers can make mistakes.<p>To meet your challenge, think about the problem. How about this?<p><pre><code>  file size + 1 =&gt; s\n  allocate char buffer b[s]\n  read file to b (all data must be in memory, or merge sort. if on linux and allocation worked, read may fail! oom will get us, or we bail on read failure)\n  add final newline if missing\n  count newlines =&gt; n\n  allocate line pointers p[n] (if line pointers will not fit, we bail -- we could use offsets and fancy virtualization, if this is not a Z80)\n  fill pointer array p\n  sort =&gt; sorted[n] (if sorting fails, bail)\n  output sorted lines\n</code></pre>\nSame for C and C++. UTF-8 is ok.<p>Do you want more data than will fit into memory? Even then, \nC++ doesn&#x27;t bring much to the table. Separating the sort algorithm? Yes C++ BEGINs to pull ahead by a bit.<p>safe? yes. easy to write? yes. no fancy bits? yes.\nTranscribe to C C++ as you will. Java? won&#x27;t be as pretty. Rust, Go? don&#x27;t know.\nJavascript. Not even close.<p>Since this is a &quot;beginning programmer&quot; problem, give a design that works for another language that makes sense to a beginning programmer.')