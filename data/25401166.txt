Item(by='xorcist', descendants=None, kids=None, score=None, time=1607803531, title=None, item_type='comment', url=None, parent=25399730, text='&quot;.a | .b&quot; is just &quot;.a.b&quot; in jq.<p>Netmasks might not always be three characters.<p>Perhaps something like this:<p><pre><code>  curl -sf https:&#x2F;&#x2F;ip-ranges.amazonaws.com&#x2F;ip-ranges.json | jq -r &#x27;.prefixes[].ip_prefix&#x27; | grep -o &#x27;&#x2F;.*&#x27; | sort | uniq -c\n</code></pre>\nIf you really wanted to, you could even do the splitting and counting in jq:<p><pre><code>  curl -sf https:&#x2F;&#x2F;ip-ranges.amazonaws.com&#x2F;ip-ranges.json | jq &#x27;reduce (.prefixes[].ip_prefix | split(&quot;&#x2F;&quot;)[1]) as $mask ({}; .[$mask] += 1)&#x27;\n</code></pre>\nIt&#x27;s a super handy tool with a real language in there!')