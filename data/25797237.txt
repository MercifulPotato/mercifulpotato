Item(by='corysama', descendants=None, kids=None, score=None, time=1610748797, title=None, item_type='comment', url=None, parent=25796195, text='The classic Doug Lea&#x27;s Malloc with #define ONLY_MSPACES is great for this.  That way you can constrain not only Lua&#x27;s memory usage, but also it&#x27;s fragmentation.<p>We&#x27;d also manually run a fixed number of GC steps per frame in our games.  The higher average CPU use was worth the much lower variance.')