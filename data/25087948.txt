Item(by='dllthomas', descendants=None, kids=[25088524], score=None, time=1605304334, title=None, item_type='comment', url=None, parent=25075718, text='ETA: I was missing something - thanks!<p>I may well be missing something, but IIUC the linearity in Haskell is on the arrows - the function promises to use that argument exactly once (if it terminates - and never more than once).<p>I think this means `splitDArray` is broken.  It consumes the linear argument, but then gives us two DArrays that we can forget to fill (or, probably not as bad, fill multiple times).<p>If that&#x27;s the case, we probably want something more like<p><pre><code>    splitDArray :: Int -&gt; DArray #-&gt; (DArray #-&gt; DArray #-&gt; a) -&gt; a\n</code></pre>\nPlease someone correct me if I&#x27;ve missed something :)')