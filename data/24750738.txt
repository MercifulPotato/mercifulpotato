Item(by='senkora', descendants=None, kids=None, score=None, time=1602467399, title=None, item_type='comment', url=None, parent=24740921, text='A somewhat related idea is called &quot;benign effects.&quot; The idea is that you write code with an immutable interface that uses mutation in its implementation.<p>So there are &quot;effects&quot; (non-functional state changes) that are encapsulated (&quot;benign&quot;).<p>I learned this term in reference to Standard ML at CMU.<p>This is different from what you&#x27;re asking because it isn&#x27;t a compiler optimization and it isn&#x27;t actually checked by the language at all, but it works pretty well in practice.<p>It&#x27;s like unsafe in Rust: you write most of your code assuming a useful property that you then break in the small percentage of code that needs to break it.')