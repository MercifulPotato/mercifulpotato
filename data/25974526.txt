Item(by='mhh__', descendants=None, kids=[25974988, 25974669], score=None, time=1612053394, title=None, item_type='comment', url=None, parent=25973194, text='It has a pretty large cost for small amounts of work, but Z3 seems like a good dependency for an optimizing compiler - asking it to do nothing from C++ seems to cost about 4ms, which isn&#x27;t cheap but you can batch these things.<p>I&#x27;m not sure exactly what data structures LLVM uses to track knowledge about the program it&#x27;s optimising, but with SMT you can ask the solver very non-trivial questions about the code and either eliminate subtle dead code or generate exploitable invariants (for &quot;free&quot;)')