Item(by='RossM', descendants=None, kids=[25356835], score=None, time=1607449025, title=None, item_type='comment', url=None, parent=25347877, text='Using Cloudflare with DoH is documented here: <a href="https:&#x2F;&#x2F;docs.pi-hole.net&#x2F;guides&#x2F;dns-over-https&#x2F;" rel="nofollow">https:&#x2F;&#x2F;docs.pi-hole.net&#x2F;guides&#x2F;dns-over-https&#x2F;</a><p>You essentially run a little proxy server on your pihole setup, and configure pihole to use it as your upstream dns resolver.<p>E.g., a proxy server running at 127.0.0.1:5053 which uses the Cloudflare ipv4&#x2F;ipv6 DNS over HTTPS endpoints. This can also use other DoH endpoints as desired:<p><pre><code>    &#x2F;usr&#x2F;local&#x2F;bin&#x2F;cloudflared proxy-dns \\\n      --port 5053 \\\n      --upstream https:&#x2F;&#x2F;1.1.1.1&#x2F;dns-query \\\n      --upstream https:&#x2F;&#x2F;1.0.0.1&#x2F;dns-query \\\n      --upstream https:&#x2F;&#x2F;2606:4700:4700::1111&#x2F;dns-query \\\n      --upstream https:&#x2F;&#x2F;2606:4700:4700::1001&#x2F;dns-query</code></pre>')