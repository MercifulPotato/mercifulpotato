Item(by='lmm', descendants=None, kids=None, score=None, time=1608710070, title=None, item_type='comment', url=None, parent=25514663, text='&gt; Would that imply every function that takes a mutable data structure will be impure?<p>That always has to be true, no? Reading from a mutable datastructure is impure in the same way that reading from standard input is.<p>&gt; Edit: I just noticed that `List.toArray` -- which just returns a new array, so no concern over references or mutation -- is also marked as impure. This seemed wrong to me, but then I noticed that even `Array.new()` is marked impure. To my mind, a function that allocates a new mutable collection is itself not inherently impure.<p>Two different arrays with the same members are not generally equivalent. E.g. (x.toArray, x.toArray) is semantically something very different from {val y = x.toArray; (y, y)}.')