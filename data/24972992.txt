Item(by='thamer', descendants=None, kids=[24974576], score=None, time=1604349590, title=None, item_type='comment', url=None, parent=24968402, text='See `ngx_write_channel` in `ngx_channel.c`[1]:<p><pre><code>    cmsg.cm.cmsg_len = CMSG_LEN(sizeof(int));\n    cmsg.cm.cmsg_level = SOL_SOCKET;\n    cmsg.cm.cmsg_type = SCM_RIGHTS;\n    \n    [...]\n    \n    ngx_memcpy(CMSG_DATA(&amp;cmsg.cm), &amp;ch-&gt;fd, sizeof(int));\n    \n    [...]\n    \n    n = sendmsg(s, &amp;msg, 0);\n\n</code></pre>\n<i></i>edit:<i></i> This article[2] also explains the way the master process sends commands to its workers.<p>[1] <a href="https:&#x2F;&#x2F;github.com&#x2F;nginx&#x2F;nginx&#x2F;blob&#x2F;2a81e0556611188a1b9b3e1240a06928dcebc1a2&#x2F;src&#x2F;os&#x2F;unix&#x2F;ngx_channel.c#L41" rel="nofollow">https:&#x2F;&#x2F;github.com&#x2F;nginx&#x2F;nginx&#x2F;blob&#x2F;2a81e0556611188a1b9b3e12...</a><p>[2] <a href="https:&#x2F;&#x2F;titanwolf.org&#x2F;Network&#x2F;Articles&#x2F;Article?AID=6fb184f9-e06b-4b9a-bcf3-a62ce22cdd53#gsc.tab=0" rel="nofollow">https:&#x2F;&#x2F;titanwolf.org&#x2F;Network&#x2F;Articles&#x2F;Article?AID=6fb184f9-...</a>')