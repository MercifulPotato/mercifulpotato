Item(by='comex', descendants=None, kids=None, score=None, time=1607202232, title=None, item_type='comment', url=None, parent=25316933, text='For C++, you don’t need that fancy struct.  You can just use inline namespaces, which were specifically designed as a portable form of symbol versioning.<p>But making the <i>standard</i> library work with a changed ABI is the easy part.  The hard part is every other library.  Users expect to be able to compile libraries (both static and dynamic) and then keep using the binary artifacts even after upgrading their operating system.  Admittedly, most libraries won’t use intmax_t in their public API, but if one does, changing the definition of intmax_t will cause the same types of ABI breaks as with the standard library.  And unlike the standard library developers, those users probably won’t know how to fix them, nor appreciate being made to.')