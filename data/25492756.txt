Item(by='mehrdadn', descendants=None, kids=[25493114], score=None, time=1608534477, title=None, item_type='comment', url=None, parent=25492694, text='Yeah that&#x27;s definitely an improvement in some respects, but (a) generic code still has to deal with 2 iterators, (b) generic code now has to allow them to be different types (so old code will have to be rewritten), (c) it doesn&#x27;t change the fact that iterators are still treated like cheap objects (generalized pointers) and hence the begin iterator is still potentially expensive to store and copy around regardless of what you do with the end iterator, and (d) it&#x27;s still a fundamental model mismatch relative to the actual problem, just not quite as unpalatable as before. Ranges fundamentally change the calculus around iteration.<p>P.S. (e) Is this sentinel-based approach even composable? If your iterator needs to use other iterators underneath, what do you do? You have to store a &#x27;full&#x27; iterator anyway... or now you waste even more space and time storing a discriminated union. The fact that a range represents the whole sequence in <i>one</i> object instead of two makes composition intuitive and trivial.')