Item(by='brundolf', descendants=None, kids=None, score=None, time=1611877292, title=None, item_type='comment', url=None, parent=25950946, text='Yeah the overall mindset is just to look for pieces of the form &quot;convert values A..X into value Z&quot;, which can be lopped off into a pure function. Wherever you can do this, you probably want to.<p>But this generally only works if all of the information going into Z is under your code&#x27;s purview. If the auto-increment were happening in your code instead of in the database then you could make the records a pure function of the domain data + the next auto-incremented ID, and the procedural code which calls the pure function would retrieve the ID and increment it, call the pure function with it to generate the records, and then call another impure function to persist them. But of course moving the auto-increment logic and state from the DB to your application code is a huge undertaking involving many other trade-offs, and is not necessarily recommended just for the sake of something like this.')