Item(by='SAI_Peregrinus', descendants=None, kids=None, score=None, time=1612194302, title=None, item_type='comment', url=None, parent=25988843, text='Those issues aren&#x27;t generally actually due to NULL bytes in strings, but rather due to treating UTF-8 strings as C `char*` (or other mistreatment of &quot;compatible&quot; encodings). C code cannot handle UTF-8 strings as `char*`, even if you&#x27;ve got a UTF-8 locale (eg `LANG=en_US.UTF-8`). You have to convert multibyte strings to wide character strings (eg using `mbrtowc` to get a `wchar_t*` and then operate on that. C has multiple string types, no good type safety for them, and confusing them leads to vulnerabilities.')