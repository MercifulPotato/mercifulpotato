Item(by='danieldk', descendants=None, kids=None, score=None, time=1602860264, title=None, item_type='comment', url=None, parent=24800637, text='<i>Is this harder to achieve for the Rust ecosystem (due to some properties of Haskell perhaps)?</i><p>You can actually do this today. The <i>buildRustCrate</i> function in nixpkgs creates a derivation for a single Rust crate. You can combine this with crate2nix [1] to make derivations for a crate and all its dependencies in a <i>Cargo.lock</i> file. Every compiled crate will be a separate output in the Nix store and you can upload them to a binary cache such as Cachix.<p>This is what I have been using for CI in many of my Rust projects in combination with Cachix to get very fast builds.<p>[1] <a href="https:&#x2F;&#x2F;github.com&#x2F;kolloch&#x2F;crate2nix" rel="nofollow">https:&#x2F;&#x2F;github.com&#x2F;kolloch&#x2F;crate2nix</a>')