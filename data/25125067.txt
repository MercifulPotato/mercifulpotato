Item(by='tristor', descendants=None, kids=[25125258], score=None, time=1605627969, title=None, item_type='comment', url=None, parent=25124286, text='I&#x27;m not sure why HN won&#x27;t allow me to reply to ori_b&#x27;s question below you, however DoH in Firefox (and in Chrome) have clearly spelled out ways to disable it at the network level for those folks who are network operators and want to restrict it due to interference in filtering or split-horizon DNS.<p><a href="https:&#x2F;&#x2F;support.mozilla.org&#x2F;en-US&#x2F;kb&#x2F;configuring-networks-disable-dns-over-https" rel="nofollow">https:&#x2F;&#x2F;support.mozilla.org&#x2F;en-US&#x2F;kb&#x2F;configuring-networks-di...</a><p>Someone previously mentioned Pi-Hole.  Pi-Hole provides the DoH canary domain in it&#x27;s default configuration, therefore if you run an up to date Pi-Hole on your network you will have DoH disabled.  It is recommended (and there are good instructions on the Pi-Hole website) to set up cloudflared or a similar DNS resolver which implements DoH as the backend to Pi-Hole, allowing it to use DoH when leaving your network but still act as the local network&#x27;s authoritative name server.<p>If you choose to be a network operator, there are some additional complexities you must think about.  For those (majority of) users that choose not to be network operators, DoH is nearly transparent for them and provides significantly improved security and privacy by preventing local cache poisoning, DNS injection, and DNS snooping attacks on their browsing.<p>Additionally, while the default in Firefox is a non-filtering endpoint currently, you can manually configure the use of a filtering DoH endpoint like those provided by CloudFlare 1.1.1.1 for Families if you wanted to do so.  Nothing prevents this, and it can be configured via policies network-wide in Firefox using the enterprise policy mechanisms.')