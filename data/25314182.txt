Item(by='jon-wood', descendants=None, kids=[25314598, 25314243, 25315227, 25317633, 25319662, 25316976, 25322720, 25314419, 25318438, 25318633, 25314877, 25314347, 25314461, 25317161, 25315074, 25314718, 25315058, 25316979, 25317364, 25321276, 25323664, 25318405, 25315103, 25316467, 25316471, 25316978, 25318310, 25314483, 25315806], score=None, time=1607172877, title=None, item_type='comment', url=None, parent=25313480, text='I’m responsible for a bunch of IoT hardware, and every firmware spec I write includes a note on not using the DNS servers provided via DHCP. While sure there are companies explicitly doing this to avoid filtering, at least in my case it’s because a significant proportion of DHCP servers are configured to send DNS to your ISP, and ISP provided DNS is almost universally terrible. They’ll ignore TTLs, rewrite NXDOMAIN responses into the IP address of their ad-laced web search, and occasionally just highjack every single query to send you to a page saying you’re approaching your bandwidth quota. In the face of that sort of behaviour you inevitably end up with technical support having to field angry customers who just don’t get that it’s not our fault the hardware isn’t working, and the response to that is hardcoding a set of known good DNS servers which we can rely on.<p>Please, if you have a Pihole, redirect all DNS through it as described in the article. Just be aware DNS over HTTPS is a thing now, and while the devices I’m responsible for aren’t going to try and evade your redirects, the companies that are trying to make sure ads get delivered will absolutely switch to DoH which will be much more difficult to work around.')