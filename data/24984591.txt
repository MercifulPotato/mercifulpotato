Item(by='sitharus', descendants=None, kids=None, score=None, time=1604441406, title=None, item_type='comment', url=None, parent=24984503, text='It really depends on your use-case.<p>A very brief summary for the case of Postgres: every tuple has a pair of hidden columns `min_xid` and `max_xid`. Every transaction get assigned an `xid` that&#x27;s always increasing (it wraps around on int_max, that&#x27;s a problem for later), and it can only see rows where `xid &gt; min_xid and (max_xid is null or xid &lt;= max_xid)`.<p>On writes the database is checked for rows with a matching PK where min_xid &gt; xid, if any are found an error is raised.<p>The reality is a lot more complex than this and involves some locks during transaction commits and the vacuum process to clean up dead rows and handle xid wrap-around, but that&#x27;s the basic idea.')