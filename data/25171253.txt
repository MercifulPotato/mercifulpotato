Item(by='jlgaddis', descendants=None, kids=[25171751, 25171397], score=None, time=1605981037, title=None, item_type='comment', url=None, parent=25147919, text='&gt; <i>A router that needs a certificate contacts the OpenWrt CA over an encrypted channel and sends its SSH host key; the CA hashes the key and reserves the &quot;SSH-hash.luci.openwrt.org&quot; host name for the device. The OpenWrt CA sends back a nonce to the router, which creates a certificate signing request (CSR), hashes it, and then signs the hash, nonce, and a timestamp using its SSH host key. The CSR and signed message are sent back to the OpenWrt CA, which verifies the information and signature, signs the certificate, and sends it back to the device.</i><p>Yeah, that&#x27;s not going to work.<p>The CA&#x2F;Browser Forum has clear guidelines on the validation&#x2F;verification methods required before a certificate can be issued and you&#x27;re not going to find a CA that will allow something like this (even from a subordinate CA because, as TFA points out, they are responsible for all issuing performed by their subordinates).<p>Folks have been trying to come up with a good solution for this for ages and one hasn&#x27;t been found yet. At present, I think the best solution is to just create your own private PKI and issue your own certificates. If you don&#x27;t want to deal with that, you can use ACME with DNS-based validation to get a certificate for your desired hostnames (every 90 days).')