Item(by='dnautics', descendants=None, kids=[25897714], score=None, time=1611533452, title=None, item_type='comment', url=None, parent=25897334, text='I&#x27;ve been pretty happy with Elixir&#x27;s Ecto.  I wouldn&#x27;t call it easy, though.  There is a LOT of ceremony, but it&#x27;s designed to be declarative and it sure puts me at ease.<p>For database ingress, I use schemas, and put in aggressive validations in the changesets.  For jsonb values, I use embedded_schemas (<a href="https:&#x2F;&#x2F;thoughtbot.com&#x2F;blog&#x2F;embedding-elixir-structs-in-ecto-models" rel="nofollow">https:&#x2F;&#x2F;thoughtbot.com&#x2F;blog&#x2F;embedding-elixir-structs-in-ecto...</a>), and cast their creation as a normal part of filling in the database object.  For egress to a third party that accepts JSON, I use naked embedded_schemas (even better if they can be shared with the database) and use a protocol to build an custom encoder that can for example send the 3rd party a deeply structured JSON from a flat struct.  Due to the way protocols work in elixir, when I send it to Oauth, Oauth will (indirectly) call my protocol code.')