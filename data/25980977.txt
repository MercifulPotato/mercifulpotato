Item(by='colinchartier', descendants=None, kids=[25981695], score=None, time=1612116547, title=None, item_type='comment', url=None, parent=25980839, text='With Kubernetes, a typical workflow might look like this:<p>1. Start kubernetes cluster<p>2. Build docker images<p>3. Deploy docker images (helm, kubectl, argocd, ...)<p>4(a) Run unit tests (kubectl exec -l k8s-app=web rake test)<p>4(b) Run e2e tests (kubectl run cypress)<p>4(c) Create ephemeral environment (EXPOSE WEBSITE localhost:8000)<p>Because we take memory snapshots after each step, you&#x27;d effectively get a fresh, fully-provisioned kubernetes cluster immediately after pushing instead of re-running all the steps every time (you&#x27;d skip to step 3) and then run 4{a,b,c} in parallel (they&#x27;d all &quot;fork&quot; the VM and get a separate copy of all of the resources)<p>Here are a few links that go into more detail:<p>- <a href="https:&#x2F;&#x2F;layerci.com&#x2F;docs&#x2F;tuning-performance&#x2F;run-repeatable" rel="nofollow">https:&#x2F;&#x2F;layerci.com&#x2F;docs&#x2F;tuning-performance&#x2F;run-repeatable</a><p>- <a href="https:&#x2F;&#x2F;layerci.com&#x2F;blog&#x2F;ci-at-layerci&#x2F;" rel="nofollow">https:&#x2F;&#x2F;layerci.com&#x2F;blog&#x2F;ci-at-layerci&#x2F;</a>')