Item(by='sgtnoodle', descendants=None, kids=None, score=None, time=1606894389, title=None, item_type='comment', url=None, parent=25262764, text='A good rule to follow in software engineering in general is &quot;never write your own lock free data structures&quot;. I&#x27;m the one writing them so that my coworkers don&#x27;t need to, though. I&#x27;ve used atomics to implement various flavors of queues in low level C for use on microcontrollers. A good single-producer single-consumer queue abstraction is helpful for communicating with interrupt service routines in peripheral drivers. Bespoke multiple-producer single or multiple-consumer queues are often useful for implementing logging abstractions that work from any context, including in interrupt handlers and critical sections.')