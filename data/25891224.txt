Item(by='flohofwoe', descendants=None, kids=None, score=None, time=1611488097, title=None, item_type='comment', url=None, parent=25889677, text='I&#x27;m tackling this issue from two sides:<p>(1) Change the C-API to make it more &quot;binding-generator-friendly&quot;, for instance by adding a range&#x2F;slice-struct to th C-API which bundles a pointer and associated size, or specially named typedefs that only exist to give the binding generator hints for special case handling. By adding a C-type which represents a range&#x2F;slice, it&#x27;s easier to connect high level languages to the C API, and as a nice side effect, the C-API also becomes safer and more &quot;correct&quot;, because pointers and associated sizes can be passed around as one item.<p>(2) Make the bindings-generator configurable on a per-language and per-API basis, this can be as simple as a map which overrides type- and function-names, or injects manually written code into the generated bindings.<p>The goal is to make the generated bindings more idiomatic to the target language.<p>This mostly works if you have control over the underlying C-API of course, e.g. the language bindings are created by the original C-library project, not as an external project to convert a fixed C-API.<p>I wrote a blog post about this whole topic:<p><a href="https:&#x2F;&#x2F;floooh.github.io&#x2F;2020&#x2F;08&#x2F;23&#x2F;sokol-bindgen.html" rel="nofollow">https:&#x2F;&#x2F;floooh.github.io&#x2F;2020&#x2F;08&#x2F;23&#x2F;sokol-bindgen.html</a><p>...and here&#x27;s an example of such semi-auto-generated Zig bindings:<p><a href="https:&#x2F;&#x2F;github.com&#x2F;floooh&#x2F;sokol-zig&#x2F;tree&#x2F;master&#x2F;src&#x2F;sokol" rel="nofollow">https:&#x2F;&#x2F;github.com&#x2F;floooh&#x2F;sokol-zig&#x2F;tree&#x2F;master&#x2F;src&#x2F;sokol</a><p>...for instance note the &quot;injected&quot; helper functions here:<p><a href="https:&#x2F;&#x2F;github.com&#x2F;floooh&#x2F;sokol-zig&#x2F;blob&#x2F;1c93f60ad178869b84df63f6b5ecce9fdb5a049e&#x2F;src&#x2F;sokol&#x2F;debugtext.zig#L5-L45" rel="nofollow">https:&#x2F;&#x2F;github.com&#x2F;floooh&#x2F;sokol-zig&#x2F;blob&#x2F;1c93f60ad178869b84d...</a>')