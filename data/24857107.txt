Item(by='tialaramex', descendants=None, kids=None, score=None, time=1603368188, title=None, item_type='comment', url=None, parent=24856844, text='For a trivial connection-oriented protocol the ports are part of a 4-tuple (my-address, my-port, your-address, your-port) so the 16-bit port isn&#x27;t a big problem there. It doesn&#x27;t matter <i>at all</i> whether this port is being used for something else in regards to any other combination of remote address and port since that&#x27;s not a match.<p>And for fancier protocols it doesn&#x27;t matter anyway because they have their own concept of a connection identifier. WireGuard for example doesn&#x27;t care at all, packets arrive and either they&#x27;re authenticated or they aren&#x27;t, it silently discards all packets that aren&#x27;t authenticated, QUIC optionally has a connection ID that can survive changing the 4-tuple as far as I remember.<p>If you wish you did have more ports, the IPv6 address space makes it pretty cheap to just acquire more addresses on your network and use those, but I do not sense much appetite because people don&#x27;t feel like they&#x27;re short of ports.<p>You do see people spinning up more addresses to not need SNI or similar. If you have sixty virtual machines on one hardware box, having sixty IPv6 addresses, one per VM, means now the packets for VM #4 and VM #18 are separated on the wire, which might be convenient but that doesn&#x27;t feel like it&#x27;s due to running out of ports, it&#x27;s just more convenient.')