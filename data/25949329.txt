Item(by='37ef_ced3', descendants=None, kids=None, score=None, time=1611868499, title=None, item_type='comment', url=None, parent=25945317, text='If 32 bits are enough, use 32-bit PCG (<a href="https:&#x2F;&#x2F;www.pcg-random.org&#x2F;" rel="nofollow">https:&#x2F;&#x2F;www.pcg-random.org&#x2F;</a>) instead<p>In Go:<p><pre><code>  package rand\n\n  type Src [2]uint64\n\n  func New(bits1, bits2 uint64) *Src {\n      return &amp;Src{bits1, bits2 | 1}\n  }\n\n  func (s *Src) Uint32() uint32 {\n      var (\n          x = s[0]\n          y = uint32(x &gt;&gt; 59)\n          z = uint32((x&gt;&gt;18 ^ x) &gt;&gt; 27)\n      )\n      s[0] = s[1] + x*6364136223846793005\n      return z&gt;&gt;y | z&lt;&lt;(-y&amp;31)\n  }\n\n  func (s *Src) LessThan(n uint32) uint32 {\n      for min := -n % n; ; {\n          r := s.Uint32()\n          if r &gt;= min {\n              return r % n\n          }\n      }\n  }</code></pre>')