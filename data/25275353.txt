Item(by='sudeepj', descendants=None, kids=None, score=None, time=1606907427, title=None, item_type='comment', url=None, parent=25275283, text='&gt; you have to write the whole file each time<p>Will not write the whole file. Instead each page of the database (default = 4KB) will be separate put.<p>The use case is: one-writer multiple readers.<p>The readers will read an old snapshot of the database (from s3) and writer will write to the active one. This way a lot of readers can open the DB in read-only mode.<p>As for writer, each page will be a separate put. The writes will be appended to a log(s) locally and the page will be synced in the background. This helps to exploit lot of parallel PUTs to S3. Once the sync happens the disk space for that page will be reclaimed.<p>For the writer:<p>v = open_new_version()<p>&#x2F;&#x2F;inserts + updates<p>&#x2F;&#x2F;commit<p>close_version(v)<p>For readers:<p>open_version_for_read(v)<p>&#x2F;&#x2F;select')