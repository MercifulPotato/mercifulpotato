Item(by='tialaramex', descendants=None, kids=[25683064, 25681566], score=None, time=1610064195, title=None, item_type='comment', url=None, parent=25678245, text='ECH is intended to be GREASEd which means there isn&#x27;t an easy way to say &quot;Block ECH only when it is used&quot; because the obvious markers are present in every single connection.<p>That is, an ECH implementing browser talking to some web site that doesn&#x27;t do ECH will present it an ECH blob which is random gibberish. The web site doesn&#x27;t do ECH, so it ignores the ECH, but a middlebox doesn&#x27;t know that and if it wants to &quot;block ECH&quot; it must tear down this connection.<p>If the same browser connects to a site which does have ECH the ECH blob isn&#x27;t gibberish it&#x27;s encrypted, the site decrypts it and treats the result as the real ClientHello.<p>Historically China&#x27;s Great Firewall is willing to put work in to detect and sabotage things it doesn&#x27;t like. But the point of GREASing extensions is to ensure that the extension itself isn&#x27;t poisoned. As a result most likely ECH will work fine in China, they&#x27;ll just block IPs they don&#x27;t like, punish citizens (or indeed visitors) they don&#x27;t like, and that&#x27;s an internal matter that the Chinese can take up with their government in the usual (and costly) way.<p>This is not a magic anti-censorship tool, and isn&#x27;t designed to be one. Even Tor isn&#x27;t that, although its developers can point you at services that help if that&#x27;s what you need.')