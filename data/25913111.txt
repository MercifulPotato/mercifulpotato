Item(by='cconstantine', descendants=None, kids=None, score=None, time=1611641791, title=None, item_type='comment', url=None, parent=25910841, text='I&#x27;ve done a few postgres upgrades, the first using pg_upgrade, and the last doing effectively what you did (it was even 9.x -&gt; 12).<p>My experience was that it needs to rewrite all the data for some tables&#x2F;indexes under some circumstances, and the db won&#x27;t be available while that happens.  So, unless your db can be down for the time it takes to rewrite all that data it isn&#x27;t really an option.  After having done the upgrade through streaming logical replication I&#x27;m not sure I would try pg_upgrade again.<p>I did the pg_upgrade style update a long time ago, so most details are fuzzy, but I remember setting up a string of replicas something like:<p>primary -&gt; [read_replica, backups_replica]<p>read_replica -&gt; [upgrade_replica]<p>upgrade_replica -&gt; [read_replica_upgraded, backups_replica_upgraded]<p>This allowed us to do multiple practice rounds without putting any unnecessary load on the primary.  I think we needed to re-initiate replication off &#x27;upgrade_replica&#x27; after the upgrade, but we did the live update during low-load so the extra read load wasn&#x27;t an issue.')