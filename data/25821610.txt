Item(by='jagrsw', descendants=None, kids=[25823293, 25822605], score=None, time=1610976983, title=None, item_type='comment', url=None, parent=25821536, text='Another one then :)<p>A few months ago I tried to run CSGO under Wayland. I recompiled libSDL.so b&#x2F;c the one delivered with CSGO doesn&#x27;t support Wayland, and ran with it LD_PRELOAD&#x27;ed. The game crashed upon start. After another debugging session with gdb&#x2F;strace, I figured out that the CSGO binary is calling<p><pre><code>  strstr()\n</code></pre>\nwith one of its arguments passed as a negative value from some other function, and it happens under Wayland only for some reason. Now, when preloading two libraries, and setting one environment flag I was able to play CSGO under Wayland.<p><pre><code>  cat apps&#x2F;strstr.c \n  #define _GNU_SOURCE\n  #include &lt;string.h&gt;\n  #include &lt;dlfcn.h&gt;\n  #include &lt;stdint.h&gt;\n  #include &lt;inttypes.h&gt;\n  \n  char *strstr(const char *haystack, const char *needle) {\n   if ((uintptr_t)haystack &gt; (uintptr_t)0xFFFFFFFF00000000) {\n    return NULL;\n   }\n  \n   char* (*p)(const char *haystack, const char *needle) = dlsym(RTLD_NEXT, &quot;strstr&quot;);\n   return p(haystack, needle);\n  }\n  \n  $ SDL_VIDEODRIVER=wayland LD_PRELOAD=&#x2F;home&#x2F;&lt;user&gt;&#x2F;apps&#x2F;strstr.so:&#x2F;home&#x2F;&lt;user&gt;&#x2F;Downloads&#x2F;SDL-master&#x2F;build&#x2F;.libs&#x2F;libSDL2-2.0.so.0.12.1 steam\n</code></pre>\nBut after playing with all those strace&#x27;s&#x2F;gdb&#x27;s&#x2F;LD_PRELOAD&#x27;s my trust factor in CSGO (the score which says how likely I am to cheat in the near future), went down from Green (good player) to Red (Significantly Bad - will start cheating any moment:) within a week. And that&#x27;s for 2012 account, with Prime enabled since 2016, and a couple of hundred matchmaking games played, and many more casual&#x2F;FFA games. So YMMV :)<p>I wrote to CSGOTeamFeedback@valvesoftware.com asking if they could verify if my account really deserves this rating, because every second CSGO match is again blatant cheaters now, but since nothing changed since a week (when I wrote it), this probably means that LD_PRELOAD&#x27;ing your steam is not a good idea :).')