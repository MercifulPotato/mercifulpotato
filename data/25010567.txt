Item(by='gjvc', descendants=None, kids=None, score=None, time=1604692461, title=None, item_type='comment', url=None, parent=25008755, text='For long-running jobs which need to be killed after a timeout, and when you also need to ensure there is only ever a single instance, use something like this:<p><pre><code>   &#x2F;usr&#x2F;bin&#x2F;flock --nonblock &#x2F;var&#x2F;tmp&#x2F;${LOGNAME}.sleep \\\n       &#x2F;usr&#x2F;bin&#x2F;timeout --signal KILL 5 \\\n           &#x2F;usr&#x2F;bin&#x2F;sleep 10\n</code></pre>\nWhere your command goes in place of the &quot;&#x2F;usr&#x2F;bin&#x2F;sleep 10&quot;  (If this is not immediately obvious, to see it in action, open two terminals on the same host, and try running the above command in both at the same time.)')