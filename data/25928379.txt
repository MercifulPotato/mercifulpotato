Item(by='jgwil2', descendants=None, kids=[25933726], score=None, time=1611756347, title=None, item_type='comment', url=None, parent=25925822, text='Okay, so it&#x27;s union types plus pattern matching that are missing (among other things I&#x27;m sure). Thanks, that&#x27;s helpful.<p>&gt; You cannot safely &quot;match&quot; on the command in the same way you can in other languages, because the compiler doesn&#x27;t know that there are only exactly 3 types of commands.<p>Perhaps the visitor pattern? Command processing receives an object and calls its command method, which knows what permissions it has.<p>I guess the fact that I have to keep saying &quot;patterns&quot; is a hint that some flexibility is missing. Still, I&#x27;d rather have Java&#x2F;C++ static types than nothing at all.')