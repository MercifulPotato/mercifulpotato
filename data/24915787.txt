Item(by='wahern', descendants=None, kids=None, score=None, time=1603865518, title=None, item_type='comment', url=None, parent=24909585, text='You can longjmp from signal handlers as it&#x27;s async-signal-safe in POSIX. I&#x27;ve done this to implement sigtimedwait on macOS and OpenBSD. If you thought writing exception-safe C++ was difficult, imagine writing async-signal-safe C++ code.<p>You can even longjmp across different stacks entirely. Many userspace threading libraries do this, but I&#x27;ve done it (legitimately, I might add) simply from a signal handler invoked on an alternate stack (see sigaltstack(2)). From the perspective of setjmp&#x2F;longjmp, there isn&#x27;t necessarily anything &quot;above&quot; the current frame. In general, longjmp is much more like a bare goto than a structured control flow construct. Notably, C++ doesn&#x27;t try to make goto play nice with constructors and destructors.<p>Rust can do w&#x27;ever it wants because 1) it has no standard, 2) refuses to commit to an ABI of its own, and 3) there&#x27;s only a single implementation, which also coincidentally 4) shares most of its toolchain with one of the most widely used C++ compilers.')