Item(by='jorams', descendants=None, kids=[25971666], score=None, time=1612030817, title=None, item_type='comment', url=None, parent=25970591, text='While open[1] is documented for macOS to be able to return EINTR, the documentation for sigaction[2] seems to specify (in confusing wording) that setting SA_RESTART prevents that. It seems to me like a bug in macOS, since they&#x27;re going against their own documentation.<p>[1]: <a href="https:&#x2F;&#x2F;developer.apple.com&#x2F;library&#x2F;archive&#x2F;documentation&#x2F;System&#x2F;Conceptual&#x2F;ManPages_iPhoneOS&#x2F;man2&#x2F;open.2.html#&#x2F;&#x2F;apple_ref&#x2F;doc&#x2F;man&#x2F;2&#x2F;open" rel="nofollow">https:&#x2F;&#x2F;developer.apple.com&#x2F;library&#x2F;archive&#x2F;documentation&#x2F;Sy...</a><p>[2]: <a href="https:&#x2F;&#x2F;developer.apple.com&#x2F;library&#x2F;archive&#x2F;documentation&#x2F;System&#x2F;Conceptual&#x2F;ManPages_iPhoneOS&#x2F;man2&#x2F;sigaction.2.html" rel="nofollow">https:&#x2F;&#x2F;developer.apple.com&#x2F;library&#x2F;archive&#x2F;documentation&#x2F;Sy...</a><p>specifically:<p>&gt; If a signal is caught during the system calls listed below, the call may\nbe forced to terminate with the error EINTR, the call may return with a\ndata transfer shorter than requested, or the call may be restarted.\nRestart of pending calls is requested by setting the SA_RESTART bit in\nsa_flags.  The affected system calls include open(2), read(2), write(2),\nsendto(2), recvfrom(2), sendmsg(2) and recvmsg(2) on a communications\nchannel or a slow device (such as a terminal, but not a regular file) and\nduring a wait(2) or ioctl(2).  However, calls that have already committed\nare not restarted, but instead return a partial success (for example, a\nshort read count).')