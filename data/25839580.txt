Item(by='bsder', descendants=None, kids=[25840577], score=None, time=1611094130, title=None, item_type='comment', url=None, parent=25837097, text='tl;dr  Software programmers continue to fail to grasp that &quot;protocol&quot; means &quot;state machine&quot;.  News at 11.<p>Even beyond just &quot;use an <i>actual</i> state machine&quot;, programmers don&#x27;t grasp that you need to think about:<p>1) What is my state <i>now</i>?<p>2) What are my inputs <i>now</i>?<p>3) What are my outputs <i>now</i>?<p>4) What is my state <i>next</i>?<p>5) Where&#x2F;when do I transition from state <i>now</i> to state <i>next</i> and does it need to be atomic?<p>Conflating any of these results in bugs.  And not using state machines explicitly <i>always</i> results in conflating these.<p>One of the most important overlooked concepts in protocols is that &quot;time&quot; is an input (interestingly, Carmack talks about this in game development, too).  Timeouts and errors are a state like anything else.')