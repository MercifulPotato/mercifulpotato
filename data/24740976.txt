Item(by='chubot', descendants=None, kids=None, score=None, time=1602355695, title=None, item_type='comment', url=None, parent=24738274, text='Yeah this is a variation on problem 2 I mentioned here, except with subshells rather than functions.<p><a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=24740842" rel="nofollow">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=24740842</a><p>The problem actually has more to do with the definition of $? than the set -e behavior itself.  And the fact that POSIX specifies that the error a the LHS of &amp;&amp; is ignored (a fundamental confusion between true&#x2F;false and success&#x2F;error)<p>The exit code of the function is not what you expect, or the exit code of the subshell is not what you expect.<p>I made a note of it on the bug ... still thinking about what the solution to that one is.<p>(The other solutions are inherit_errexit, more_errexit, and a &quot;catch&quot; builtin.)')