Item(by='ncmncm', descendants=None, kids=[24855545], score=None, time=1603334114, title=None, item_type='comment', url=None, parent=24848391, text='You don&#x27;t have to write your eBPF codes in C: You can write them in C++! Or Rust! Or Fortran? About anything that can be translated to LLVM IR. Zig! Nim! Zim!<p>So, that is the way we will get to run C++ code in the Linux kernel. And, soon enough, in the BSDs.<p>It is hard to get a sense of how janky all this is, or how amazing it is that all this Rube Goldberg gimcrackery can be made to work the wonders it is seen to do all day, every day. It&#x27;s not just a dancing bear, it&#x27;s a bear on the Bolshoi stage!<p>(Donenfeld had better get his act together and get wireguard fitting better with how eBPF wants things to be, because that is where the world is headed.)<p>If your program isn&#x27;t spending most of its time inside the kernel running code sorta JITted from eBPF, you&#x27;re just not serious about performance.<p>Unless, of course, you have gone full-on kernel bypass, and the kernel never gets your packets at all. Then you can just run straight-up, optimized native machine code translated directly from C++, or Rust, or even, with masochism enough, C!')