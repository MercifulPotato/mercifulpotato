Item(by='ufuk', descendants=None, kids=[25164439], score=None, time=1605902677, title=None, item_type='comment', url=None, parent=25164154, text='For the runtime, there is not much dark magic. Each type that has an `extend T::Sig` has `method_added` hooks registered, which notifies Sorbet runtime whenever a method is defined on the type. When that `method_added` hook is called, Sorbet runtime uses the sig flag that you mention to associate the `sig` with the method definition that follows it.<p>It is, more or less, an implementation of this idea: <a href="https:&#x2F;&#x2F;yehudakatz.com&#x2F;2009&#x2F;07&#x2F;11&#x2F;python-decorators-in-ruby&#x2F;" rel="nofollow">https:&#x2F;&#x2F;yehudakatz.com&#x2F;2009&#x2F;07&#x2F;11&#x2F;python-decorators-in-ruby&#x2F;</a>')