Item(by='willtim', descendants=None, kids=[25516887], score=None, time=1608726290, title=None, item_type='comment', url=None, parent=25516687, text='Yes, but like any encoding, it has its problems. One potential issue is that you will need to formulate your transformations as strict catamorphisms (folds), e.g. you cannot match two levels deep. This has reasoning advantages, but makes it harder for the average user. Type classes can also have issues with ambiguities, if many type variables are involved. Lastly, you also cannot match all remaining terms, like these examples:<p><pre><code>  getDates\n      :: Exp \n      -&gt; Set Date\n  getDates = cata alg where\n    alg :: ExpF (Set Date) -&gt; Set Date\n    alg (EDate i) = S.singleton i\n    alg e = fold e\n\n  substitute \n      :: Map VarId (ExpF Exp) \n      -&gt; Exp\n      -&gt; Exp \n  substitute env = cata alg where\n    alg :: ExpF Exp -&gt; Exp \n    alg (EVar i) \n      | Just e &lt;-M.lookup i env = Fix e \n    alg e = Fix e</code></pre>')