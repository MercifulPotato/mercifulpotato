Item(by='btrask', descendants=None, kids=[25523510, 25523540], score=None, time=1608765812, title=None, item_type='comment', url=None, parent=25523390, text='Whether it&#x27;s kernel threads or green threads, the same patterns (locks, etc) are possible. Locks are supposed to be the borrow checker&#x27;s bread and butter, because it can guarantee they are held before accessing shared state. But now you&#x27;re saying &quot;the borrow checker makes writing code without [async&#x2F;await] difficult, inefficient, and unergonomic.&quot;<p>I&#x27;m not saying locks are better than async&#x2F;await (although they are[1]). You&#x27;re saying the borrow checker itself can&#x27;t handle them in real world use?<p>[1] <a href="https:&#x2F;&#x2F;journal.stuffwithstuff.com&#x2F;2015&#x2F;02&#x2F;01&#x2F;what-color-is-your-function&#x2F;" rel="nofollow">https:&#x2F;&#x2F;journal.stuffwithstuff.com&#x2F;2015&#x2F;02&#x2F;01&#x2F;what-color-is-...</a>')