Item(by='dasyatidprime', descendants=None, kids=None, score=None, time=1607977846, title=None, item_type='comment', url=None, parent=25422270, text='To add to this with some (potentially out-of-date!) personal experience: sometime around 2008, now somewhere in my dusty directories, I started implementing my own Ruby XML DOM-like library (based on the Parsifal XML lexer in C) mainly to handle this properly, because the most “normal” REXML did something really horrible in its API for namespaced attributes that made them almost unusable by clients of the library. (I forget why I couldn&#x27;t use the Ruby bindings to libxml2 at the time; I think <i>maybe</i> they didn&#x27;t support several things I wanted to do, and I couldn&#x27;t add them without patching and vendoring libxml2, and that would be its own disaster because of shared libraries, etc.) Specifically, attribute accesses didn&#x27;t always work consistently with namespaces, the callers had to handle prefix management themselves in places, and <i>looping</i> over the attributes of an element required you to handle both “single” attributes and <i>sub-collections</i> of namespaced attributes if there were any qualified and unqualified attributes with the same short name, because the second was what the outer collection was indexed by…<p>(I originally wrote this comment with a more fully worked-out example, but after viewing it in context I realized it was way too long to be an only-partly-on-topic comment on this thread, so I&#x27;ll probably move it to a post elsewhere and submit it later.)')