Item(by='CapriciousCptl', descendants=None, kids=None, score=None, time=1611593477, title=None, item_type='comment', url=None, parent=25904188, text='tldr;  \n1. Attacker found a stackoverflow dev environment requiring a login&#x2F;password and access key to get in.<p>2. Attacker was able to login to the dev environment with their credentials from prod (stackoverflow.com) by a replay attack based on logging in to prod.<p>3. The dev environments allows viewing outgoing emails, including password reset magic links. The attacker triggered a reset password on a dev account, and changed the credentials. This gives them access to &quot;site settings.&quot;<p>4. Settings listed TeamCity credentials. The attacker logged into TeamCity.<p>5. Attacker spends a day or so getting up to speed with TeamCity, in part by reading StackOverflow questions.<p>6. Attacker browses the build server file system, which includes a plaintext SSH key for GitHub.<p>7. Attacker clones all the repos\n8. Attacker alters build system to execute an SQL migration that escalates him to a super-moderator on production (Saturday May 11th).<p>9. Community members make security report on Sunday May 12th, stackoverflow response found the TeamCity account was compromised and moved it offline.<p>10. Stackoverflow determines the full extent of the attack over the next few days.')