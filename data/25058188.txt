Item(by='tlarkworthy', descendants=None, kids=None, score=None, time=1605101396, title=None, item_type='comment', url=None, parent=25057372, text='You can use log and monitoring signals to whitebox test certain implementation details to an otherwise stateless interface.<p>I would say it&#x27;s not great practice, but, it can remove a lot of contortions to be able to make assertions about the execution path taken when doing a unit test.<p>If I have a tricky thing to test. I ask, if I added the required operational monitoring (e.g. queue sizes)? Would I suddenly be able to test this easier? Would it make the test more self explanatory. If the answer is yes I might add the monitoring and then do the unit testing. If the answer is no I have to refactor the implementation for testability.<p>conclusion: exposing logs and especially monitoring counters to unit tests can actually super charge your testing and leave you net positive')