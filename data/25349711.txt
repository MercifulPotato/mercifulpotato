Item(by='jgraettinger1', descendants=None, kids=[25350154], score=None, time=1607453493, title=None, item_type='comment', url=None, parent=25346851, text='This post doesn&#x27;t mention the _actual_ answer, which is to:<p>1) Write a event recording a _desire_ to checkout.\n 2) Build a view of checkout decisions, which compares requests against inventory levels and produces checkout _results_. This is a stateful stream&#x2F;stream join.\n 3) Read out the checkout decision to respond to the user, or send them an email, or whatever.<p>CDC is great and all, too, but there are architectures where ^ makes more sense than sticking a database in front.<p>Admittedly working up highly available, stateful stream-stream joins which aren&#x27;t challenging to operate in production is... hard, but getting better.')