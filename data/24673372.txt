Item(by='vlovich123', descendants=None, kids=None, score=None, time=1601745300, title=None, item_type='comment', url=None, parent=24672505, text='To do user space IP you need raw sockets (to build the TCP headers). Raw sockets require root access or special privileges for your process as the kernel typically is the only one allowed to build such headers as TCP requires good network behavior. You don’t want trivial compromises of user-space  apps to suddenly give malicious code to send arbitrary TCP packets that may be exploiting some property of TCP stacks to DDOS more effectively or to misbehave on the behavioral side of TCP things like ignore flow control.<p>That’s a huge part of why the kernel implements it. The other part is that network stacks typically can be more tightly coupled with network drivers for performance (again trusted context so less&#x2F;no validation needed for the buffers being shared and whatnot). Now there are obviously cases where user space can do a better job of buffer management for better latency&#x2F;throughout so the perf aspect isn’t that conclusive.')