Item(by='kaali1', descendants=None, kids=[25428987], score=None, time=1608026908, title=None, item_type='comment', url=None, parent=25426871, text='The way to get the best latency on a device is not for your processing loop to be directly driven by an audio hardware events&#x2F;interrupts. This is for many reasons:<p>1) events&#x2F;interrupts can be delayed (usually by (bad) drivers disabling interrupt for a long time).<p>2) latency is not adjustable. You may want to give your processing more time if you know more work needs to be done, or the system is under variable load.<p>3) you will usually finish generating your audio too early. Eg: if the interrupts is every 2ms, but your processing is 1ms long, you are adding an unnecessary 1ms latency by starting as soon as the interrupt is received.<p>4) the device will consume more power as it can not know when it will next wakeup (theoretically, I do not think it makes a difference in practice)<p>Modern mobile devices use a DMA to copy the content of the application processor (AP) to the audio DSP. This DMA will copy periodically the content of a AP buffer to a DSP buffer, this is called a DMA burst.<p>You want to track this burst and wakup just enough time before it to have the time to generate your audio data and write it to the AP buffer + a safety margin.\nThis allows you to track the system performance &amp; application load to adjust your safety margin and optimize latency. It also allows the scheduler to know when your app will need to be woken up far in advance leading.<p>The Android Aaudio API [1] implement what I just described, as well as memory mapping the AP buffer to the application process to achieve 0 copy. It is the way to achieve the lowest latency on Android.<p>I believe Apple low latency APIs uses a similar no interrupt design.<p>Source: worked 3 years on the Android audio framework at Google.<p>Disclaimer: Opinions expressed are solely my own and do not express the views or opinions of my employer.<p>[1]: <a href="https:&#x2F;&#x2F;developer.android.com&#x2F;ndk&#x2F;guides&#x2F;audio&#x2F;aaudio&#x2F;aaudio" rel="nofollow">https:&#x2F;&#x2F;developer.android.com&#x2F;ndk&#x2F;guides&#x2F;audio&#x2F;aaudio&#x2F;aaudio</a>')