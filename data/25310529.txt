Item(by='woodruffw', descendants=None, kids=[25311198, 25312878, 25315455], score=None, time=1607130025, title=None, item_type='comment', url=None, parent=25304257, text='These are some pretty good guidelines! Many thanks to the authors for writing them up.<p>Some nitpicks (what would HN be without nitpicks?):<p>&gt; If your command is expecting to have something piped to it and stdin is an interactive terminal, display help immediately and quit.<p>I disagree with this advice: being able to spoon-feed input into a program is <i>extremely</i> useful, and is part of the &quot;conversational&quot; CLI paradigm that the authors mention above. Commands that silently block on `stdin` <i>are</i> frustrating, but the right solution is to check `isatty(3)` and print an <i>informational</i> message rather than killing the program entirely.<p>&gt; Check general-purpose environment variables for configuration values when possible<p>Consider adding `$IFS` to this! Commands that support different output models based on `isatty(3)` often neglect to support `$IFS`, making them more difficult to use in pipelines. This is especially handy in pipelines that need to deal with messy or untrusted inputs; I regularly use `IFS` with the ASCII field escape bytes.<p>&gt; Donâ€™t bother with man pages.<p>Please <i>do</i> bother with them! Nobody needs to write raw roff or troff in 2020; there are plenty of high quality manpage generators[1][2][3] that will turn your Markdown&#x2F;ReST&#x2F;whatever documentation into sensibly formatted manpages. manpages are much easier to search than the medley of pseudo-formats that CLI tools choose to render their `--help` outputs with.<p>[1]: <a href="https:&#x2F;&#x2F;github.com&#x2F;rtomayko&#x2F;ronn" rel="nofollow">https:&#x2F;&#x2F;github.com&#x2F;rtomayko&#x2F;ronn</a><p>[2]: <a href="https:&#x2F;&#x2F;pandoc.org&#x2F;" rel="nofollow">https:&#x2F;&#x2F;pandoc.org&#x2F;</a><p>[3]: <a href="https:&#x2F;&#x2F;www.sphinx-doc.org&#x2F;en&#x2F;1.4&#x2F;man&#x2F;sphinx-build.html" rel="nofollow">https:&#x2F;&#x2F;www.sphinx-doc.org&#x2F;en&#x2F;1.4&#x2F;man&#x2F;sphinx-build.html</a>')