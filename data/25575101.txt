Item(by='rdw', descendants=None, kids=None, score=None, time=1609276437, title=None, item_type='comment', url=None, parent=25574817, text='This is gonna sound pedantic but I think it&#x27;s not a coloring problem.  Coloring is when syntactically a function has to change its own signature just because it started calling an inner function with the new color.<p>That said, you&#x27;re right in that one may have to make some changes to code to get around some new problems.  The problem with FFI&#x2F;CPU-heavy functions is that they prevent _other_ fibers from being scheduled while they run.<p>If it becomes possible to implement work-stealing, then that would mitigate the problem.  It would also be solvable by sprinkling &quot;yield to scheduler&quot; calls throughout such functions.  Annoying and not always possible, but, since in these cases the signature would not change, technically not coloring.')