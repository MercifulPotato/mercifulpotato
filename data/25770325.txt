Item(by='wahern', descendants=None, kids=None, score=None, time=1610585920, title=None, item_type='comment', url=None, parent=25769984, text='The reason it doesn&#x27;t work despite being syntactically correct is because the standard goes out of its way to declare that, despite appearances, buf still behaves as if declared as `char *buf`. Thus sizeof just evaluates to the size of a pointer.<p>I think the original intent of the variably modified parameter syntax was merely to support optimization--a compiler could hypothetically prefetch n elements. Whether or why they didn&#x27;t care to consider the potential security and robustness benefits of making the semantics behave like automatic storage VLAs, I have no idea. But over the years I&#x27;ve seen multiple proposals to rehabilitate the semantics.')