Item(by='jart', descendants=None, kids=None, score=None, time=1609224210, title=None, item_type='comment', url=None, parent=25566599, text='The compiler keeps the branch. The branch doesn&#x27;t impact performance because it&#x27;s fully predictable and therefore costs less than 1 nanosecond. Please note however that fadvise() is a system call and the SYSCALL instruction o&#x2F;s context-switch generally costs 1 microsecond, which is 1000x slower than any overhead incurred by the portability benefits Cosmopolitan offers.<p>You can however tune the build so the `IsWindows()` branch is dead code eliminated anyway:<p><pre><code>    make MODE=tiny CPPFLAGS=-DSUPPORT_VECTOR=0b11111011\n</code></pre>\nBasically unsetting the Windows bit causes the Windows polyfills to not be linked in your binary. It&#x27;s only useful for making binaries tinier. So rest assured, if you find your 16kb APE .com binary to be too bloated, you can always use SUPPORT_VECTOR to squeeze it down to the order of a 4kb ELF executable. See: <a href="https:&#x2F;&#x2F;github.com&#x2F;jart&#x2F;cosmopolitan&#x2F;blob&#x2F;1df136323be2ae806f5e7ef8879fcdfd60506062&#x2F;libc&#x2F;dce.h#L21" rel="nofollow">https:&#x2F;&#x2F;github.com&#x2F;jart&#x2F;cosmopolitan&#x2F;blob&#x2F;1df136323be2ae806f...</a>')