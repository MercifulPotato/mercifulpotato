Item(by='angry_octet', descendants=None, kids=None, score=None, time=1607558910, title=None, item_type='comment', url=None, parent=25362180, text='The battery is on the HBA. If you lose power it will replay all uncommitted writes. Specifically, to the ZIL but for everything else too. (Originally these were batteries but they are mainly supercapacitors now.)<p>Just saw this interesting SNIA presentation, which indicates that having NVDIMMs might be even better than NVMe for ZIL.<p><a href="https:&#x2F;&#x2F;www.snia.org&#x2F;sites&#x2F;default&#x2F;files&#x2F;SDC&#x2F;2018&#x2F;presentations&#x2F;PM&#x2F;Principe_Nick_Real-World_Performance_Advantages_of_NVDIMM_and_NVMe_A_Case_Study_with_OpenZFS.pdf" rel="nofollow">https:&#x2F;&#x2F;www.snia.org&#x2F;sites&#x2F;default&#x2F;files&#x2F;SDC&#x2F;2018&#x2F;presentati...</a><p>NVDIMM as RAM+FLASH+capacitor:\n<a href="https:&#x2F;&#x2F;www.vikingtechnology.com&#x2F;products&#x2F;nvdimm&#x2F;" rel="nofollow">https:&#x2F;&#x2F;www.vikingtechnology.com&#x2F;products&#x2F;nvdimm&#x2F;</a>')