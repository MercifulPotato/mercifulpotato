Item(by='berkes', descendants=None, kids=[25343500], score=None, time=1607330775, title=None, item_type='comment', url=None, parent=25325410, text='Going offtopic here; but this is exactly the problem. There is a cronjob that restarts nginx after a certbot rerun. This makes at least three assumptions, all of which will fail at some point:<p>1. certbot does not need to stop nginx to renew a cert (some modes do).<p>2. the certbot run succeeded (all certs have been renewed, no network issues, etc)\n3. all certs are written correctly so that nginx config is valid (can reach and parse the certs)<p>In this particular case, for some reason, one of the 7 sites hosted here had a misconfigured DNS, letsencrypt servers could not reach it, certbot failed, no nginx restart was attempted. This case falls in #1, fixable by force-reloading nginx every day after certbot run regardless of whether a cert has been renewed.<p>All solutions with nginx are cludges like that. Don&#x27;t get me wrong: certbot&#x2F;letsencrypt is miles ahead of automation before they came along (I&#x27;ve built en ran several hosting companies, certs automation is a disgrace), but it remains hacky, cludgy and therefore unstable and somewhat unreliable.')