Item(by='__zayne__', descendants=None, kids=[25108703, 25108263], score=None, time=1605489203, title=None, item_type='comment', url=None, parent=25106651, text='I like to get the duration of the base video using ffprobe, then use -stream_loop -1 to loop the overlay video on top of it, while using -t with the duration before the output to ensure it will only be as long as the duration of the base video. Here&#x27;s an example:<p><pre><code>    DURATION=&quot;$(ffprobe -i input.mp4 -show_entries format=duration -v quiet -of csv=&#x27;p=0&#x27;)&quot;\n\n    ffmpeg -i input.mp4 -stream_loop -1 -i overlay.mp4 -filter_complex &quot;\n    [1]colorchannelmixer=aa=0.1[2];[2][0]scale2ref[2][1];[1] \n    [2]overlay&quot; -t $DURATION output.mp4</code></pre>')