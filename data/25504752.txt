Item(by='palotasb', descendants=None, kids=None, score=None, time=1608632044, title=None, item_type='comment', url=None, parent=25494219, text='Any time this comes up I like to point out that the spiral rule is wrong. It is instructive in a way because one learns more about C declaration syntax, but it is even more instructive to recognize <i>why</i> it is wrong.<p>The spiral rule works only if there is no pointer to pointer or array of array in the type. But take this for example:<p><pre><code>        +----------------------------+\n        | +-----------------------+  |\n        | | +------------------+  |  |\n        | | | +-------------+  |  |  |\n        | | | | +--------+  |  |  |  |\n        | | | | |  +--+  |  |  |  |  |\n        | | | | |  ^  |  |  |  |  |  |\n    int * * ¦ ¦ ¦ xxx[1][2][3] |  |  |\n     ^  | | | | |     |  |  |  |  |  |\n     |  | | | | +-----+  |  |  |  |  |\n     |  | | | +----------+  |  |  |  |\n     |  | | +---------------+  |  |  |\n     |  | ---------------------+  |  |\n     |  +-------------------------+  |\n     +-------------------------------+\n</code></pre>\nThe type of xxx is a [1-element] array of [2-element] array of [3-element] array of pointer to pointer to ints. I drew a spiral that passes through each specifier in the correct order.<p>Notice that to make the spiral correct it has to skip the pointer specifiers in the first three loops. This is marked by ¦. This is not mentioned in the original spiral rules and one could be forgiven to parse the expression as xxx -&gt; [1] -&gt; pointer -&gt; [2] -&gt; etc. following a spiral that doesn&#x27;t skip the pointers.<p>The Right-Left Rule is quoted less frequently on HN but it&#x27;s a correct algorithm for deciphering C types: <a href="http:&#x2F;&#x2F;cseweb.ucsd.edu&#x2F;~ricko&#x2F;rt_lt.rule.html" rel="nofollow">http:&#x2F;&#x2F;cseweb.ucsd.edu&#x2F;~ricko&#x2F;rt_lt.rule.html</a><p>The spiral rule can be modified to process all array specifiers before all pointer specifiers, but then you&#x27;d have to specify that the order to do so is right and then left. At that point it&#x27;s just the Right-Left Rule.')