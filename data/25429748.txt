Item(by='michaelcampbell', descendants=None, kids=[25429986, 25431628], score=None, time=1608036227, title=None, item_type='comment', url=None, parent=25429713, text='While I find the &quot;almost hilarious&quot; kind of overly snarky, I have my own version of this that has the race condition check.  Basically uses `mkdir $THISBIN.lock` line that gives me an atomic way to create or check for existence of a logical semaphore, and provides me with a scratch area.  The trap&#x27;d cleanup function removes it (which when debugging, and I use that scratch area, is inconvenient, but &lt;shrug&gt;)')