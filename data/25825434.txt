Item(by='kevinventullo', descendants=None, kids=None, score=None, time=1610997705, title=None, item_type='comment', url=None, parent=25822288, text='The simplest formula from the OEIS page seems to be<p><pre><code>  a(4n)=4n,\n\n  a(4n+1)=1,\n\n  a(4n+2)=4n+3,\n\n  a(4n+3)=0.\n</code></pre>\nOnce you have the formula in front of you, itâ€™s easy to prove it by induction. A branchless implementation of this function with no multiplies or divides:<p><pre><code>  f(x)=(x^(x&amp;1-1))+(((x+1)&amp;2)&gt;&gt;1)</code></pre>')