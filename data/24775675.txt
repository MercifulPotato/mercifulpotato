Item(by='virgilp', descendants=None, kids=[24775760], score=None, time=1602678173, title=None, item_type='comment', url=None, parent=24775650, text='Um, no. The test needs to know the expected system behaviour, given that dependencies are properly wired &amp; behave as expected. You can argue that &quot;it no longer tests just the ShoppingCart in isolation&quot; and that would be true; but whether that&#x27;s a downside or an upside is up for debate IMO (and more often than not it really is an upside).<p>[edit] In other words, you don&#x27;t test that &quot;if discount is 10%, adding item to shopping cart increases cart total by 0.9×&lt;price&gt;&quot;; you do test that &quot;if user X adds item Y to shopping cart, and X has a 10% discount code, then shopping cart price increase by 0.9×&lt;price&gt;&quot;. This does seem like a headache, but it has benefits - in that it tests actual product scenarios, and you can now easily add variations like &quot;if discount code only applies for books, and item I added isn&#x27;t a book, then shopping cart total increases by &lt;price&gt;&quot;.')