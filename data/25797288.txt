Item(by='bobrippling', descendants=None, kids=None, score=None, time=1610749085, title=None, item_type='comment', url=None, parent=25786236, text='A few extra things to note for enthusiasts:<p>&gt; The MacOS linker&#x2F;loader doesn’t like doing relocations, so you need to use the ADR rather than LDR instruction to load addresses. You could use ADR in Linux and if you do this it will work in both.<p>I think this is more the assembler - the linker&#x27;s perfectly happy performing relocations<p>&gt; In MacOS you need to link in the System library even if you don’t make a system call from it or you get a linker error. This sample Hello World program uses software interrupts to make the system calls rather than the API in the System library and so shouldn’t need to link to it.<p>You can get around this by creating a statically linked executable, which requires a bit of wrangling, but is supported (and perhaps handy if you&#x27;re going on to write a kernel).<p>&gt; In MacOS the default entry point is _main whereas in Linux it is _start. This is changed via a command line argument to the linker.<p>In macOS the default entry point is start (linux is still _start), the C runtime still needs to be setup - the kernel can&#x27;t jump a program straight to main.')