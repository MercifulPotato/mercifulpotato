Item(by='zbentley', descendants=None, kids=[24710428], score=None, time=1602086238, title=None, item_type='comment', url=None, parent=24707900, text='Per your tweet, yes, running without publish confirmations is a major unpleasant surprise that folks eventually run into.<p>However, that&#x27;s less Celery&#x27;s fault and more RabbitMQ&#x27;s: pub confirms are a Rabbit-specific extension to their protocol, and are left off in most example implementations. MongoDB, also, chooses horrible default settings; however, I wouldn&#x27;t blame a Mongo-backed product <i>entirely</i> for being hackable.<p>Additionally (I mentioned this in a sibling thread), Kafka&#x27;s publish behavior is even worse. The vast majority of Kafka publishers&#x27; default settings don&#x27;t even send the data to the broker without waiting for a response (like RabbitMQ without publish confirms); they send the data to a local buffer which is asynchronously flushed periodically&#x2F;volumetrically. If your process crashes, you lose the buffer. Unpleasantly, if you force a buffer flush on every publish, Kafka&#x27;s ingest rate goes from 10-100x RabbitMQ&#x27;s to 0.01-0.1x RabbitMQ&#x27;s.')