Item(by='klodolph', descendants=None, kids=[25125098, 25125488], score=None, time=1605622068, title=None, item_type='comment', url=None, parent=25123067, text='Experienced the same dilemma. I’ll say what I do and what I <i>want</i> to do.<p>What I <i>do</i> is SSH as root using SSH certificates. This allows me to use rsync commands in Ansible, because elevating to root after login does not.<p>What I <i>want to do</i> is generate short-lived SSH certificates for root login. Something like, “Run prod-ssh command, enter password, touch YubiKey, and I can SSH as root for the next four hours.” I know how to make this possible, it would just require a couple days of engineering to do it, and I have other things to do.<p>If I had more hosts to work with I would make one of them run HashiCorp Vault, and serve as an SSH certificate authority for the others.<p>If I were a team of people managing servers I would probably switch from Ansible to something else. I would want every configuration action to go through source control before being pushed to live servers. As it is, I’m one person, so I don’t need that.<p>Evaluate for yourself whether this meets your needs, of course. I want to find my own balance between security, safety (removing foot-guns), and convenience.')