Item(by='lenova', descendants=None, kids=[25087147, 25086594, 25086450], score=None, time=1605293491, title=None, item_type='comment', url=None, parent=25081472, text='If you&#x27;re on AWS, you can create a private SSH host without needing to open any ports to the internet, using AWS Systems Manager:<p>- Create an EC2 instance in a private subnet, and assign the AmazonSSMManagedInstanceCore IAM role to it<p>- Install the AWS CLI tools on your desktop<p>- Add a function to your .bash_profile like this:<p><pre><code>  function jumphost() {\n  JUMP_ID=$(aws ec2 describe-instances --filter &quot;Name=tag:Name,Values=my-jumphost-name&quot; --query &quot;Reservations[].Instances[].InstanceId[]&quot;)\n     echo &quot;Starting jumphost...&quot;\n     aws ec2 start-instances --instance-ids $JUMP_ID\n     sleep 30\n     aws ssm start-session --target $JUMP_ID\n  }\n\n</code></pre>\nThen just run &quot;jumphost&quot; from your terminal and boom, SSH&#x27;ed in via the magic of SSM.<p>Bonus points: add a cronjob to your jumphost to shutdown every X hours in case you forget ;-)')