Item(by='rrss', descendants=None, kids=None, score=None, time=1603550367, title=None, item_type='comment', url=None, parent=24860867, text='&gt; Modern OSes donâ€™t allow userspace code to directly access peripheral devices, GPUs included<p>This depends a lot on the OS and on the peripheral, but this is certainly not true across the board.<p>RDMA verbs, for example, definitely involve userspace directly communicating with the NIC, with no kernel involvement.<p>At least some of the AMD GPU graphics stacks support userspace submission to the GPU also, see <a href="http:&#x2F;&#x2F;www.hsafoundation.com&#x2F;html&#x2F;Content&#x2F;Runtime&#x2F;Topics&#x2F;02_Core&#x2F;queues.htm" rel="nofollow">http:&#x2F;&#x2F;www.hsafoundation.com&#x2F;html&#x2F;Content&#x2F;Runtime&#x2F;Topics&#x2F;02_...</a>.<p>This requires hardware support, like an MMU and ensuring bad submissions from userspace can&#x27;t do bad things to other processes, but lots of hardware supports these things.<p>The windows graphics stack does require going into the kernel to submit work to the GPU, but that isn&#x27;t the case for all operating systems and all peripherals.<p>somewhat related: GPUs started getting support for virtual memory in ~2006 or so [1] but the windows graphics stack was  improved to actually use that capability in Windows 10, ~10 years later [2].<p>[1] <a href="https:&#x2F;&#x2F;www.anandtech.com&#x2F;show&#x2F;2116&#x2F;2" rel="nofollow">https:&#x2F;&#x2F;www.anandtech.com&#x2F;show&#x2F;2116&#x2F;2</a>\n[2] <a href="https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Windows_Display_Driver_Model#WDDM_2.0" rel="nofollow">https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Windows_Display_Driver_Model#W...</a>')