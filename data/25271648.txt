Item(by='plasma', descendants=None, kids=[25271738, 25273092], score=None, time=1606866689, title=None, item_type='comment', url=None, parent=25270107, text='A less obvious referential integrity performance requirement is ensuring your FKs are indexed.<p>This is not done by default or required by DBs but will be a performance penalty if you don&#x27;t do it.<p>For example, having a User (Id, Name) table, and an Order (UserId, Amount) table, you may have a FK between User.Id &lt;-&gt; Order.UserId.<p>If a User record is deleted, the database needs to ensure no Order exists with that UserId to maintain the FK integrity, so will do something like an (SELECT Count(*) FROM Order WHERE UserId = @DeletingUserId) to check if its OK to delete that User record.<p>If you do not have an index on Order.UserId column, then the deletion of the User record will be slow when the Order table is large.<p>This works the other way too, if you insert an Order row, the inserted UserId is looked up on the User.Id table to assert it exists, so an index is needed there too (although, User.Id being the primary key, its already indexed), but you get the ideal.')