Item(by='dan-robertson', descendants=None, kids=None, score=None, time=1604272061, title=None, item_type='comment', url=None, parent=24963243, text='I feel like the reification (or in particular the performance characteristics thereof) are more important than the repeatability.<p>I think delimited continuations are a much more accurate description of what algebraic effects do. There are implementations of delimited continuations in Common Lisp based on the condition system but if you have too many continuations (or if you switch between them too often) you will blow up the stack. Other implementations (of async rather than continuations) use macros to translate source to continuation passing style and then rely on the compiler being clever, which sbcl is ok at.<p>Note that you can implement resumable exceptions so long as you have a reliable way to do nonlocal transfers of control (eg return-from or go in CL; or some kind of exception which can only be caught by a try that you write and not by someone elseâ€™s, though the finally would still run), and some dynamically scoped list of first clsss functions. Implementing delimited continuations is much more involved.')