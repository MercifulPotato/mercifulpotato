Item(by='AaronFriel', descendants=None, kids=[25181747], score=None, time=1606083307, title=None, item_type='comment', url=None, parent=25180891, text='In a language and type system where the compiler infers all of the intermediate types, no.<p>The way effect systems are typically added to languages without this level of type system is that the effect &quot;fails&quot;. Like making a database call in Python without &quot;with use_database(...):&quot; that provides the database context. In those languages and with those effects, typically the default behavior is the effect&#x27;s methods are always available, but may either be a no-op&#x2F;return a nullish value or throw an exception.<p>As an example, the way tracing works on Node.js is that you have to explicitly declare a span (or use a plugin for a framework which does that for you) and inside that span, you can do something like getSpanId() and it&#x27;ll return a value. Outside a span, it returns null.<p>The worst case scenario is you have a language and framework where it&#x27;s both difficult to annotate the types and difficult to provide some ambient context. In those cases, you&#x27;re back to (essentially) passing your trace span, your logger, etc as arguments to every function again. Not ideal.')