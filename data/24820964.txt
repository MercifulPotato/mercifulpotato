Item(by='cb321', descendants=None, kids=[24820998], score=None, time=1603053681, title=None, item_type='comment', url=None, parent=24820693, text='Just trying to help, not criticize.  As to correctness, if you change the tokenization to:<p><pre><code>  while (fgets(buf, 1024, fp)) {\n    char *c, word[1024], *w = word;\n    for (c = buf; *c; c++) {\n      *c = tolower(*c);\n      if (*c &gt;= &#x27;a&#x27; &amp;&amp; *c &lt;= &#x27;z&#x27;)\n        *w++ = *c;\n      else {\n        *w = &#x27;\\0&#x27;;\n        count(word, (size_t)(w - word));\n        w = word;\n      }\n    }\n    *w = &#x27;\\0&#x27;;\n    count(word, (size_t)(w - word));\n  }\n</code></pre>\nand you have that `count` function skip words with len &lt; 2 then I can match results with the other 3 (Nim, Rust, C++) versions.  Also, your C version runs in just 7 ms on Tale Of Two Cities, about half the time of the PGO optimized Nim.')