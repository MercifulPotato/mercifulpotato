Item(by='mhalle', descendants=None, kids=[25007064, 25006695, 25006785], score=None, time=1604659856, title=None, item_type='comment', url=None, parent=25006524, text='Rsync has &quot;weird&quot; syntax for a reason. Unlike other unix-like commands, it treats trailing slashes as significant. If a directory has a trailing slash, it means &quot;contents&quot; of the directory&quot;. No slash means &quot;the directory itself&quot;. These are two different concepts, and a program that copies directories should take the difference into account.<p>scp (and cp, for that matter) don&#x27;t take this difference into account. That leads to gotchas with recursive (-r) copying. Most importantly, scp isn&#x27;t idemopotent:<p>scp -r fromdir  todir<p>If todir doesn&#x27;t exist, scp will copy the contents of directory fromdir to a new directory named todir.<p>Execute the same command again (now that todir exists), and scp will copy fromdir to todir&#x2F;fromdir .<p>On the other hand:<p>rsync -a fromdir&#x2F; todir<p>will always copy the contents of fromdir into a directory named todir (effectively, a directory rename operation), whether todir exists or not.<p>rsync -a fromdir todir<p>will always copy the directory fromdir into the directory todir, whether todir exists or not.<p>These rsync operations are idempotent, which it important because rsync is designed to incrementally re-sync directories. It is expected that it will commonly be run more than once, which is why it needed to address this IMHO fundamental bug&#x2F;limitation in cp and scp.')