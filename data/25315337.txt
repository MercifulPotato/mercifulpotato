Item(by='eMSF', descendants=None, kids=[25323017, 25315465], score=None, time=1607182984, title=None, item_type='comment', url=None, parent=25314947, text='You don&#x27;t see how variants improve readability over union+tag? Do you mean that you don&#x27;t see a whole lot of difference below:<p><pre><code>  std::variant&lt;int, std::string&gt; setting;\n  setting = &quot;foo&quot;s;\n  setting = 1;\n</code></pre>\nCompared with something like:<p><pre><code>  struct Setting {\n    Setting() { XXX }\n    ~Setting() { XXX }\n    union {\n      string str;\n      int num;\n    };\n    enum Type { Str, Int, None };\n    Type tag;\n  };\n\n  Setting setting;\n  if (setting.tag != Setting::Str)\n    new (&amp;setting.str) std::string;\n  setting.str = &quot;foo&quot;;\n  setting.tag = Setting::Str;\n\n  if (setting.tag == Setting::Str)\n    setting.str.~std::string();\n  setting.str = 1;\n  setting.tag = Setting::Int;</code></pre>')