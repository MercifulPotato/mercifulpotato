Item(by='Joker_vD', descendants=None, kids=None, score=None, time=1604694369, title=None, item_type='comment', url=None, parent=25010328, text='Yes, if you look at my reply to the sibling comment, you&#x27;ll see that if count&#x2F;2 is unexported, TypEr (apparently, that&#x27;s the proper capitalization) infers the types with non_negative_integer().<p>In fact, I&#x27;ve just looked at the original TypEr paper [0], and wow, they use exactly this example in the section 6: &quot;One might even jump to the conclusion that success typings are unnecessarily general and, as such, quite useless. However, notice that this success typing succinctly captures all possible applications of length_3 which will not result in a type error. [...] Still, we also find the situation sub-optimal and we will improve on it as explained below&quot;, and then they use exactly your proposal, recognizing that non-exported functions are only called from the exported functions, and perform dataflow analysis to constrain the types even further.<p>[0] Tobias Lindahl and Konstantinos Sagonas, &quot;Practical type inference based on success typings&quot;, <a href="https:&#x2F;&#x2F;www.it.uu.se&#x2F;research&#x2F;group&#x2F;hipe&#x2F;dialyzer&#x2F;publications&#x2F;succ_types.pdf" rel="nofollow">https:&#x2F;&#x2F;www.it.uu.se&#x2F;research&#x2F;group&#x2F;hipe&#x2F;dialyzer&#x2F;publicatio...</a>')