Item(by='masklinn', descendants=None, kids=None, score=None, time=1609343182, title=None, item_type='comment', url=None, parent=25580912, text='There&#x27;s a 4th requirement: that the set has some way to return colliding entries on insertion (or provides access to the entry itself), which most don&#x27;t. Otherwise lookup requires iterating the entire set.<p>&gt; It&#x27;s straightforward<p>It&#x27;s really not. Straightforward is the other way around, this is convoluted and involved. It makes the library <i>much</i> harder to use for rather limited gains.<p>&gt; Either the set type allows mutation of the objects so long as the parts relevant to comparison don&#x27;t change<p>This sounds like a footgun requirement at best, I&#x27;m pleasantly surprised (for once) that C++ doesn&#x27;t just let you mutate the entire thing at will.')