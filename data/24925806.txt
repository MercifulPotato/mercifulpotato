Item(by='atombender', descendants=None, kids=None, score=None, time=1603931666, title=None, item_type='comment', url=None, parent=24923292, text='Doesn&#x27;t this cause explosive memory usage? What happens if there&#x27;s some congestion? Is there a circuit breaker to start dumping (discarding) log entries past a certain limit?<p>I was testing Google Pub&#x2F;Sub&#x27;s Go client for publishing internal API event data for later ingest to BigQuery, and it turns out Pub&#x2F;Sub publishing is not that much faster than writing directly to BigQuery. The buffer sizes we&#x27;d need to avoid adding latency to our APIs would have to be ridiculously high; the Pub&#x2F;Sub client buffers and submits batches in the background (its default buffer size is 100MB!). I don&#x27;t like the idea of having huge buffers that increase with the request rate.<p>Conversely, pushing the data to NATS in recent time without any buffering or batching turned out to be fast enough to not add any latency. You have to be able to receive messages very fast on the consumer side (as NATS will start dropping messages if consumers can&#x27;t keep up), but you can simply run a few big horizontally autoscaled ingest processes that can sit there ingesting as fast as they can, which never impacts API latency at all.')