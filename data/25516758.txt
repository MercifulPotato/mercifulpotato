Item(by='magicalhippo', descendants=None, kids=None, score=None, time=1608725710, title=None, item_type='comment', url=None, parent=25516656, text='ZFS is great for storing data. It&#x27;s very unlikely it will lose your data when using ZFS.<p>It does however require a bit of care to maintain performance, and you need to know your expected workload going in. Otherwise you can find yourself in a situation with a very poorly performing pool where the only realistic route to recovery is a send&#x2F;receive to a fresh pool and back.<p>If you do not have a lot of sync workload (VMs, DBs) and don&#x27;t have super-high performance needs, say a home NAS, then mainly you just need to think about not filling up the pool too much.<p>A nice way to do this is to create a root dataset where you set a quota to say 75% of capacity, and then create all other datasets below this one. You should not go above 85% space usage, as ZFS switches allocation strategy then to one which can significantly increase fragmentation.<p>If you do have a lot of sync writes, a SLOG device is basically mandatory. The SLOG device does not have to be large, it only stores about 5-10 seconds worth of writes, so 10-20GB can be plenty. I&#x27;ve partitioned up my SSDs and created a mirror out of two small partitions, using the remaining SSD space for other things.<p>One thing to keep in mind is that while an L2ARC device sounds like a great thing, depending on your configuration you can actually slow things down with one. A bunch of disks has a lot more bandwidth than a single SATA SSD. An L2ARC device also requires some memory overhead, so reduces your primary ARC. Again depending on load this can be detrimental.<p>And finally, don&#x27;t ever think about using deduplication, unless you&#x27;ve read about the consequences, measured the performance benefits and ensured the memory overhead is acceptable. It sounds great on paper but has a lot of associated downsides that can ruin pool performance, and disabling it does not make it go away.<p>At least that&#x27;s what I&#x27;ve picked up so far.')