Item(by='kmstout', descendants=None, kids=[25403732], score=None, time=1607821087, title=None, item_type='comment', url=None, parent=25399058, text='The following sets up a key binding to grab interesting lines from the history, throw them into a file, and pop it up in an editor:<p><pre><code>  # put interesting lines from history into a file, open an editor\n  function h2e() {\n      echo &quot;#! &#x2F;bin&#x2F;bash&quot; &gt; &quot;$3&quot;\n      history | tail -n&quot;$1&quot; | egrep &quot;$2&quot; | sed -re &#x27;s&#x2F;\\s*[0-9]+\\s+&#x2F;&#x2F;&#x27; &gt;&gt; &quot;$3&quot;\n      &quot;${EDITOR:-emacs}&quot; &quot;$3&quot;\n  }\n\n  # prompt for h2e&#x27;s arguments\n  function h2ei() {\n      read -p &#x27;num. lines [1]: &#x27; lines\n      read -p &#x27;pattern [.]: &#x27; pattern\n      read -p &#x27;file [foo.sh]: &#x27; fn\n      h2e &quot;${lines:-1}&quot; &quot;${pattern:-.}&quot; &quot;${fn:-foo.sh}&quot;\n  }\n\n  # fix the terminal settings for the duration of a command, revert afterward\n  function insane() {\n      save=$(stty -g)\n      stty sane\n      &quot;$@&quot;\n      stty $save\n  }\n\n  # bind F12 to our history grabber\n  bind -x &#x27;&quot;\\e[24~&quot;:insane h2ei&#x27;\n</code></pre>\nIt&#x27;s been quite handy of late.')