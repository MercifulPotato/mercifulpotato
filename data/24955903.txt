Item(by='scottlamb', descendants=None, kids=None, score=None, time=1604185136, title=None, item_type='comment', url=None, parent=24955594, text='Looks like it uses the preflate library [1] which back-references precomp in its README:<p>&gt; &quot;precomp&quot; is a tool which used to be able to do the bit-correct reconstruction very efficiently, but only for deflate streams that were created by the ZLIB library. (It only needed to store the three relevant ZLIB parameters to allow reconstruction.) It bailed out for anything created by 7zip, kzip, or similar tools. Of course, &quot;precomp&quot; also handles JPG, PNG, ZIP, GIF, PDF, MP3, etc, which makes a very nice tool, and it is open source. UPDATE The latest development version of &quot;precomp&quot; incorporates the &quot;preflate&quot; library.<p>so precomp used to work as you describe: it depended on having exactly the same zlib algorithm as the one that produced the original data. Now it uses preflate, which has some hybrid approach:<p>&gt; for deflate streams created by ZLIB at any compression level, we want to be able to reconstruct it with only a few bytes of reconstruction information (like &quot;precomp&quot;)<p>&gt; for all other deflate streams, we want to be able to reconstruct them with reconstruction information that is not much larger than &quot;reflate&quot;<p>&gt; &quot;reflate&quot; can reconstruct any deflate stream (also 7zip, kzip, etc), but it is only close to perfect for streams that were created by ZLIB, compression level 9. All lower compression levels of ZLIB require increasing reconstruction info, the further from level 9, the bigger the required reconstruction data. &quot;reflate&quot; only handles deflate streams, and is not open source. As far as I know, it is also part of PowerArchiver.<p>I&#x27;d be curious to learn a little more about the &quot;reconstruction information&quot; but I don&#x27;t see a write-up. So far I&#x27;m not quite curious enough to dig through preflate&#x27;s source code.<p>[1] <a href="https:&#x2F;&#x2F;github.com&#x2F;deus-libri&#x2F;preflate" rel="nofollow">https:&#x2F;&#x2F;github.com&#x2F;deus-libri&#x2F;preflate</a>')