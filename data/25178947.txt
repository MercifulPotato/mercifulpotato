Item(by='foxcpp', descendants=None, kids=None, score=None, time=1606064458, title=None, item_type='comment', url=None, parent=25178084, text='&gt;Please say more<p>Default configuration runs everything as a single daemon. This has been done to minimize any management overhead, avoid the complexity and performance overhead introduced by IPC.<p>It is definitely possible to split things apart though - this is not something of a hard design decision. This is what LMTP is for, right? maddy can work as both LMTP server and client and also supports both server and client parts of Dovecot&#x27;s authentication delegation protocol.<p>So you can do something like that:\n1. maddy instance running SMTP on port 25, running inbound filtering and then doing transparent LMTP forwarding to ...\n2. maddy instance running LMTP on some unix socket, delivering to local storage and providing access to it via IMAP, authenticating users using ...\n3. maddy instance running Dovecot auth&#x27;s protocol on some unix socket providing authentication service using some DB.\n4. maddy instance running Submission, managing queue of outbound messages, trying delivery by forwarding them to ...\n5. maddy instance running LMTP on some Unix socket, actually attempting outbound delivery.<p>In fact, you can also put any of these on separate VMs&#x2F;containers or even physical systems. And if we add some load-balancing capabilities to SMTP client then it can be used to scale message processing (though a single daemon can already handle quite a lot of emails and users without problems).')