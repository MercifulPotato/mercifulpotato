Item(by='ufo', descendants=None, kids=[25418503], score=None, time=1607957457, title=None, item_type='comment', url=None, parent=25417861, text='Starting in page 16, there is a section called &quot;Do we want a guard keyword?&quot; that talks about this. They give an example showing that deferring to the end of the containing block is possible without the guard keyword, although it&#x27;s a bit wonky, requiring to duplicate the &quot;if&quot;. With guard keyword:<p><pre><code>    guard {\n        void *ptr = malloc(12);\n        if (ptr) {\n            defer free(ptr);\n            &#x2F;&#x2F; Use ptr\n        }\n        &#x2F;&#x2F; Use ptr some more\n    } &#x2F;&#x2F; free ptr here\n</code></pre>\nWithout guard keyword:<p><pre><code>    {\n        void *ptr = malloc(12);\n        defer { if (ptr) free(ptr); }\n        if (ptr) {\n            &#x2F;&#x2F; Use ptr\n        }\n        &#x2F;&#x2F; Use ptr some more\n    } &#x2F;&#x2F; free ptr here</code></pre>')