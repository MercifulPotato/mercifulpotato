Item(by='fluffything', descendants=None, kids=None, score=None, time=1605260358, title=None, item_type='comment', url=None, parent=25078446, text='Rust macros are just programs that take source code as input and produce source code as output.<p>These programs can do anything that the user running them does.<p>You can compile them to WASM, ship them over the network, and run them on a WASM interpreter with restricted permissions, like &quot;no file-system access, no random-number generator access, no network access&quot;, etc.<p>WASM runs very fast (compiled to native code), is supported on every platform that has a web browser or a WASM interpreter, of which there are many open source implementations available, and has no undefined behavior (WASM modules either fail to validate or trap during execution but they don&#x27;t &quot;read out of bounds&quot; or &quot;segfault&quot;).<p>So to me at least this is a solved problem.<p>I guess one can do the same with common lisp macros, but nowadays at least, the infrastructure for WASM is just much better.')