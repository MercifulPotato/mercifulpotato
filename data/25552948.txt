Item(by='rsync', descendants=None, kids=[25555150], score=None, time=1609092734, title=None, item_type='comment', url=None, parent=25552866, text='Well, if you are using a <i>sophisticated</i> tool like restic or borg or duplicity, the file attributes are bundled up into the encrypted chunks and all is well.<p>However, if you are using plain old rsync, you can use the --fake-super command line switch to maintain those attributes and I believe rsync.net customers are using that successfully.<p>Yes, you are correct - in the old days (2001-2010 or so) we maintained a pair of &quot;permission scripts&quot; which allowed customers to dump all their attributes to a file and then reapply it later.  Again, --fake-super seems to &quot;fix&quot; all of this.<p>Generally speaking, you should <i>always</i> enable ZFS encryption.  It improves many aspects of ZFS behavior and performance - not just space usage.  Unless you have very bizarre workloads or hardware, I think that in 2020 there is no reason to <i>not</i> enable compression.  Deduplication is another story and is <i>very expensive</i> to maintain - rsync.net has never run de-dupe on any systems.<p>We (rsync.net) and I (personally) have zero experience with btrfs ...')