Item(by='isbvhodnvemrwvn', descendants=None, kids=None, score=None, time=1602705794, title=None, item_type='comment', url=None, parent=24778234, text='From memory and a quick glance at one of my servers:<p>When an IP packet related to your container arrives (&lt;host ip&gt;:&lt;host port&gt;):<p>- docker rewrites it to target &lt;your container&#x27;s ip address&gt;:&lt;your container&#x27;s port&gt; (NAT table, chain PREROUTING delegates to DOCKER chain with the relevant DNAT entry)<p>- since the IP does not match your host, the packet is forwarded (there&#x27;s a relevant routing entry pointing to docker&#x27;s virtual interface)<p>- the first thing you encounter in the FORWARD chain of the FILTER table is a few jumps to the docker-related chains, DOCKER chain in particular accepts all packets destined to &lt;your container&#x27;s ip address&gt;:&lt;your container&#x27;s port&gt;<p>So a few takeaways:<p>- your standard firewall might not be involved because its chains are plugged in <i>after</i> the docker chains in the FORWARD chain (e.g. ufw under Ubuntu)<p>- if you want your firewall to matter, you have to add stuff to DOCKER-USER chain in the FILTER table<p>- at that point the host port and IP doesn&#x27;t matter since it&#x27;s already been mapped in the NAT table&#x27;s PREROUTE chain at the beginning of processing - write your firewall rules to address specific containers')