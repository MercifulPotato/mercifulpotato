Item(by='mike-cardwell', descendants=None, kids=[25979875, 25978277], score=None, time=1612088463, title=None, item_type='comment', url=None, parent=25976879, text='I prefer my system for running youtube-dl in an isolated environment without having to install all of its dependencies on the host. Ansible writes a bash script at ~&#x2F;bin&#x2F;youtube-dl containing:<p><pre><code>  #!&#x2F;usr&#x2F;bin&#x2F;env bash\n  set -e\n\n  IMAGE_NAME=&quot;grepular&#x2F;youtube-dl&quot;\n\n  # Build the image if it does not exist\n  if [[ $(podman images --filter &quot;reference=$IMAGE_NAME&quot; -q) == &quot;&quot; ]]; then\n      podman build -t &quot;$IMAGE_NAME&quot; -&lt;&lt;EOF &gt;&amp;2\n  FROM python:3-slim\n  RUN python3 -m pip --no-cache-dir install youtube_dl\n  ENTRYPOINT [&quot;youtube-dl&quot;]\n  EOF\n  fi\n\n  podman run --net host -i --rm -v &quot;$PWD:&#x2F;app&quot; -w &#x2F;app &quot;$IMAGE_NAME&quot; &quot;$@&quot;</code></pre>')