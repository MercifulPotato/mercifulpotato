Item(by='dmw_ng', descendants=None, kids=[25607640], score=None, time=1609460545, title=None, item_type='comment', url=None, parent=25597259, text='BigQuery:<p><pre><code>    #standardSQL\n    SELECT EXTRACT(HOUR FROM timestamp) hour, COUNT(*) AS num_downloads\n    FROM `the-psf.pypi.file_downloads`\n    WHERE DATE(timestamp)\n        BETWEEN DATE_SUB(CURRENT_DATE(), INTERVAL 30 DAY)\n        AND CURRENT_DATE()\n    GROUP BY hour\n    ORDER BY num_downloads\n</code></pre>\nGives us 6.956 billion downloads in the past 30 days<p>With hour 15 clocking in at around 2,964 requests&#x2F;sec -- mean. This is still not representative of peak instantaneous traffic, which I&#x27;d hazard a guess is somewhere closer to 10x that number.<p>Now factor in the &#x27;usual&#x27; case where the CDN absorbs 70% of this, and you&#x27;re still left with a service that is non-trivial to run and support 24&#x2F;7. PyPi manages to only have a few small downtimes per year.')