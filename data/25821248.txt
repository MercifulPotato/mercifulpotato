Item(by='kevincox', descendants=None, kids=None, score=None, time=1610974028, title=None, item_type='comment', url=None, parent=25816026, text='This was always something that surprised me about ZFS. For a fancy filesystem it largely copied RAID with a trivial layout. I always thought that it would be better to treat the devices as pools of storage and &quot;schedule&quot; writes across them in a much more flexible way. Instead of saying that &quot;these two drives are mirrored&quot; you should be able to say &quot;I want to write two copies of this data&quot; and for example it could pick the two idle drives, or the two emptiest drives. Same with striping, parity and other RAID options.<p>It seems like the only real advantage &quot;ZFS RAID&quot; has over &quot;RAID + ZFS&quot; is that it can handle the actual write requests separately and it has better options for reading when copies are damaged. But it seems like the layout is just as inflexible as a dumb RAID so we aren&#x27;t gaining as much as we could by combining the two together.<p>(My knowledge may be out of date)<p>copies=n is obviously a step in the right direction but as mentioned it doesn&#x27;t really provide enough to solve the problem.<p>It seems to me that the only real downside is that you need to store each location of a block, instead of storing one and assuming that the other locations are the same on the &quot;matching&quot; disks.')