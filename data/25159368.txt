Item(by='gjvc', descendants=None, kids=None, score=None, time=1605871140, title=None, item_type='comment', url=None, parent=25159168, text='I don&#x27;t quite follow every last precaution against &quot;characters other than new lines at the end of a directory name&quot;, but I find that these lines of boilerplate do just fine in a modern Linux. (Main assumption is that realpath(1) exists, obv.)<p>I&#x27;ve included a couple of logging functions which don&#x27;t require external processes for the date as a bonus :-)<p><pre><code>    #! &#x2F;usr&#x2F;bin&#x2F;env bash\n\n    set -eu\n\n\n    # location -------------------------------------------------------------\n\n    readonly _REALPATH=$(realpath &quot;${BASH_SOURCE[ 0 ]}&quot;)\n    readonly _BASENAME=$(basename &quot;${_REALPATH}&quot;)\n    readonly _DIRNAME=$(dirname &quot;${_REALPATH}&quot;)\n    readonly _ROOT=$(dirname &quot;${_DIRNAME}&quot;)\n    readonly _PREFIX=$(dirname &quot;${_ROOT}&quot;)\n\n\n    # logging --------------------------------------------------------------\n\n    function log { printf &quot;%(%Y-%m-%d)TT%(%H:%M:%S%z)T  ${@}\\n&quot; -1 ; }\n    function err { printf &quot;%(%Y-%m-%d)TT%(%H:%M:%S%z)T  ${@}\\n&quot; -1 1&gt;&amp;2 ; }</code></pre>')