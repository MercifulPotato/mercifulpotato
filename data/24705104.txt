Item(by='kijin', descendants=None, kids=[24705989], score=None, time=1602042483, title=None, item_type='comment', url=None, parent=24705019, text='Then it needs to be better aware of what kind of syntax is allowed in CSS, because &lt;&#x2F;math&gt; clearly isn&#x27;t valid CSS.<p>Sanitizing HTML isn&#x27;t just about removing unwanted tags and attributes. Assuming you want to preserve some styling, the sanitizer needs to be aware of the spec for not only HTML but also CSS, JS, SVG, and whatnot. It must ensure that it never emits output that would be invalid in any of those contexts. (JS is easy because you normally just delete it.)<p>To date, I haven&#x27;t seen any HTML sanitizer that&#x27;s as serious about enforcing spec as HTMLPurifier. It strips out everything that isn&#x27;t in a whitelist and guarantees that the output is syntactically valid. Unfortunately, it&#x27;s written in PHP, its whitelist is kinda outdated, and nobody seems to want to port it to any other language. But the only alternative is to take dangerous shortcuts.')