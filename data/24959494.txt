Item(by='marcan_42', descendants=None, kids=[24960731, 24961527], score=None, time=1604238719, title=None, item_type='comment', url=None, parent=24959332, text='I learned about APFS&#x27;s unreliability the hard way when a friend&#x27;s Mac started kernel panicking after an upgrade to Catalina... I ended up having to copy file-wise with (a modern version of) rsync from another install to an HFS volume, then manually recreate the entire APFS volume structure, restore everything, and run some obscure commands to make it all bootable again. I was lucky all the files were still readable without the OS panicking; presumably it was a write operation that failed. fsck was completely useless and could not fix the problem.<p>The rsync <i>mostly</i> preserved all the obscure Mac-specific attributes (resource fork, etc), but at least one thing was lost: the &quot;bundle bit&quot; on directories. Thankfully most bundles are marked another way these days, so only a few things broke (in particular some VST plug-ins, but not others). Good luck finding documentation on that bit! As far as I can tell very few people know of its existence.<p>The kernel panic was an assert(), which is just inexcusable. FS corruption (&quot;impossible&quot; things in the FS driver) should absolutely never cause the OS to panic. If something fails, return an error to userspace, and possibly remount the filesystem read-only.')