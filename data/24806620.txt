Item(by='keymasta', descendants=None, kids=[24810077, 24810207], score=None, time=1602896540, title=None, item_type='comment', url=None, parent=24802518, text='This is my first comment on HN. I wrote some algorithms to do with this topic. I&#x27;ve been working on some code for a long time which looks at the c=2^12 combinations of notes, their properties and so on. I call each of them changes. I&#x27;m actually still working on material for a book which contains dynamically generated layouts based on these changes. So far I have addressed many music set theory properties, as well as some visualisation on different instruments like piano, fretboard (arbitrary). \nOne of the algorithms looks at finding the most efficient enharmonic spelling for a given change.. It may be helpful. If anything you could look at the Python for that function and derive something suitable.. Feel free to PM..\nLet&#x27;s say that keys = 12, and changes = 2^12.. so you&#x27;d have 48152 possible key changes.. for each of these there are basically three enharmonic roots.. The you could multiply that by the potential variation within the scale degrees. If you just brute force that you&#x27;d essentially just keep the one with fewest accidentals')