Item(by='ksm1717', descendants=None, kids=[25960784], score=None, time=1611941495, title=None, item_type='comment', url=None, parent=25956502, text='Between pyodide, pyo3, rust-cpython, and rustpython, I think Pyo3 is the best way to drop in rust in a python project for a speed up, if that is your goal. Some of the demos show using python from rust, but to me the biggest feature is without a doubt compiling rust code to native python modules. I&#x27;m using it to speed up image manipulation backed by numpy arrays.<p>There’s a setuptools rust [0] extension package that can be used to hook the compilation of the rust into the wheel building or install from source. Maturin [1] seems to be regarded as the new and improved solution for this, but I found that it’s angled toward the using python from rust.<p>There’s also the rust numpy [2] package by the same org which is fantastic in that it lets you pass a numpy matrix to a native method written in rust and convert it to the rust equivalent data structure, perform whatever transformation you want (in parallel using rayon [3]), and return the array. When building for release, I was seeing speed ups of 100x over numpy on the most matrix mathable function imaginable, and numpy is no joke.<p>I think there is a lot of potential for these two ecosystems together. If there’s not a python package for something, there’s probably a rust crate.<p>If anyone is interested the python package that I&#x27;m building with some rust backend, its called pyrogis [4] for making custom image manipulations through numpy arrays.<p>[0] <a href="https:&#x2F;&#x2F;github.com&#x2F;PyO3&#x2F;setuptools-rust" rel="nofollow">https:&#x2F;&#x2F;github.com&#x2F;PyO3&#x2F;setuptools-rust</a><p>[1] <a href="https:&#x2F;&#x2F;github.com&#x2F;PyO3&#x2F;maturin" rel="nofollow">https:&#x2F;&#x2F;github.com&#x2F;PyO3&#x2F;maturin</a><p>[2] <a href="https:&#x2F;&#x2F;github.com&#x2F;PyO3&#x2F;rust-numpy" rel="nofollow">https:&#x2F;&#x2F;github.com&#x2F;PyO3&#x2F;rust-numpy</a><p>[3] <a href="https:&#x2F;&#x2F;github.com&#x2F;rayon-rs&#x2F;rayon" rel="nofollow">https:&#x2F;&#x2F;github.com&#x2F;rayon-rs&#x2F;rayon</a><p>[4] <a href="https:&#x2F;&#x2F;github.com&#x2F;pierogis&#x2F;pierogis" rel="nofollow">https:&#x2F;&#x2F;github.com&#x2F;pierogis&#x2F;pierogis</a>')