Item(by='daenz', descendants=None, kids=[24672693], score=None, time=1601736860, title=None, item_type='comment', url=None, parent=24672364, text='It&#x27;s been awhile since I&#x27;ve looked at the code, but take a look at the code around this <a href="https:&#x2F;&#x2F;github.com&#x2F;amoffat&#x2F;metabrite-receipt-tests&#x2F;blob&#x2F;master&#x2F;blender&#x2F;receipts.py#L269-L285" rel="nofollow">https:&#x2F;&#x2F;github.com&#x2F;amoffat&#x2F;metabrite-receipt-tests&#x2F;blob&#x2F;mast...</a> for mapping from UV space to image space<p>TLDR: using a KD-tree, I find the face containing the UV coordinate. Then I transform the UV coordinate to barycentric coordinates within that containing face, then put that barycentric coordinate through the local -&gt; world -&gt; view -&gt; perspective transform matrices')