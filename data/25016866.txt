Item(by='user5994461', descendants=None, kids=[25018998], score=None, time=1604771929, title=None, item_type='comment', url=None, parent=25012902, text='Actually, the implementation of arenas is broken in glibc malloc() when running on multicore systems.<p>I have been debugging that problem for some time. The charts in the article are quite similar to the ones I got when I initially came across the problem.<p>Wonder how many threads does their process have? and how many cores on the machine?<p>There are environment variables that can adjust the behavior of malloc. They should try setting MALLOC_ARENA_MAX=4 and see if the memory usage goes down.')