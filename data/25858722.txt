Item(by='UncleMeat', descendants=None, kids=[25859410], score=None, time=1611237026, title=None, item_type='comment', url=None, parent=25857845, text='Tons of toy compilers are written in functional languages. Standard ML or ocaml are probably the first thing that grad students would reach for when developing a compiler from scratch that isn&#x27;t intended for production purposes.<p>However, in the real world everybody is using GCC&#x2F;LLVM because they have rich open source communities and your work <i>might actually get used by humans</i>. LLVM in particular is nicely architected to be easily extensible so you can focus on just the compiler feature you want rather than bothering with all the other stuff needed around it. So then you are bound to the architectural decisions of these platforms. GCC in particular is a bit of a spaghetti mess and was designed long before pure functional design was trendy so you just sort of need to live with it.<p>Immutable IR is also a big challenge since the IR tends to actually be quite large. Making copies of it is sloooow.')