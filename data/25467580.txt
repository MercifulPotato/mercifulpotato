Item(by='jeroenhd', descendants=None, kids=[25467916], score=None, time=1608302952, title=None, item_type='comment', url=None, parent=25465946, text='I&#x27;ve worked for a company that specializes in blocking certain websites for certain people (porn blocking stuff). The company used MitM-attacks with a custom TLS certificate, just like the Kazakh government uses.<p>There&#x27;s two ways to deal with certificate pinning. The first is to apply SNI sniffing (which will work until eSNI makes its way into more software) to determine that a certain domain is related to a certain, permissible service and bypass the decryption filter. This can be coupled with certificate validation to prevent domain fronting.<p>The second method requires rooting the device and using a tool like Frida to automatically disable any validation checks. On Android and iOS there are special APIs to do certificate pinning but not all apps leverage them.<p>Many apps will also work fine if you install the CA to the system partition instead of using the user store. App developers often don&#x27;t know that certificate authorities are even a thing that can be managed by the user, let alone that the set can be extended, so most apps use the default setting, which has been to only trust system certificates. This was changed back during the release of Android 7, before that time all apps defaulted to trusting user-installed certificates.<p>The third option, which any company or government can take to get off easily, is to blame the app for trying to break your righteous surveillance and to leave the apps broken. Netflix can be made to work any time, all they need to do is release a patch that disables certificate pinning, so if the government can get the public to blame the apps, they get off scot free.<p>The first method works transparently to applications. The second requires physical access to the device and rooting the OS, which can be impossible. The third only works if the people you&#x27;re surveilling take your side. I&#x27;d guess they pick option 1 or 3.')