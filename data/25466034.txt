Item(by='skissane', descendants=None, kids=None, score=None, time=1608290550, title=None, item_type='comment', url=None, parent=25464324, text='&gt; What&#x27;s the reason that it can&#x27;t act like a filesystem image, and keep everything in one file?<p>SQLite actually provides an example VFS which stores everything in one file, except the one file has to be of fixed size – <a href="https:&#x2F;&#x2F;www.sqlite.org&#x2F;src&#x2F;doc&#x2F;trunk&#x2F;src&#x2F;test_onefile.c" rel="nofollow">https:&#x2F;&#x2F;www.sqlite.org&#x2F;src&#x2F;doc&#x2F;trunk&#x2F;src&#x2F;test_onefile.c</a><p>It is intended as an example of how SQLite can be used on an embedded system which has no filesystem, just a raw disk.<p>I think someone could create a VFS which stored everything in one file without the fixed size limitation. I think you&#x27;d need to have three types of pages in the file – data, journal, and metadata (which marks which pages are of which type, using a bitmap or extent list or whatever). The VFS would present two separate files, data and journal, but actually store them as one file containing these three types of pages. You&#x27;d need to think carefully about the ordering of updates to the three page types to ensure atomicity in the case of a crash. A fair amount of work, but doable if someone wanted to. (Maybe even the SQLite developers might do it if they thought it was a good idea, or if someone was willing to pay them to do it.)')