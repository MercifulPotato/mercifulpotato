Item(by='jmillikin', descendants=None, kids=[25246744], score=None, time=1606646918, title=None, item_type='comment', url=None, parent=25244287, text='Product teams deploying code to our Kubernetes clusters are strongly recommended to use resource limits, and we&#x27;re going to make that a hard requirement at some point.<p>We haven&#x27;t noticed unusual CPU throttling, though we do have some workloads that turned out to be burstier than expected and had to adjust their CPU limits to match.<p>Note that when it comes to subtle Linux thread scheduling behavior, your experience will depend on which runtime you use, and if using runc then which version of the Linux kernel your workers run. We weren&#x27;t affected by the CFS bug introduced in Linux v4.18 because we never ran Kubernetes workloads on a machine with the affected kernel, and if a similar bug occurs in the future it might not affect workloads running within gVisor or Firecracker.<p>Additionally, Stripe has historically cared more about security than efficiency. This lead to an architecture where services run on dedicated VMs, which naturally strands capacity and reduces the impact of bugs that appear at high utilization and&#x2F;or high core count.')