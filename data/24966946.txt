Item(by='franky47', descendants=None, kids=[24967280], score=None, time=1604316998, title=None, item_type='comment', url=None, parent=24966368, text='This kind of encryption-at-rest scheme becomes an absolute necessity when cryptographic secrets have to be stored, such as 2FA TOTP secret keys or recovery codes.<p>Encrypting the email addresses and any Personally Identifiable Information on your users may also be a good practice, to limit which eyes can actually see the plaintext data (database provider, former developers without rotated credentials, an old backup left over..).<p>One issue with this though could be the inability to use the encrypted field for queries (eg: select * from users where email = &#x27;foo@bar.com&#x27;), but OP&#x27;s solution of hashing can help here: store the email encrypted, its hash in clear text, and do a query on the hash.')