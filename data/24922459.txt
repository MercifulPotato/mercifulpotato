Item(by='tayistay', descendants=None, kids=[24922642], score=None, time=1603910090, title=None, item_type='comment', url=None, parent=24921986, text='C++ gives you enough access control so you can expose things just for testing if you want (make the test a friend, encapsulate the functions into another class). You can do this without breaking encapsulation.<p>If the functions are capturing a lot of variables, then I would try to reconsider the design. Usually things aren&#x27;t irreducibly complex.<p>I don&#x27;t exactly follow your last paragraph, but tests aren&#x27;t just something you throw away when they pass. So if I were to write tests for the helper functions, I wouldn&#x27;t delete those tests on a refactoring pass in order to use nested functions.')