Item(by='johndough', descendants=None, kids=[25180384], score=None, time=1606070221, title=None, item_type='comment', url=None, parent=25178132, text='In a similar spirit, overloading functions based on the <i>number</i> of parameters. Even works with tcc.<p><pre><code>    #include &lt;stdio.h&gt;\n    #define CONCAT2(a, b) a##b\n    #define CONCAT(a, b) CONCAT2(a, b)\n    #define COUNT_ARGS2(a0, a1, a2, a3, a4, a5, a6, a7, a8, N, ...) N\n    #define COUNT_ARGS(...) COUNT_ARGS2(__VA_ARGS__, 9, 8, 7, 6, 5, 4, 3, 2, 1)\n    #define foo(...) CONCAT(foo_, COUNT_ARGS(__VA_ARGS__))(__VA_ARGS__)\n\n    void foo_1(const char *a){\n        printf(&quot;one arg: %s\\n&quot;, a);\n    }\n\n    void foo_2(int a, int b){\n        printf(&quot;two args: %i and %i\\n&quot;, a, b);\n    }\n\n    int main(){\n        foo(&quot;asdf&quot;);\n        foo(314159, 271828);\n    }\n</code></pre>\nSmall gotcha: Does not work with zero parameters, but functions with zero parameters probably mess with global state and that&#x27;s evil anyway.')