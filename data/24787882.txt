Item(by='will_byrd', descendants=None, kids=None, score=None, time=1602765075, title=None, item_type='comment', url=None, parent=24787643, text='One thing I love about this wonderful story is that it shows you can use constraint logic programming to solve a problem (in a hilariously roundabout way), by using a tower of languages:<p>Level 0: PROLOG<p>Level 1: (non-relational implementation of) LISP<p>Level 2: (purely functional? implementation of) microKanren<p>Level 3: (purely relational implementation of) tree balancing<p>In [0] we invert this approach, also arriving at code that behaves relationally:<p>Level 0: LISP<p>Level 1: (purely functional implementation of) miniKanren<p>Level 2: (purely relational implementation of) LISP<p>Level 3: (purely functional implementation of) tree balancing (or whatever)<p>At first glance it may seem goofy to implement LISP-within-miniKanren-within-LISP.  After all, we started with LISP!  However, the LISP we end up with <i>inherits</i> the relationality of its miniKanren implementation, which means we can encode our problem in LISP, but have miniKanren apply the search and constraint solving under the hood.<p>The last example in [0] goes further:<p>Level 0: LISP<p>Level 1: (purely functional implementation of) miniKanren<p>Level 2: (purely relational implementation of) LISP<p>Level 3: (purely functional implementation of) LISP<p>The extra level of LISP interpretation allows us to put logic variables representing unknown values in new positions, giving us increased expressivity, at a significant performance cost.<p>If we can figure out how to apply staged evaluation&#x2F;partial evaluation&#x2F;supercompilation&#x2F;etc. effectively to these towers of interpreters to reduce the interpretive overhead, these &quot;jokes&quot; may turn out to be surprisingly useful.<p>[0] <a href="https:&#x2F;&#x2F;dl.acm.org&#x2F;doi&#x2F;10.1145&#x2F;3110252" rel="nofollow">https:&#x2F;&#x2F;dl.acm.org&#x2F;doi&#x2F;10.1145&#x2F;3110252</a> and <a href="http:&#x2F;&#x2F;io.livecode.ch&#x2F;learn&#x2F;gregr&#x2F;icfp2017-artifact-auas7pp" rel="nofollow">http:&#x2F;&#x2F;io.livecode.ch&#x2F;learn&#x2F;gregr&#x2F;icfp2017-artifact-auas7pp</a>')