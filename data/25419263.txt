Item(by='Diederich', descendants=None, kids=None, score=None, time=1607962708, title=None, item_type='comment', url=None, parent=25416208, text='Several others have shared their &#x27;I broke things&#x27; experiences, and so I feel compelled to weigh in.<p>Many years ago, I was directly responsible for causing a substantial percentage of all credit&#x2F;debit&#x2F;EBT authorizations from every WalMart store world-wide to time out, and this went on for several days straight.<p>On the ground, this kind of timeout was basically a long delay at the register.  Back then, most authorizations would take four or five seconds.  The timeout would add more than 15 seconds to that.<p>In other words, I gave many tens of millions of people a pretty bad checkout experience.<p>This stat (authorization time) was and remains something WalMart focuses quite heavily on, in real time and historically, so it was known right away that something was wrong.  Yet it took us (Network Engineering) days to figure it out.  The root cause summary: I had written a program to scan (parallelized) all of the store networks for network devices.  Some of the addresses scanned were broadcast and network addresses, which caused a massive amplification of return traffic which flooded the satellite networks.  Info about why it took so long to discover is below.<p>Back in the 1990s, when this happened, all of the stores were connected to the home office via two way Hughes satellite links.  This was a relatively bandwidth limited resource that was managed very carefully for obvious reasons.<p>I had just started and co-created the Network Management team with one other engineer.  Basically prior to my arrival, there had been little systematic management of the network and network devices.<p>I realized that there was nothing like a robust inventory of either the networks or the routers and hubs (not switches!) that made up those networks.<p>We did have some notion of store numbers and what network ranges were assigned to them, but that was inaccurate in many cases.<p>Given that there were tens of thousands of networks ranges in question, I wrote a program creatively called &#x27;psychoping&#x27; that would ICMP scan all of those network ranges with adjustable parallelism.<p>I ran it against the test store networks, talked it over with the senior engineers, and was cleared for takeoff.<p>Thing is, I didn&#x27;t start it right away; some other things came up that I had to deal with.  I ended up started it over a week after review.<p>Why didn&#x27;t this get caught right away?  Well, when timeouts started to skyrocket across the network, many engineers started working on the problem.  None of the normal, typical problems were applicable.  More troubling, none of the existing monitoring programs looked for ICMP at all, which is what I was using exclusively.<p>So of course they immediately plugged a sniffer into the network and did data captures to see what was actually going on.  And nothing unusual showed up, except a lot of drops.<p>We&#x27;re talking &gt; 20 years ago, so know that &quot;sniffing&quot; wasn&#x27;t the trivial thing it is now.  Network Engineering had a few extremely expensive Data General hardware sniffers.<p>And to these expensive sniffers, the traffic I was generating was invisible.<p>Two things: the program I wrote to generate the traffic had a small bug and was generating very slightly invalid packets.  I don&#x27;t remember the details, but it had something to do with the IP header.<p>These packets were correct enough to route through all of the relevant networks, but incorrect enough for the Data General sniffer to not see them.<p>So...there was a lot of &#x27;intense&#x27; discussions between Network Engineering and all of the relevant vendors.  (Hughes, ACC for the routers, Synoptics and ODS for the hubs)<p>In the end, a <i>different</i> kind of sniffer was brought in, which was able to see the packets I was generating.  I had helpfully put my userid and desk phone number in the packet data, just in case someone needed to track raw packets back to me.<p>Though the impact was great, and it scared me to death, there were absolutely no negative consequences.  WalMart Information Systems was, in the late 1990s, a very healthy organization.')