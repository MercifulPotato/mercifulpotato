Item(by='vardump', descendants=None, kids=None, score=None, time=1603213388, title=None, item_type='comment', url=None, parent=24839624, text='Source code here: <a href="https:&#x2F;&#x2F;github.com&#x2F;lemire&#x2F;validateutf8-experiments&#x2F;tree&#x2F;master&#x2F;src" rel="nofollow">https:&#x2F;&#x2F;github.com&#x2F;lemire&#x2F;validateutf8-experiments&#x2F;tree&#x2F;mast...</a><p>Looks like a very tiny LUT, perhaps it&#x27;s all in SIMD registers.<p>In any case, for anything to go at 12 GB&#x2F;s, the LUT needs to be tiny and pretty much in SIMD register(s).<p>Any indirect memory accesses would drastically slow things down, even if it&#x27;s in L1 cache [0]. At least by an order of magnitude.<p>Even when using something like x86 V[P]GATHER [0] (element-wise vector random access load). X86 gather is currently only slightly better than scalar code, even if all the data is on same cache line present in L1D!<p>[0]: <a href="https:&#x2F;&#x2F;www.felixcloutier.com&#x2F;x86&#x2F;vpgatherdd:vpgatherqd" rel="nofollow">https:&#x2F;&#x2F;www.felixcloutier.com&#x2F;x86&#x2F;vpgatherdd:vpgatherqd</a>')