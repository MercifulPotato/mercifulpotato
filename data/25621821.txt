Item(by='susam', descendants=None, kids=[25625251, 25621987, 25621892, 25621922, 25621889], score=None, time=1609682855, title=None, item_type='comment', url=None, parent=25621519, text='While domain registrants should certainly be careful that their DNS records point to trusted servers only and should definitely remove any stale DNS entries, we should also configure our web-servers to return successful response for specific hostnames only and error&#x2F;no response for everything else. Here is roughly how the configuration for, say, <a href="https:&#x2F;&#x2F;example.com&#x2F;" rel="nofollow">https:&#x2F;&#x2F;example.com&#x2F;</a>, would look like:<p><pre><code>  sudo mkdir &#x2F;etc&#x2F;nginx&#x2F;ssl\n  sudo openssl req -x509 -newkey rsa:4096 -nodes -keyout &#x2F;etc&#x2F;nginx&#x2F;ssl&#x2F;key.pem -out &#x2F;etc&#x2F;nginx&#x2F;ssl&#x2F;cert.pem -days 365 -subj &quot;&#x2F;CN=localhost&quot;\n\n  echo &quot;server {\n      listen 80 default_server;\n      listen [::]:80 default_server;\n      listen 443 ssl default_server;\n      listen [::]:443 ssl default_server;\n      ssl_certificate &#x2F;etc&#x2F;nginx&#x2F;ssl&#x2F;cert.pem;\n      ssl_certificate_key &#x2F;etc&#x2F;nginx&#x2F;ssl&#x2F;key.pem;\n      return 444;\n  }&quot; &gt; &#x2F;etc&#x2F;nginx&#x2F;sites-enabled&#x2F;default\n\n  echo &quot;server {\n      listen 443 ssl;\n      listen [::]:443 ssl;\n      server_name example.com;\n      ssl_certificate &#x2F;etc&#x2F;letsencrypt&#x2F;live&#x2F;example.com&#x2F;fullchain.pem;\n      ssl_certificate_key &#x2F;etc&#x2F;letsencrypt&#x2F;live&#x2F;example.com&#x2F;privkey.pem;\n      root &#x2F;var&#x2F;www&#x2F;example.com;\n  }\n  server {\n      listen 80;\n      listen [::]:80;\n      server_name example.com;\n      return 301 https:&#x2F;&#x2F;example.com$request_uri;\n  }&quot; &gt; &#x2F;etc&#x2F;nginx&#x2F;sites-enabled&#x2F;example.com\n</code></pre>\nThe self-signed certificate for the default_server is okay. The client will get a TLS certificate issue. That&#x27;s fine because we don&#x27;t anyone to be using the default_server anyway. If the client decides to proceed despite the TLS certificate issue, then the &#x27;return 444&#x27; directive would close the connection without response.')