Item(by='andrewf', descendants=None, kids=[24736423], score=None, time=1602297511, title=None, item_type='comment', url=None, parent=24735788, text='It&#x27;s common to put a connection pooler such as pgbouncer in front of postgres, usually in the same datacenter&#x2F;cloud region, sometimes on the same machine.<p>In that case, the behavior you describe will happen between the clients and the pooler, then the pooler will mux the clients&#x27; queries onto a smaller number of connections to the database.<p>In many configs, once all the pgbouncer -&gt; postgres connections are used, any more incoming queries will be queued. Each time pgbouncer gets a result from postgres, it pulls another query off the queue, so if queuing is sustained you&#x27;ll see back-to-back requests on the pgbouncer -&gt; postgres connections without gaps in between.<p>I agree there&#x27;s no general CPU core guidance here. Gold standard is to representatively load test your app, safely beyond your target load, or to destruction if nobody can tell you what the target load is.')