Item(by='mbakke', descendants=None, kids=None, score=None, time=1606211605, title=None, item_type='comment', url=None, parent=25196759, text='&gt; This is from 5 minutes ago. I have both glibc-locales and glibc-utf8-locales installed:<p>&gt; &#x2F;gnu&#x2F;store&#x2F;29jhbbg1hf557x8j53f9sxd9imlmf02a-bash-minimal-5.0.7&#x2F;bin&#x2F;bash: warning: setlocale: LC_ALL: cannot change locale (en_US.utf8)<p>Right.  The problem here is that you haven&#x27;t updated the guix-daemon since you installed Guix.  To get the fix rekado mentioned, you need to &#x27;guix pull &amp;&amp; guix upgrade&#x27; as root and restart the daemon.<p>(I can tell because you&#x27;re using bash 5.0.7 from 1+ year ago)<p>You can also change the systemd service to use guix-daemon from your users Guix instead of &#x27;root&#x27;.  Arguably the installer could ask whether to do this, although users probably won&#x27;t understand the security implications.<p>&gt; And, as I&#x27;m testing, I also notice that even for operations which require no changes, a guix pull takes 5 or more minutes over the equivalent nix operation. Why am I building guix-system for 5 minutes with nothing to be done?<p>That happens when there are no substitutes available for &#x27;guix pull&#x27;.  Work is ongoing in improving the compiler performance, but this is mostly &quot;bad luck&quot; (because you pulled a commit not yet built by the CI).<p>Wrt scriptability of the installer, IIUC the problem is that it returns &quot;1&quot; when a previous installation was detected?  You can easily account for that in your &quot;dotfiles up&quot; script, no?  Similarly, if you add the GPG key to your dotfiles you no longer have to download it every time.')