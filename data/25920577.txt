Item(by='bawolff', descendants=None, kids=None, score=None, time=1611692460, title=None, item_type='comment', url=None, parent=25919450, text='Those would be much worse strategies than even just not supporting hsts at all.<p>&gt; Or to randomly respect the cache<p>If the goal is to manipulate a single request to insert malicious js that gets cached, you only need a single non tls request. If you&#x27;re an on path attacker, you can probably get the user to request things multiple times (e.g. randomly break and unvlbreak internet connectivity) until you get lucky with an unencrypted connection. If you&#x27;re trying to make a super cookie you can just repeat and average out the random failures (random pertubation almost never prevents a side channel leak, at most it makes it more expensive)<p>&gt;Or to simply make every request to both the TLS and non-TLS port but do so in parallel and discard the non-TLS response if the domain was in the HSTS cache.<p>Fails at confidentiality 100% of the time')