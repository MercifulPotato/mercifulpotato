Item(by='rurban', descendants=None, kids=[25627672, 25626680, 25633560, 25626578], score=None, time=1609713444, title=None, item_type='comment', url=None, parent=25620445, text='What Eli (and most others) is missing, are two more common strategies to avoid this dispatcher:<p>1st: implement the ops basic block as linked list, not an array of opcodes. Thus the next op can be called directly. No lookup and no indirect call.<p>2nd: inline the op insn into the basic block array, like a jit or just llvm byte code or similar. No jumps, everything stays in the i-cache.<p>There are more, even faster options, like luajit. Dispatch tables are pretty desperate in 2020. With 20 ops and short op insns (as in lua) everything fits into the icache. With fixed registers you can be pretty fast.')