Item(by='petethepig', descendants=None, kids=[25741930, 25740963, 25741324, 25741823, 25746052], score=None, time=1610413285, title=None, item_type='comment', url=None, parent=25737611, text='This happens because there&#x27;s NAT (network address translation) happening somewhere.<p>Without NAT the only 2 parties that need to know anything about a TCP connection are client and server.<p>With NAT you have this problem where the router now also has to keep track of opened TCP connections.<p>E.g if you have a router with local IP 10.0.0.1 and external IP 30.0.0.1 and you are 10.0.0.2:55000 connecting to 230.0.0.1:443 router will have to allocate a port on it&#x27;s external interface (let&#x27;s say 56000) and remember it (this is the key part). So the connection will look like this:<p>10.0.0.2:55000 &lt;-&gt; NATing router 10.0.0.1 - 30.0.0.1:56000 &lt;-&gt;  230.0.0.1:443<p>When router receives packets on 30.0.0.1:56000 it has to remember to redirect them to 10.0.0.2:55000.<p>Memory is a limited resource so you can&#x27;t just have an unlimited number of these opened connections floating around. This also makes your router vulnerable to an attack where an attacker can just open a bunch of connections and never close them, making your router eventually run out of memory.<p>So the classic solution to this problem is to use an LRU cache. So when your router is close to running out of space you just drop the connection that has been idling the longest.<p>Unfortunately, a) some routers are less sophisticated and will still drop your connections even if you do keep-alives and such, b) no matter what you do, memory is a finite resource and if the router doesn&#x27;t have a lot of RAM, connections will be dropped.<p>¯\\_(ツ)_&#x2F;¯')