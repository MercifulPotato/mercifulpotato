Item(by='asheldon', descendants=None, kids=None, score=None, time=1611733144, title=None, item_type='comment', url=None, parent=25924795, text='I agree. It would be simpler to shuffle the list of people, then split the list in half.<p>Here&#x27;s a proof this algorithm doesn&#x27;t work by counter-example (N=6)<p>Consider a list of 6 elements. Elements 5 and 6 must be in the same bucket 50% of the time and different buckets 50% of the time. For this to be true, after we place the first 4 elements into their buckets according to this algorithm, there must be space left in both buckets 50% of the time and in only one bucket 50% of the time.<p>Sequences of the first 4 coin flips where neither bucket is filled, followed by possible ending sequences, and the odds of the prefix.<p>AABB(AB, BA) = 1&#x2F;16th<p>ABAB(AB, BA) = 1&#x2F;16th<p>ABBA(AB, BA) = 1&#x2F;16th<p>BBAA(AB, BA) = 1&#x2F;16th<p>BABA(AB, BA) = 1&#x2F;16th<p>BAAB(AB, BA) = 1&#x2F;16th<p>Total: 3&#x2F;8ths<p>Sequences of the first 3-4 coin flips where one bucket is filled, followed by possible ending sequences, and the odds of the prefix:<p>AAA(BBB) = 1&#x2F;8th<p>BBB(AAA) = 1&#x2F;8th<p>AABA(BB) = 1&#x2F;16th<p>ABAA(AA) = 1&#x2F;16th<p>ABBB(AA) = 1&#x2F;16th<p>BBAB(AA) = 1&#x2F;16th<p>BABB(AA) = 1&#x2F;16th<p>BAAA(BB) = 1&#x2F;16th<p>Total: 5&#x2F;8ths<p>Since one bucket is filled 5&#x2F;8ths of the time after 4 elements are processed according to this algorithm, the final two elements will be in the same bucket 5&#x2F;8ths of the time, not the expected 4&#x2F;8ths of the time.')