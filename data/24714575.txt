Item(by='qsort', descendants=None, kids=[24716829], score=None, time=1602118658, title=None, item_type='comment', url=None, parent=24714336, text='My position is that the preprocessor (at least as far as textual substitution macros are concerned) was a mistake even considering the technical limitations of the time, unlike features like raw pointers, abundance of undefined behavior, void, etc., that are bad right now but were completely understandable (and likely even better than any other realistic alternative) at the time.<p>constexpr + inline would have covered 99% of the macro use cases. Alternatively, a <i>limited</i> system of AST rewriting wouldn&#x27;t have been significantly harder to write than cpp and would have achieved many of the same goals.<p>As a totally random, non-factual, non-argumentative guess that could be 100% wrong, I believe the idea of the preprocessor was influenced by the general &#x27;unix philosophy&#x27; principle that everything should be treated as text.')