Item(by='gpderetta', descendants=None, kids=None, score=None, time=1610530802, title=None, item_type='comment', url=None, parent=25754278, text='This thread is getting confusing.<p>Your original point was that for binary compatibility you write against the C ABI. I&#x27;m claiming that the C ABI has exactly the same fragile layout limitations and you can use the exact same workarounds in C++ (i.e. only expose pointers or make sure that your layout doesn&#x27;t change).<p>I&#x27;m also claiming that templates are a red herring and have very little to do with ABI.')