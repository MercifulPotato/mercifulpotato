Item(by='morelisp', descendants=None, kids=[25625982], score=None, time=1609713255, title=None, item_type='comment', url=None, parent=25625132, text='&gt; Most C++ code I see has few vtables, and what vtables exist are mostly removed by the compiler. Java-style inheritance hierarchies are not idiomatic in C++.<p>FWIW I feel like this is a fairly recent (good!) development. Up through TR&#x2F;TR1 I think at least half the C++ code I saw was pretty heavy on the &quot;Java envy&quot; and not at all concerned about the cost of dynamic dispatch or memory allocation. Avoiding vtables was derided as part of &quot;C with classes&quot; - today that usually refers more to templates and exceptions but STL implementations were not mature enough and too much code not exception-safe for those to be universally viable back then. Something I heard more than once was that if you had a destructor it should <i>always</i> be virtual just in case someone wanted to subclass it later.')