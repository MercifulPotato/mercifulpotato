Item(by='bzbarsky', descendants=None, kids=[25435412], score=None, time=1608061879, title=None, item_type='comment', url=None, parent=25432691, text='Looking at the code in the DNS service in Firefox, it kinda looks like this for localhost:<p>1) If IPv6 disabled in prefs or caller explicitly requested IPv4 only, 127.0.0.1.<p>2) If localhost explicitly listed in the IPv4-only domains list in prefs, 127.0.0.1.<p>3) If caller explicitly requested IPv6 only, ::1.<p>4) Otherwise both 127.0.0.1 and ::1.<p>See nsHostResolver::InitLoopbackRecord in <a href="https:&#x2F;&#x2F;searchfox.org&#x2F;mozilla-central&#x2F;source&#x2F;netwerk&#x2F;dns&#x2F;nsHostResolver.cpp" rel="nofollow">https:&#x2F;&#x2F;searchfox.org&#x2F;mozilla-central&#x2F;source&#x2F;netwerk&#x2F;dns&#x2F;nsH...</a> and nsDNSService::GetAFForLookup in <a href="https:&#x2F;&#x2F;searchfox.org&#x2F;mozilla-central&#x2F;source&#x2F;netwerk&#x2F;dns&#x2F;nsDNSService2.cpp" rel="nofollow">https:&#x2F;&#x2F;searchfox.org&#x2F;mozilla-central&#x2F;source&#x2F;netwerk&#x2F;dns&#x2F;nsD...</a> for the key.af calculation that goes into that, as far as I can tell.')