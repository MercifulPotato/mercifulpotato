Item(by='asenchi', descendants=None, kids=[24788563], score=None, time=1602764250, title=None, item_type='comment', url=None, parent=24754778, text='This is frighteningly complex and I would not recommend this for reliability concerns. Terraform makes it quite difficult to maintain a structure like this, mostly due to the inability to interpolate module versions.<p>I highly recommend anyone using terraform start with a mono repo. Still use modules and then spread out your components but definitely don&#x27;t try to split them up in separate repos because keeping the version graph together will become a real pain and is easy to mismanage.<p>From there, ensure any logical components have their own separate lock and state file. If you don&#x27;t do this, it is going to be a game of roulette to know when this resource was last run and what might change if you roll it out. It is easy to build your own directed graph between components using data sources. These allow you to have component B read component A&#x27;s state file to get the outputs it needs.<p>All in all, I&#x27;ve found most of the documentation and &quot;best practice&quot; in the terraform community promoting dangerous practices. I talk more about these practices in this podcast[0]<p>[0]: <a href="https:&#x2F;&#x2F;packetpushers.net&#x2F;podcast&#x2F;full-stack-journey-027-understanding-infrastructure-as-code-and-terraform-with-curt-micol&#x2F;" rel="nofollow">https:&#x2F;&#x2F;packetpushers.net&#x2F;podcast&#x2F;full-stack-journey-027-und...</a>')