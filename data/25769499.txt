Item(by='spiffytech', descendants=None, kids=None, score=None, time=1610580705, title=None, item_type='comment', url=None, parent=25769307, text='Containers, and cattle-vs-pets, is about making dirty system state disposable and making apps cookie-cutter and repeatably deployable.<p>But that&#x27;s not the same as saying containers are only suitable for ephemeral workloads&#x2F;data. With persistent storage it&#x27;s not just possible, but I think makes a lot of sense to run something like a database inside a container. My default is to run Postgres etc. in Docker instead of &#x27;apt install postgres&#x27;, because it&#x27;s so much easier to get the right Postgres version with Docker than tracking down whatever unofficial apt repo has the Postgres version I&#x27;m looking for.<p>The key is I do this in <i>Docker</i>, with a basic folder bind mount on the exact same kind of machine I would use if I installed Postgres via &#x27;apt&#x27;. I don&#x27;t do this in Kubernetes or use cloud storage volume adapters. Kubernetes brings a lot of complexity and risk into ops, and that&#x27;s not what you want for a database. Docker is mostly a layered filesystem format plus a cgroups isolation wrapper around native Linux processes. So as long as you&#x27;re not mixing in some <i>other</i> tool that e.g., adds on network traffic routing or something, it&#x27;s basically just Linux with convenience features.<p>Switching from &#x27;apt&#x27; to Docker with maybe a basic docker-compose.yml is an underrated infrastructure pattern. Operating Postgres from Docker feels about as simple as apt-installed Postgres, with no downsides I&#x27;ve seen besides needing Docker at all. It&#x27;s also great for deploying in-house apps; moving workloads from vanilla OS processes with systemd and Ansible or whatever over to plain ol&#x27; Docker (or maybe Dokku) simplifies things every time I do it. It&#x27;s fancy tools that build on top of Docker that make things complicated or risky, but someone rejecting vanilla Docker because they don&#x27;t want to use K8s feels like throwing the baby out with the bathwater.')