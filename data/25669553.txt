Item(by='celrod', descendants=None, kids=[25671254], score=None, time=1610016352, title=None, item_type='comment', url=None, parent=25669155, text='I just ran it again, and got more or less the same results:<p><pre><code>  N = 1000000000, 953.7 MB\n  starting experiments.\n  two  : 29.7 ns\n  two+  : 36.5 ns\n  three: 43.8 ns\n</code></pre>\nThis surprises me. Normally, it does very well in most benchmarks I run.<p>Looking a little closer at the script, it loads numbers from &quot;random&quot;, a vector of 3 million `Int` (this is hard coded, separate from `N`).\nThis vector is about 11.4 MiB.<p>The Tiger Lake CPU has 12 MiB of L3 cache (same as your i7-9750H), so it barely fits. Meanwhile, the L1 cache is 48 KiB and the L2 cache is 1.5 MiB -- huge compared to most recent CPUS, and a lot of benefit in most benchmarks, but at the cost of higher latency.\n<a href="https:&#x2F;&#x2F;www.anandtech.com&#x2F;show&#x2F;16084&#x2F;intel-tiger-lake-review-deep-dive-core-11th-gen&#x2F;4" rel="nofollow">https:&#x2F;&#x2F;www.anandtech.com&#x2F;show&#x2F;16084&#x2F;intel-tiger-lake-review...</a><p>Skylake&#x27;s L3 latency was 26-37 cycles, and in Willow Cove&#x27;s (Tiger Lake), it is 39-45 cycles.\nThat difference by itself isn&#x27;t big enough to account for the difference we&#x27;re seeing, so something else must be going on.')