Item(by='tptacek', descendants=None, kids=None, score=None, time=1608748594, title=None, item_type='comment', url=None, parent=25515615, text='That was the first design I considered. The &quot;distribute the state through the system&quot; thing is the hard part.<p>(There&#x27;s no possibility in our system of routing customer traffic outside of WireGuard, because our entire connectivity fabric is WireGuard; nothing but WireGuard, for instance, would know what to do with an fdaa address, or, for that matter, how to reach an instance&#x27;s IPv4 addresses.)<p>We can filter and drop packets at ingress&#x2F;egress with this design as well.<p>What&#x27;s the advantage you see to having assignments out of per-customer &#x2F;64s?')