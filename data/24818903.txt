Item(by='acqq', descendants=None, kids=[24818953], score=None, time=1603037735, title=None, item_type='comment', url=None, parent=24817594, text='I don&#x27;t think that the Rust version is as different as the author seems to believe.<p>For example: the author writes &quot;What happens if the file has been replaced by, e.g., a pipe or other not regular_file?&quot; But it seems to me  that the same problem -- replacing the file which is regular during the directory walk with the pipe exactly before the said pipe is opened -- can exist in Rust version too.<p>It doesn&#x27;t matter how the syntax looks like, I suspect the equivalent system calls are the same, Rust will also walk the directory at T1 obtaining metainformation, at T2 open the file, even if it is at that moment actually a pipe, and then at T3 check if the metainformation obtained at T1 is a regular file (&quot;file&quot; in the source?), which could still be that? That says to me that the both version can suffer from the same bug.<p>Luckily it&#x27;s something that&#x27;s not going to happen too often in practice, knowing how typical programs don&#x27;t use the same file name for a pipe and a file in rapid succession.')