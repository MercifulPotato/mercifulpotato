Item(by='bob1029', descendants=None, kids=[25222668], score=None, time=1606414994, title=None, item_type='comment', url=None, parent=25220892, text='One thing I have started to realize is that best case latency of an NVMe storage device is starting to overlap with areas where SpinWait could be more ideal than an async&#x2F;await API. I am mostly advocating for this from a mass parallel throughput perspective, especially if batching is possible.<p>I have started to play around with using LMAX Disruptor for aggregating a program&#x27;s disk I&#x2F;O requests and executing them in batches. This is getting into levels of throughput that are incompatible with something like what the Task abstractions in .NET enable. The public API of such an approach is synchronous as a result of this design constraint.<p>Software should always try to work with the physical hardware capabilities. Modern SSDs are most ideally suited to arrangements where all data is contained in an append-only log with each batch written to disk representing a consistent snapshot. If you are able to batch thousands of requests into a single byte array of serialized modified nodes, you can append this onto disk so much faster than if you force the SSD to make individual writes per new&#x2F;modified entity.')