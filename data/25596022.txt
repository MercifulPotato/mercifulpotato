Item(by='vvanders', descendants=None, kids=[25609614], score=None, time=1609442046, title=None, item_type='comment', url=None, parent=25590363, text='Dalvik and ART have different behaviors than traditional Java VMs. Dalvik is aimed at low memory devices, ART trades some memory for speed but still is significantly different(i.e. it doesn&#x27;t do escape analysis). As always benchmarking on hardware is the way to confirm this but I&#x27;ve had numerous cases where free lists or pre-allocated arrays has gained 10-30x performance improvements.<p>Flatbuffers in particular excels here since once you have the ByteBuffer in memory you can immediately start accessing data without needing to do any extensive parsing.<p>Even the official Android docs are very explicit[1] on the allocation point. Allocations are not cheap and even with generational collection you still will blow the 16.6ms frame window for 60 FPS if any of your operations allocate excessively.<p>[1] <a href="https:&#x2F;&#x2F;developer.android.com&#x2F;training&#x2F;custom-views&#x2F;optimizing-view#less" rel="nofollow">https:&#x2F;&#x2F;developer.android.com&#x2F;training&#x2F;custom-views&#x2F;optimizi...</a>')