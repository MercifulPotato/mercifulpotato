Item(by='ncmncm', descendants=None, kids=[25075955], score=None, time=1605216900, title=None, item_type='comment', url=None, parent=25074310, text='I explained the point in the very next paragraph, starting &quot;The point I make...&quot;.<p><i>Sometimes</i> the compiler can guess what operations can be fused, <i>if</i> it knows what hardware the program will run on, <i>and</i> the vendor has revealed those details, <i>and</i> the compiler has incorporated all of them. But almost all programs are built for an ancient target, using a compiler version older than the actual target.<p>When you really care about performance of a program, you compile it yourself, if you can, and add as much &quot;-march=&quot;, &quot;-lto&quot;, etc. hackery as you trust, and measure what difference all the different combinations (which interact!) make, and make sure they didn&#x27;t introduce bugs (which they often do).<p>But, as I noted, even after that there are lots of 2x effects the compiler doesn&#x27;t understand. Many programs don&#x27;t spend all their time in one loop, but almost all spend all their time in loops.')