Item(by='xxs', descendants=None, kids=None, score=None, time=1611162427, title=None, item_type='comment', url=None, parent=25846060, text='Adding&#x2F;advancing is indeed easier. What about going backwards (insert before head or remove from tail), i.e when 0, then length. One way to do it is something like that, assume 2 compliment and there is negative shift left available. Not straightforward:<p><pre><code>  int h = ( -(--head) &gt;&gt;&gt; 31) ^ 1;&#x2F;&#x2F;if head was equal to 1 (and only 1), h = 1, otherwise zero    \n  head += h * len; &#x2F;&#x2F;or shift left, if there is log2 len available; still, mul is a fast operation, unlike div\n</code></pre>\nOf course, it can implemented via branching but that would be a major downside for 1-based idx.')