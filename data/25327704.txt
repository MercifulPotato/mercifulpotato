Item(by='arjun-menon', descendants=None, kids=[25328208, 25328169, 25327940], score=None, time=1607297429, title=None, item_type='comment', url=None, parent=25327476, text='That does make it a bit clearer, but I do hope the compiler optimizes away the redundant curr variable.<p>Now, on a different note, I am a bit puzzled because I don’t see a free(*ptr) call in Linus’ or anyone else’s code. The code, as-is, would cause a memory leak.<p>There’s a need to capture the curr_ref before it’s overwritten, and free it after it’s overwritten.')