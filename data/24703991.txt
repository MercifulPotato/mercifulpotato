Item(by='franky47', descendants=None, kids=None, score=None, time=1602029735, title=None, item_type='comment', url=None, parent=24703026, text='Another interesting approach is the one used in ProtonMail, using the SessionVars trick by Thomas Frank.<p>It combines in-memory storage for XSS safety, and a combination of SessionStorage and `window.name` to split the token into secret random parts, each taking its separate channel, to ensure the token survives a page reload.<p>I wrote about the details on how it works [1] and packed a TypeScript implementation on NPM [2].<p>[1] <a href="https:&#x2F;&#x2F;francoisbest.com&#x2F;posts&#x2F;2019&#x2F;how-to-store-e2ee-keys-in-the-browser" rel="nofollow">https:&#x2F;&#x2F;francoisbest.com&#x2F;posts&#x2F;2019&#x2F;how-to-store-e2ee-keys-i...</a><p>[2] <a href="https:&#x2F;&#x2F;github.com&#x2F;47ng&#x2F;session-keystore" rel="nofollow">https:&#x2F;&#x2F;github.com&#x2F;47ng&#x2F;session-keystore</a>')