Item(by='agallego', descendants=None, kids=None, score=None, time=1607808334, title=None, item_type='comment', url=None, parent=25401806, text='Oh shoot! thank you... fixing the link give me 5 mins.<p>So currently the partition allocator - <a href="https:&#x2F;&#x2F;github.com&#x2F;vectorizedio&#x2F;redpanda&#x2F;blob&#x2F;dev&#x2F;src&#x2F;v&#x2F;cluster&#x2F;partition_allocator.cc#L65-L94" rel="nofollow">https:&#x2F;&#x2F;github.com&#x2F;vectorizedio&#x2F;redpanda&#x2F;blob&#x2F;dev&#x2F;src&#x2F;v&#x2F;clus...</a> - is primitive.<p>But we have a working-not-yet-exposed HTTP admin api on the controller that allows for Out Of Band placement.<p>so the mechanics are there, but not yet integrated w&#x2F; the partition allocator.<p>Thinking that we integrate w&#x2F; k8s more deeply next year.<p>The thinking at least is that at install we generate some machine labels say in &#x2F;etc&#x2F;redpanda&#x2F;labels.json or smth like that and then the partition allocator can take simple constraints.<p>I worked on a few schedulers for www.concord.io with Fenzo on top of mesos 6 years ago and this worked nicely for both &#x27;affinity&#x27;, &#x27;soft affinity&#x27; and anti-affinity constraints.<p>Do you have any thoughts on how you&#x27;d like this exposed?')