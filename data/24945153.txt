Item(by='a1369209993', descendants=None, kids=[24945696], score=None, time=1604081316, title=None, item_type='comment', url=None, parent=24939815, text='Honestly the main feature of Haskell in this regard isn&#x27;t STM-colored functions (as you note, that&#x27;s a <i>bad</i> thing), but rather that it <i>almost</i> supports color-generic functions in the form of `Monad f =&gt; A -&gt; f B -&gt; f C`. Unfortunately, it doesn&#x27;t correctly handle the identity monad `type Id a = a`, instead requiring `newtype Id a = Id a`, so it&#x27;s impossible to write a function that matches both (eg) `A -&gt; B` and `Monad f =&gt; A -&gt; f B`.')