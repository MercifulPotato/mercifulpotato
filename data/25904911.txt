Item(by='gvinciguerra', descendants=None, kids=None, score=None, time=1611591508, title=None, item_type='comment', url=None, parent=25902810, text='Hi @kreeben, the construction is very fast, it can be done in linear time with a single scan of the data. Just to give you some figures, we constructed a PGM-index on 10^12 key-value pairs (8 bytes + 8 bytes) loaded in main memory in less than 3 seconds.<p>About the information that we store, we prefer to say &quot;piecewise linear approximation&quot; because the line segments do not necessarily connect points, and they are not connected to each other. The guarantee of the piecewise linear approx is that each line segment is far from the input points by at most a user-given integer ε. With this guarantee, when we compute the approximate position <i>p</i> of a given query key <i>q</i>, we can always find the true position of <i>q</i> after a fast binary search in the range of positions <i>[p-ε,p+ε]</i>.<p>The piecewise linear model is nothing more than a list of triples (key,slope,intercept). The key is needed because we need to know where a segment starts and where the previous one ends. The <i>slope</i> and the <i>intercept</i> are exactly as you said, the parameters that let us compute the approximate position via p = slope * q + intercept.')