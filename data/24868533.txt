Item(by='akdor1154', descendants=None, kids=[24869374, 24869110], score=None, time=1603454594, title=None, item_type='comment', url=None, parent=24868452, text='It&#x27;s impossible to hook into Python&#x27;s string interpolation system to the degree required for the first to work. JS and Julia can do it, e.g. in JS (with typescript annotations) it&#x27;d just be a matter of defining<p><pre><code>   function Q(stringBits: string[]): Query {\n      for (bit in stringBits) {\n         if (bit is string) {\n            add to sql\n         } else if (bit is Query) {\n            add bit to dependencies\n            add bit.name to sql\n         }\n      }\n   }\n</code></pre>\nBut this cannot be done currently in Python (see PEP-501), so I&#x27;m forcing the user to pass a lambda, which I can get the AST of, with which I can implement the machinery to do the above.<p>Suggestions for improvements are welcome!')