Item(by='masklinn', descendants=None, kids=None, score=None, time=1610478884, title=None, item_type='comment', url=None, parent=25751581, text='The problem of doing that is twofold:<p>* each key now has 3 possible states (true, false, and unset) rather than two<p>* a bool takes 1 byte to store (which may get more problematic due to alignment, I&#x27;ve never checked what the memory layout of go&#x27;s map is so I don&#x27;t know how much of a concern it is there)<p>An empty struct fixes these issues: a key being present means the item is in the set, and an empty struct is zero-sized.<p>edit: apparently go maps are laid out as buckets of 8 entries with all the keys followed by all the values, so there&#x27;s no waste due to padding at least.')