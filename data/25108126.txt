Item(by='marcan_42', descendants=None, kids=[25108179, 25108668], score=None, time=1605502052, title=None, item_type='comment', url=None, parent=25104828, text='It&#x27;s worth noting that these days you <i>can</i> move Windows installs across hardware&#x2F;VMs and fix issues from a live image.<p>I&#x27;m a longtime Linux user and every time I have to do this on Windows I find the documentation poor, but it is possible to do things like load kernel modules (drivers), partition a drive, format a new NTFS filesystem, copy all the files over preserving special filesystem features, reinstall the bootloader, add required additional drivers, ensure the drive assignments are correct, etc. all from a command line prompt which you can pull up from the Windows 10 installer image. The process ends up being very similar to doing the same thing on Linux at a high level, just with different tools.<p>What Windows needs in this regard is something like the Arch Linux wiki.<p>Just in case it&#x27;s useful to someone, here are some pointers:<p>To add critical (e.g. storage) drivers to a mounted Windows install (or image file within installers): dism<p>To modprobe a driver within the live environment: drvload<p>To rsync files over to a new filesystem preserving (almost?) all critical metadata: robocopy (use the latest Windows 10, older versions had trouble with stuff like directory junctions and symlinks; read the manual carefully to figure out what options to use)<p>To fix drive assignments (i.e. fstab): you actually just pull up regedit and edit the registry directly; you copy the (binary) drive ID info from the live instance, mount the registry hive of the target, and paste it there (this isn&#x27;t really morally different from running blkid and then editing fstab by hand to paste a UUID). Search terms: MountedDevices and DosDevices.<p>Fix the bootloader: bootrec is the top level &quot;fix stuff automatically&quot; tool, kind of like grub-install and grub-mkconfig. However, you may have to delete your BCD (grub.conf) first so bootrec can make it fresh, as it often won&#x27;t fix existing bootloader entries with a problem. bcdboot and bcdedit are the lower level tools.')