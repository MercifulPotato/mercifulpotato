Item(by='macdice', descendants=None, kids=[24760167], score=None, time=1602541322, title=None, item_type='comment', url=None, parent=24759783, text='Well, conceptually it happens atomically.  The change is described in a single WAL (write ahead log) record, and data in the buffers representing the table and undo log isn&#x27;t allowed to touch the disk until the WAL is on disk, so in any crash&#x2F;restart scenario that leaves the job half done, we&#x27;ll simply do it again when we replay all changes since the last checkpoint.  A related question is: what happens to the uncommitted change after that?  The system recognises that the change belongs to an uncommitted transaction, and rolls it back, which in this case means that we&#x27;ll copy the old copy back into the main table before allowing any user to access it, and free up the space in the undo log.  This is approximately how most other RDBMSes work.')