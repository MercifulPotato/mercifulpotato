Item(by='tobias3', descendants=None, kids=[25516811], score=None, time=1608725002, title=None, item_type='comment', url=None, parent=25516249, text='My guess is this (compared to ZFS): With a CoW-file system like btrfs you have to problem that you need new file system space to delete something. This is problematic if the file system is full and you want to be able to write to it again by deleting something. ZFS solved this by just saying one can only fill a file system to 90% usage. At some point they even decreased this (during upgrade) and I had the issue that I couldn&#x27;t write to the ZFS file system because this was lowered.<p>Btrfs tries to fully use the space and gets all the associated complexities. Additionally, because data&#x2F;metadata ratio is not fixed one can get into situations where the file system is full and there is no more metadata space.\nFor every action it needs to carefully check if there is enough space to actually perform the action even if the file system is nearly full. Improvements in this area caused this regression.<p>And no Rust wouldn&#x27;t help. How often do you get a kernel Oops, dead lock or memory leak? Rust would help with those.')