Item(by='jwilk', descendants=None, kids=[25056970], score=None, time=1605085649, title=None, item_type='comment', url=None, parent=25056278, text='From the setresuid(2) man page:<p>&gt; <i>An unprivileged process may change its real UID, effective UID, and saved set‐user‐ID, each to one of: the current real UID, the current effective UID or the current saved set‐user‐ID.</i><p>accountsservice did something like setresuid(uid, uid, -1), which set both real and effective UIDs, but kept saved set‐user‐ID as root, so that it could re-gain root privileges later.<p>Setting EUID was the correct course of action; but setting real UID let the unprivileged user kill the process.')