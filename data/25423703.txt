Item(by='sharpneli', descendants=None, kids=[25425892, 25425470], score=None, time=1607981853, title=None, item_type='comment', url=None, parent=25421928, text='I&#x27;m pretty sure there is no UB in the second part. It&#x27;s just LLVM bug. The pointer comparison is valid (pointer to and object and to an another object that&#x27;s one past the end MAY compare equal). The write is valid.<p>Reads and writes to char* always alias everything. Unless the compiler can prove that no writes happened it has to emit a read. So if it &quot;forgets&quot; due to the uintptr_t cast where the char* came from then it must assume that it can be pretty much arbitrary and must emit a read.')