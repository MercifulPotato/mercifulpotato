Item(by='bostik', descendants=None, kids=None, score=None, time=1607163870, title=None, item_type='comment', url=None, parent=25309221, text='&gt; <i>Should CI create a merged branch behind-the-scenes and run tests on that before allowing the branch to be merged?</i><p>The answer to that is: yes. The final test cycle before landing code to master MUST be against the code that would be in master after merging.<p>This is what the better workflow tools do, among other things to prevent these weird error situations. We have Marge-bot for Gitlab. Uber open-sourced their tool for the same some time back.[0] Bors comes up often as a reference, too.[1]<p>0: Discussion at the time: <a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=19692820" rel="nofollow">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=19692820</a><p>1: <a href="https:&#x2F;&#x2F;github.com&#x2F;bors-ng&#x2F;bors-ng" rel="nofollow">https:&#x2F;&#x2F;github.com&#x2F;bors-ng&#x2F;bors-ng</a>')