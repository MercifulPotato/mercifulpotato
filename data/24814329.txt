Item(by='muststopmyths', descendants=None, kids=[24814377, 24814965, 24814446, 24814682, 24814511], score=None, time=1602977924, title=None, item_type='comment', url=None, parent=24813795, text='&gt;Note that host is hardcoded to localhost. This means it should never connect to any machine other than the developer machine. Weâ€™re too tired to figure it out right now. The gremlins won this time.<p>Obviously, somehow the script ran on the database host.<p>some practices I&#x27;ve followed in the past to keep this kind of thing from happening:<p>* A script that deletes all the data can never be deployed to production.<p>* scripts that alter the DB rename tables&#x2F;columns rather than dropping them (you write a matching rollback script ), for at least one schema upgrade cycle. you can always restore from backups, but this can make rollbacks quick when you spot a problem at deployment time.<p>* the number of people with access to the database in prod is severely restricted. I suppose this is obvious, so I&#x27;m curious how the particular chain of events in TFA happened.')