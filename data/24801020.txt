Item(by='leorize', descendants=None, kids=[24809379], score=None, time=1602857831, title=None, item_type='comment', url=None, parent=24800627, text='Yes, we use valgrind for the compiler and stdlib test suite. The testament tool supports this, however it&#x27;s not in widespread use outside of the compiler and stdlib, so documentation is rather sparse.<p>Since Nim uses the C compiler to generate executables, you should be able to use `--passC:-fsanitize=memory --passL:-fsanitize=memory` to enable msan. For maximum effectiveness the flags `-d:useMalloc --gc:orc` should also be used.<p>`-d:useMalloc` tells Nim to allocate memory using libc&#x27;s malloc instead of our TSLF implementation. This should provide adequate compatibility for use with external inspection tools. We do<p>`--gc:orc` because this is one of the only GCs that support -d:useMalloc (the other being arc).')