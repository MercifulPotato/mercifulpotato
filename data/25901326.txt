Item(by='mschuster91', descendants=None, kids=None, score=None, time=1611567880, title=None, item_type='comment', url=None, parent=25898292, text='I just had a look at the actual kernel code (<a href="https:&#x2F;&#x2F;elixir.bootlin.com&#x2F;linux&#x2F;v5.10&#x2F;source&#x2F;drivers&#x2F;usb&#x2F;gadget&#x2F;function&#x2F;f_mass_storage.c" rel="nofollow">https:&#x2F;&#x2F;elixir.bootlin.com&#x2F;linux&#x2F;v5.10&#x2F;source&#x2F;drivers&#x2F;usb&#x2F;ga...</a>), looks like you&#x27;d have to clone it and re-implement it, I&#x27;d go for userspace (possibly via GadgetFS, <a href="https:&#x2F;&#x2F;blog.soutade.fr&#x2F;post&#x2F;2016&#x2F;07&#x2F;create-your-own-usb-gadget-with-gadgetfs.html" rel="nofollow">https:&#x2F;&#x2F;blog.soutade.fr&#x2F;post&#x2F;2016&#x2F;07&#x2F;create-your-own-usb-gad...</a>).')