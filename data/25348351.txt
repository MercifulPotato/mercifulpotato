Item(by='TrueDuality', descendants=None, kids=None, score=None, time=1607448218, title=None, item_type='comment', url=None, parent=25347950, text='Adding in root certificates and performing HTTPS MITM even on your own network is a huge risk on its own. You&#x27;re basically breaking many layers of security such as certificate pinning that just get disabled with any custom root certificate. Those middleboxes will always break client certificate authentication and you&#x27;re trusting that they are checking the various revocation lists they should be (CRL&#x2F;OSCP&#x2F;various built-in blocklists).<p>For your basic premise to work, it also means that the MITM middleboxes will need to support the DoH protocols and support recording, and filtering those responses.<p>Additionally, custom roots certificates will only work on devices that you can actually set a custom root certificate for, a great example is IoT devices. Is your TV suddenly talking to a botnet or was that a legitimate update?<p>We can argue about whether those middleboxes are even sane to deploy (hint: they&#x27;re not), but what is historically true is that they are known to update slowly to new protocols, if at all and are known to cause compatibility issues for traffic that is inherently expected to be unchanged. They&#x27;re enough of a problem at the _TCP_ layer that QUIC was explicitly designed that minimal information is available in the protocol headers so middleboxes would have less to mess with.')