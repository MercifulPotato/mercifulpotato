Item(by='Spivak', descendants=None, kids=[25350589], score=None, time=1607457492, title=None, item_type='comment', url=None, parent=25350293, text='None of this shows up as user-facing any differently than a relational database. No CAP theorem at all.<p>Kafka:<p>User clicks buy and it shows “processing” which behind the scenes posts the buy message and waits for a “confirmed” message. When it’s confirmed user is directed to success! If someone else posts the buy before them they get back a “failed: sold out” message.<p>Relational:<p>User clicks buy and it shows “processing” which behind the scenes tries to get a lock on the db, looks at inventory, updates it if there’s still one available, and creates a row in the purchases table. If all this works the user is directed to success. If by the time the lock was acquired the inventory was zero the server returns “failure: sold out”.')