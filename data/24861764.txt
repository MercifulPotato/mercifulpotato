Item(by='Spivak', descendants=None, kids=[24861998], score=None, time=1603392352, title=None, item_type='comment', url=None, parent=24861283, text='Fair,  I can make the 3rd one more readable. I figured the extra vars would actually help make it clearer. Guess not.<p><pre><code>    - name: Install packages.\n      package: \n        name: [git, httpd, vim] | difference(ansible_facts.packages) | list\n</code></pre>\nThis isn&#x27;t something super specific to Ansible, it&#x27;s the same story all over when libraries have a &quot;bulk&quot; or &quot;batch&quot; api so that you don&#x27;t have to iterate over operations with lots of setup. The package&#x2F;yum&#x2F;apt&#x2F;dnf modules happen to take lists as arguments since you can run &quot;yum install a b c&quot; faster than &quot;for p in a b c; do yum install $p; done&quot;.')