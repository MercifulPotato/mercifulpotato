Item(by='masklinn', descendants=None, kids=[25905199, 25905765], score=None, time=1611590466, title=None, item_type='comment', url=None, parent=25904103, text='&gt; I&#x27;ve heard maybe Daniel J. Bernstein can<p>DJB simply redefines his unsafe code as safe[0] and asserts that you&#x27;re Using It Wrong:<p>--<p>In May 2005, Georgi Guninski published &quot;64 bit qmail fun&quot;, three\nvulnerabilities in qmail (CVE-2005-1513, CVE-2005-1514, CVE-2005-1515): <a href="http:&#x2F;&#x2F;www.guninski.com&#x2F;where_do_you_want_billg_to_go_today_4.html" rel="nofollow">http:&#x2F;&#x2F;www.guninski.com&#x2F;where_do_you_want_billg_to_go_today_...</a><p>Surprisingly, we re-discovered these vulnerabilities during a recent\n  qmail audit; they have never been fixed because, as stated by qmail&#x27;s\n  author Daniel J. Bernstein (in <a href="https:&#x2F;&#x2F;cr.yp.to&#x2F;qmail&#x2F;guarantee.html" rel="nofollow">https:&#x2F;&#x2F;cr.yp.to&#x2F;qmail&#x2F;guarantee.html</a>):<p>&gt; This claim is denied. Nobody gives gigabytes of memory to each\n  qmail-smtpd process, so there is no problem with qmail&#x27;s assumption\n  that allocated array lengths fit comfortably into 32 bits.<p>Indeed, the memory consumption of each qmail-smtpd process is severely\n  limited by default (by qmail-smtpd&#x27;s startup script); for example, on\n  Debian 10 (the latest stable release), it is limited to roughly 7MB.<p>Unfortunately, we discovered that these vulnerabilities also affect\n  qmail-local, which is reachable remotely and is not memory-limited by\n  default (we investigated many qmail packages, and <i>all</i> of them limit\n  qmail-smtpd&#x27;s memory, but <i>none</i> of them limits qmail-local&#x27;s memory).<p>As a proof of concept, we developed a reliable, local and remote exploit\n  against Debian&#x27;s qmail package in its default configuration. This proof\n  of concept requires 4GB of disk space and 8GB of memory, and allows an\n  attacker to execute arbitrary shell commands as any user, except root\n  (and a few system users who do not own their home directory). We will\n  publish our proof-of-concept exploit in the near future.<p>About our new discovery, Daniel J. Bernstein issues the following\n  statement:<p>&gt; <a href="https:&#x2F;&#x2F;cr.yp.to&#x2F;qmail&#x2F;guarantee.html" rel="nofollow">https:&#x2F;&#x2F;cr.yp.to&#x2F;qmail&#x2F;guarantee.html</a> has for many years mentioned\n   qmail&#x27;s assumption that allocated array lengths fit comfortably into\n   32 bits. I run each qmail service under softlimit -m12345678, and I\n   recommend the same for other installations.<p>--<p>[0] <a href="https:&#x2F;&#x2F;www.openwall.com&#x2F;lists&#x2F;oss-security&#x2F;2020&#x2F;05&#x2F;19&#x2F;8" rel="nofollow">https:&#x2F;&#x2F;www.openwall.com&#x2F;lists&#x2F;oss-security&#x2F;2020&#x2F;05&#x2F;19&#x2F;8</a><p>PS: HN&#x27;s markup keeps sucking and making comments unreadable')