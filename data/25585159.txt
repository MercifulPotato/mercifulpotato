Item(by='emj', descendants=None, kids=None, score=None, time=1609357221, title=None, item_type='comment', url=None, parent=25583703, text='That seems semitrivial on Android since at least a decade back, you just need to implement it and find all the edge cases, so I guess there is a reason this is not done already.<p>e.g .\none routing table per interface<p>add rules in global routing table for each new interface that is started:<p><pre><code>  ip rule add from&#x2F;to $IP_OF_IFACE&#x2F;32\\ \n    table $UNIQUE_RT_FOR_IFACE\n  ip route add default via IP_OF_IFACE_GW&#x2F;32\\ \n    dev $IFACE_NAME table $UNIQUE_RT_FOR_IFACE\n\n</code></pre>\nThen when something changes on the iface that is not defaul; 1. remove old configs for that iface, 2. open a socket on the new ip on that iface to test internet connection. 3. If ok: change default in main routing table to the GW that iface uses.')