Item(by='skybrian', descendants=None, kids=[25179878, 25182768, 25180661, 25179596, 25179424], score=None, time=1606065595, title=None, item_type='comment', url=None, parent=25178437, text='I expect that, as with any other type system extension, the more granular your effects are, the more likely you are to run into a “what color is my function” problem. If you have a public API that declares certain effects, you’re stuck with those unless you break backward compatibility.<p>In a practical system, when writing a library and especially an abstract interface, you’d want to be careful what you promise and declare effects that you might need (but currently don’t use), just in case you will need them later.<p>It’s not that easy even to distinguish functions that can fail from those that can’t, if you’re trying to anticipate how a system will evolve. Something that’s in-memory now might change to being done over the network later.')