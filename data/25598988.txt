Item(by='scottlamb', descendants=None, kids=None, score=None, time=1609460390, title=None, item_type='comment', url=None, parent=25596645, text='Interesting to compare with Google&#x27;s approach to the same problems: <a href="https:&#x2F;&#x2F;sre.google&#x2F;sre-book&#x2F;load-balancing-datacenter&#x2F;" rel="nofollow">https:&#x2F;&#x2F;sre.google&#x2F;sre-book&#x2F;load-balancing-datacenter&#x2F;</a><p>In my experience Google&#x27;s deterministic subsetting usually ensures backends have even connection counts. There&#x27;s one significant corner case though: a large backend service that has a large number of small clients, such that client_task_count * subset_size &lt; backend_task_count. Then it basically degrades to random selection. This can happen to infrastructure that supports all of Google&#x27;s products, many of which are relatively tiny.<p>Seems like their &quot;Continuous Ring Coordinates&quot; section onward is designed to address this same problem. I got a bit lost following it though; I might need to read through it sometime my kids are not also wanting my attention...')