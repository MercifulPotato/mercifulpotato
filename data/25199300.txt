Item(by='sly010', descendants=None, kids=None, score=None, time=1606231752, title=None, item_type='comment', url=None, parent=25194988, text='Applications (at least on linux) could call<p><pre><code>  setsockopt(fd, TCP_CORK, 0) &#x2F;&#x2F; uncork\n  setsockopt(fd, TCP_CORK, 1) &#x2F;&#x2F; cork\n</code></pre>\nafter every logical block (request&#x2F;message&#x2F;transaction&#x2F;etc) to get the best of both worlds.<p>Unkorking <i>always</i> releases what&#x27;s in the buffer. (edited for formatting)')