Item(by='tbroadley', descendants=None, kids=[24973220], score=None, time=1604318420, title=None, item_type='comment', url=None, parent=24966397, text='I&#x27;m not sure I see how &quot;parse, don&#x27;t validate&quot; would apply when using a newtypeâ€”would you mind explaining further?<p>I think the main point of this article is that newtypes aren&#x27;t an application of &quot;parse, don&#x27;t validate&quot;. If you validate that user input doesn&#x27;t contain XSS, then wrap it in a `SafeHtml` newtype, that&#x27;s validation, not parsing. The article outlines ways that you could wrap the user input but forget to validate.<p>By contrast, suppose you have a type like `type SafeHtml = TextNode Text | DivNode SafeHtml | ...`. You parse the user input into a value of this type. If the parse fails, it&#x27;s because the user input contained something unsafe. The article contends that it&#x27;s harder to accidentally wrap an unsafe string, since you have to parse a safe HTML string to get a value of type `SafeHtml`.<p>(Although I&#x27;m not sure I buy that last point. With both methods you&#x27;d want to keep the `SafeHtml` type&#x27;s constructors in a module and not export them. Otherwise you could wrap arbitrary text in the newtype or in the `TextNode` constructor. Both seem equally possible to me.)')