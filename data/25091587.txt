Item(by='kmill', descendants=None, kids=None, score=None, time=1605352901, title=None, item_type='comment', url=None, parent=25091544, text='I&#x27;m sure there are subtle bugs, but it seems to work in a simple case:<p><pre><code>  SetAttributes[Have, HoldAll];\n  Have &#x2F;: HoldPattern[CompoundExpression[x___, Have[s_Set], y__]] :=\n    CompoundExpression[x, With[{s}, CompoundExpression[y]]];\n\n\n  In[698]:= (Have[x = 2];\n             Print[x];\n             Have[y = 3];\n             Print[y];\n             x + y)\n\n  During evaluation of In[698]:= 2\n\n  During evaluation of In[698]:= 3\n\n  Out[698]= 5</code></pre>')