Item(by='ericwood', descendants=None, kids=[25300559], score=None, time=1607036101, title=None, item_type='comment', url=None, parent=25289730, text='I guess it&#x27;s a stack in the sense that each additional loop is being pushed onto a stack of sorts. This is how the Ditto looper I use works, and you can even perform the &quot;pop&quot; operation and back out of an additional layer.<p>I&#x27;m working on a digital delay pedal at the moment, and the underlying data structure is really similar in principle to a looper in that it&#x27;s a ring buffer that continually loops around (although a bit more complex since the delay time can change!)<p>In actual production loop pedals I&#x27;m sure there&#x27;s optimizations that can be done, but a naive implementation of the layering would just mean creating additional buffers for each layer, and keeping the read&#x2F;write pointers sync&#x27;d between all of them. The output then just becomes a mixed version of all of the loops.<p>When a phrase extends beyond the loop length and repeats over itself, the buffer for that given layer would read the existing value and write a mixed version of the two signals.')