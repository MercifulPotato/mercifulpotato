Item(by='coder543', descendants=None, kids=[25472612], score=None, time=1608328849, title=None, item_type='comment', url=None, parent=25472530, text='&gt; Wait, so latency over NUMA is too much, but you&#x27;re willing to incur a 100Gb network link?<p>The point is not just the latency, but latency and bandwidth.<p>If the application is relying heavily on the NUMA interconnect to transfer tons of data, it&#x27;s not going to be making efficient use of the processor cores <i>or</i> the RAM bandwidth. It&#x27;s a total all around bust. You&#x27;re just wasting money at that point. ^1<p>If you <i>aren&#x27;t</i> relying heavily on the NUMA interconnect, and each node is operating independently with only small bits of information exchanged across the interconnect, then you&#x27;d save a metric <i>ton</i> of money by switching to separate machines and using just high speed fiber network links -- such as 100Gb.<p>I&#x27;m not saying that network would be <i>better</i> than the NUMA interconnect. I&#x27;m saying that you&#x27;re not going to be having a happy day if you&#x27;re relying on the interconnect for large amounts of data transfer.<p>The only situation where the NUMA set up is better is if you have a need for frequent, low latency communication between NUMA nodes... where <i>very little</i> data is being transferred between nodes, so the entire problem is just latency.<p>At that point, you&#x27;re still suffering a lot by the NUMA interconnect, and it would be better to use larger processors... such as Epyc Rome processors.<p>So you really have to be in a very obscure situation which <i>can&#x27;t</i> fit onto a dual socket Rome server, but <i>can</i> fit within a machine less than 2x larger. (28 cores * 8 sockets is less than 2x larger than 64 cores * 2 sockets)<p>You see how complicated this is and how absurdly niche those Platinum 8-socket machines are? They&#x27;re <i>almost never</i> the right choice.<p>^1: The exception is if you have an <i>even more</i> niche use case that <i>somehow</i> is built for <i>exactly</i> this scenario in mind, and manages to balance everything perfectly. Such a software is almost certainly ridiculously overcomplicated at this point.')