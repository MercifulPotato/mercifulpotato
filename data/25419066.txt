Item(by='scott_s', descendants=None, kids=None, score=None, time=1607961856, title=None, item_type='comment', url=None, parent=25417649, text='The main use case is not <i>forgetting</i> to free resources. It&#x27;s when you do have resource-freeing code, but it&#x27;s tricky to make sure you free only the resources you know for sure you have already allocated. This is common in the Linux kernel. A great example is this function I found at random from fork.c: <a href="https:&#x2F;&#x2F;github.com&#x2F;torvalds&#x2F;linux&#x2F;blob&#x2F;master&#x2F;kernel&#x2F;fork.c#L469" rel="nofollow">https:&#x2F;&#x2F;github.com&#x2F;torvalds&#x2F;linux&#x2F;blob&#x2F;master&#x2F;kernel&#x2F;fork.c#...</a><p>Notice that there are <i>five</i> different goto targets, each for a specific case of what has-and-has-not been allocated. The resources are memory, locks, and even TLB flushing. This code would probably be cleaner with defer.')