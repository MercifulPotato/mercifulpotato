Item(by='zeotroph', descendants=None, kids=[25028520, 25028698, 25029458], score=None, time=1604864982, title=None, item_type='comment', url=None, parent=25020782, text='Using &quot;-march=x86-64-v3&quot; is still a decision which has to be made at compile time. I wonder if the Apple appstore (at least watchOS&#x2F;tvOS) approach of using bitcode as the one-time artifact and then turning that into concrete instructions later would be possible for an entire Linux distribution (Gentoo II). The Mill CPU team wants to use something like that OS-wide to hide&#x2F;emulate  entire missing functionality on lower-tier CPU models.<p>Or the other possibility of compiling for all architecture and then selecting this or that function depending on what the current CPU is, or even hotpatching if the security model allows it. I remember either gcc or glibc having some support for one of these.')