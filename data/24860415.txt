Item(by='aidenn0', descendants=None, kids=None, score=None, time=1603386853, title=None, item_type='comment', url=None, parent=24859451, text='Here&#x27;s a snippet for configuring a systemd timer on NixOS.  Note that if I were to use the systemd configuration language, it would be spread across two files (the timer and the service itself)[1].  If I don&#x27;t have &quot;startAt&quot; in the definition, it won&#x27;t generate the timer file.  If I spell it &quot;statrAt&quot; it will give me an error when I generate it (or in my editor if I have that configured).  Note it&#x27;s possible to fallback on using the json-like syntax to generate the ini-like systemd configuration files manually, which is useful to have when needed, but mostly it&#x27;s about writing fairly simple functions that increase the signal-to-noise of the configuration file by removing boilerplate while at the same time detecting mistakes earlier.<p><pre><code>  systemd.services.tarsnapback  = {\n    startAt = &quot;*-*-* 05:20:00&quot;;\n    path = [ pkgs.coreutils ];\n    environment = {\n      HOME = &quot;&#x2F;home&#x2F;XXXX&quot;;\n    };\n    script = &#x27;&#x27;${pkgs.tarsnap}&#x2F;bin&#x2F;tarsnap -c -f &quot;$(uname -n)-$(date +%Y-%m-%d_%H-%M-%S)&quot; &quot;$HOME&#x2F;ts&quot; &#x27;&#x27;;\n    serviceConfig.User = &quot;XXXX&quot;;\n  };\n</code></pre>\n1: Quick reference if you aren&#x27;t familiar with systemd timers: <a href="https:&#x2F;&#x2F;wiki.archlinux.org&#x2F;index.php&#x2F;Systemd&#x2F;Timers" rel="nofollow">https:&#x2F;&#x2F;wiki.archlinux.org&#x2F;index.php&#x2F;Systemd&#x2F;Timers</a>')