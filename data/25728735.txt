Item(by='magicalhippo', descendants=None, kids=[25729462], score=None, time=1610372636, title=None, item_type='comment', url=None, parent=25728442, text='Ok, so you make pure functions and turn them dirty, so to speak. Makes sense.<p>In our case, almost all core code depends on various parameters, which come from the database.<p>For example, GB recently left the EU so everything involving GB is now processed under different rules, except old stuff which has to be processed under the old rules. Thus being part of EU or not is a date-dependent database query (it already was, not the first time a country&#x27;s EU status has changed).<p>So if I get your explanation correctly, I&#x27;d code the core logic as if these parameters were pure, side-effect free, which would make the core logic side-effect free. In the case above, I&#x27;d pass a function which maps a (pure) date and string into a (pure) bool, to test for EU membership.<p>I&#x27;d then turn that whole thing dirty via the IO thingy, passing &quot;IO parameters&quot; and receiving &quot;IO results&quot;, so I can pass it my EU test function which does a database query.<p>edit: And I presume my &quot;dirty&quot; database-connecting function can also mutate things, so it can do caching. Don&#x27;t want to hit that database too often.')