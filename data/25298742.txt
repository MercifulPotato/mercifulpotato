Item(by='comex', descendants=None, kids=None, score=None, time=1607054513, title=None, item_type='comment', url=None, parent=25287170, text='&gt; An optimizing linker might be able to prove that nobody needs those definitions, and eliminate them — I personally have worked on a linker that did exactly that optimization — but in general your mental model of a linker should be that it won’t do that optimization.<p>Not by default (for some reason), but the major compiler toolchains will all do it if you pass the right flags:<p>- Apple: Pass -dead_strip to linker<p>- Linux&#x2F;ELF: Pass -Wl,--gc-sections to linker and -ffunction-sections -fdata-sections to compiler<p>- MSVC: Pass &#x2F;opt:ref to linker and &#x2F;Gw &#x2F;Gy to compiler<p>(If you&#x27;re building a dynamic library you also want -fvisibility=hidden on the Unix platforms.)')