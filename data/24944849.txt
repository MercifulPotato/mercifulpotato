Item(by='throwawaw', descendants=None, kids=[24948878], score=None, time=1604079815, title=None, item_type='comment', url=None, parent=24944574, text='&gt; Importantly for us, Roam differs from other webapps in that it doesn&#x27;t store all state and history in its backend. Instead, Roam&#x27;s backend just stores a snapshotted Datascript database (updated ~daily as far as I can tell) and the list of transactions since that last snapshot.<p>If I&#x27;m reading this right...\nA) OP was hosed if they didn&#x27;t finish this within ~24 hours. That&#x27;s fun.\nB) I now know why Roam takes a long time to load -- it&#x27;s replaying every edit I made since its last snapshot!<p>Edit:<p>&gt; When a message is more than 16KB, it&#x27;s split into multiple messages without wrapping - so we&#x27;ll need to stitch these bigger messages together. One way to detect a non-split-message is to just try and parse it as JSON - if it&#x27;s valid, we can say it&#x27;s non-split. (There&#x27;s an edge case we&#x27;re unlikely to hit here: if the 16KB chunk just so happens to be valid JSON as well we&#x27;ll be out of luck. Lucky for us, I didn&#x27;t run into this!)<p>This is an extremely inconsequential detail to focus on, but I don&#x27;t see the edge here at all. What&#x27;s an example 16KB string that OP&#x27;s method would actually fail to parse? (Maybe I&#x27;m failing to grok what &quot;without wrapping&quot; means here.)')