Item(by='Galanwe', descendants=None, kids=[24737506], score=None, time=1602318328, title=None, item_type='comment', url=None, parent=24737021, text='I feel stupid but I still don&#x27;t understand what would prevent a C++ compiler to do exactly what you just described.<p>The preprocessor does not have side effects. That means whenever a header is compiled, you could store a hash of all used defines and their checksum. Whenever that file should be read again, compare the checksum of the used defines to the one stored. If they are the same, you can reuse the precompiled header. If not, create a new version of the precompiled header for a different set of defines.<p>99.9% of the time, every single header is included with the exact same set of defines.')