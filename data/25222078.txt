Item(by='smcameron', descendants=None, kids=None, score=None, time=1606412777, title=None, item_type='comment', url=None, parent=25222002, text='Oh yeah, iirc, the 1M IOPS driver was a block driver.  For the SCSI over PCIe stuff, there was the big problem at the time that the entire SCSI layer in the kernel was a bottleneck, so you could make the driver as fast as you wanted, but your requests were still coming through a single queue managed by locks, so you were screwed.  There was a whole ton of work done by Christoph Hellwig, Jens Axboe and others to make the SCSI layer &quot;multiqueue&quot; around that time to fix that.')